(function(){var e={2634:function(){},5921:function(e,t,o){"use strict";var a=o(5130),s=o(6768);const n={class:"center"};function i(e,t,o,a,i,l){const r=(0,s.g2)("TopBar"),c=(0,s.g2)("RouterView"),d=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.bF)(r),(0,s.Lk)("main",null,[(0,s.bF)(c)]),(0,s.Lk)("footer",n,[(0,s.bF)(d,{to:"/debug"},{default:(0,s.k6)((()=>t[0]||(t[0]=[(0,s.Lk)("p",null," Â© 2024 Aleksi Malkki ",-1)]))),_:1})])],64)}function l(){const e=document.documentElement.classList.toggle("dark-mode");localStorage.setItem("darkMode",e);const t=new CustomEvent("darkModeChange",{detail:{darkModeEnabled:e}});window.dispatchEvent(t)}function r(){"true"===localStorage.getItem("darkMode")?document.documentElement.classList.add("dark-mode"):"false"===localStorage.getItem("darkMode")?document.documentElement.classList.remove("dark-mode"):window.matchMedia("(prefers-color-scheme: dark)").matches?c("on"):c("off"),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(e=>{e.matches?c("on"):c("off")}))}function c(e){if("on"===e){document.documentElement.classList.add("dark-mode"),localStorage.setItem("darkMode",!0);const e=new CustomEvent("darkModeChange",{detail:{darkModeEnabled:!0}});window.dispatchEvent(e)}else{document.documentElement.classList.remove("dark-mode"),localStorage.setItem("darkMode",!1);const e=new CustomEvent("darkModeChange",{detail:{darkModeEnabled:!1}});window.dispatchEvent(e)}}var d=o(4232);const u={id:"top-bar"},h={id:"top-bar-content"},p={class:"top-bar-side"},m={class:"top-bar-side"};function g(e,t,o,a,n,i){const l=(0,s.g2)("router-link"),r=(0,s.g2)("IconDarkMode"),c=(0,s.g2)("IconMenu");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.Lk)("div",u,[(0,s.Lk)("div",h,[(0,s.Lk)("div",p,[(0,s.bF)(l,{class:"website-name",to:"/"},{default:(0,s.k6)((()=>t[4]||(t[4]=[(0,s.eW)("The Dashboard")]))),_:1})]),(0,s.Lk)("div",m,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.links,(e=>((0,s.uX)(),(0,s.Wv)(l,{key:e.to,class:"nav-button desktop-button",to:e.to},{default:(0,s.k6)((()=>[(0,s.eW)((0,d.v_)(e.display),1)])),_:2},1032,["to"])))),128)),(0,s.Lk)("button",{onClick:t[0]||(t[0]=e=>i.localToggleDarkMode()),class:"nav-button desktop-button square-button"},[(0,s.bF)(r,{color:"var(--color-button-nav)","color-hover":"var(--color-button-nav-hover)"})]),(0,s.Lk)("button",{onClick:t[1]||(t[1]=e=>i.toggleMenu()),class:"nav-button mobile-button square-button"},[(0,s.bF)(c,{color:"var(--color-button-nav)","color-hover":"var(--color-button-nav-hover)"})])])])]),(0,s.Lk)("div",{onClick:t[3]||(t[3]=e=>i.toggleMenu()),ref:"mobileNav",class:"mobile-nav backdrop"},[(0,s.bF)(l,{class:"website-name",to:"/",style:{"padding-bottom":"var(--spacing-md)"}},{default:(0,s.k6)((()=>t[5]||(t[5]=[(0,s.eW)("The Dashboard")]))),_:1}),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.links,(e=>((0,s.uX)(),(0,s.Wv)(l,{key:e.to,class:"nav-button",to:e.to},{default:(0,s.k6)((()=>[(0,s.eW)((0,d.v_)(e.display),1)])),_:2},1032,["to"])))),128)),(0,s.Lk)("button",{onClick:t[2]||(t[2]=e=>{i.localToggleDarkMode(),i.toggleMenu()}),class:"nav-button square-button"},[(0,s.bF)(r,{color:"var(--color-button-nav)","color-hover":"var(--color-button-nav-hover)"})])],512)],64)}function v(e,t,o,a,n,i){const l=(0,s.g2)("BaseIcon");return(0,s.uX)(),(0,s.Wv)(l,{size:o.size},{default:(0,s.k6)((()=>t[0]||(t[0]=[(0,s.Lk)("path",{d:"M20.742 13.045a8.088 8.088 0 0 1-2.077.271c-2.135 0-4.14-.83-5.646-2.336a8.025 8.025 0 0 1-2.064-7.723A1 1 0 0 0 9.73 2.034a10.014 10.014 0 0 0-4.489 2.582c-3.898 3.898-3.898 10.243 0 14.143a9.937 9.937 0 0 0 7.072 2.93 9.93 9.93 0 0 0 7.07-2.929 10.007 10.007 0 0 0 2.583-4.491 1.001 1.001 0 0 0-1.224-1.224zm-2.772 4.301a7.947 7.947 0 0 1-5.656 2.343 7.953 7.953 0 0 1-5.658-2.344c-3.118-3.119-3.118-8.195 0-11.314a7.923 7.923 0 0 1 2.06-1.483 10.027 10.027 0 0 0 2.89 7.848 9.972 9.972 0 0 0 7.848 2.891 8.036 8.036 0 0 1-1.484 2.059z"},null,-1)]))),_:1},8,["size"])}const f=["width","height"];function k(e,t,o,a,n,i){return(0,s.uX)(),(0,s.CE)("svg",{width:o.size,height:o.size,style:(0,d.Tr)({minWidth:o.size,minHeight:o.size,marginLeft:o.left,marginRight:o.right}),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[(0,s.RG)(e.$slots,"default",{},void 0,!0)],12,f)}var y={name:"BaseIcon",props:{size:{type:[String,Number],default:"25px"},left:{type:[String],default:"0px"},right:{type:[String],default:"0px"}}},b=o(1241);const L=(0,b.A)(y,[["render",k],["__scopeId","data-v-098632e1"]]);var w=L,_={name:"IconDarkMode",components:{BaseIcon:w},props:{size:[String,Number]}};const I=(0,b.A)(_,[["render",v]]);var C=I;function T(e,t,o,a,n,i){const l=(0,s.g2)("BaseIcon");return(0,s.uX)(),(0,s.Wv)(l,{size:o.size},{default:(0,s.k6)((()=>t[0]||(t[0]=[(0,s.Lk)("path",{d:"M4 6h16v2H4zm0 5h16v2H4zm0 5h16v2H4z"},null,-1)]))),_:1},8,["size"])}var x={name:"IconSettings",components:{BaseIcon:w},props:{size:[String,Number]}};const S=(0,b.A)(x,[["render",T]]);var F=S,D={name:"top-bar",components:{IconDarkMode:C,IconMenu:F},data(){return{links:[{display:"Spendings",to:"/spendings"},{display:"Analytics",to:"/analytics"},{display:"Watch list",to:"/watch_list"},{display:"Account",to:"/account"}]}},methods:{toggleMenu(){this.$refs["mobileNav"].classList.toggle("expanded")},localToggleDarkMode(){l()}}};const E=(0,b.A)(D,[["render",g],["__scopeId","data-v-2bb9d1d0"]]);var M=E,A=(o(4114),o(8111),o(7588),o(4603),o(7566),o(8721),o(4373)),z=o(9122),W=o.n(z);function O(e,t,o,n,i,l){const r=(0,s.g2)("IconCross");return(0,s.uX)(),(0,s.Wv)(a.eB,{name:"notification"},{default:(0,s.k6)((()=>[i.visible?((0,s.uX)(),(0,s.CE)("div",{key:0,class:(0,d.C4)(["notification",o.messageType]),onClick:t[0]||(t[0]=(...e)=>l.closeThis&&l.closeThis(...e))},[(0,s.bF)(r,{class:"closeIcon",color:"var(--color-text-white)",colorHover:"var(--color-text-white-hover)"}),t[1]||(t[1]=(0,s.Lk)("h3",null,null,-1)),(0,s.Lk)("p",null,(0,d.v_)(o.message),1),(0,s.Lk)("div",{class:"timer-bar",style:(0,d.Tr)({width:`${l.timerWidth}%`})},null,4)],2)):(0,s.Q3)("",!0)])),_:1})}function X(e,t,o,a,n,i){const l=(0,s.g2)("BaseIcon");return(0,s.uX)(),(0,s.Wv)(l,{size:o.size},{default:(0,s.k6)((()=>t[0]||(t[0]=[(0,s.Lk)("path",{d:"m16.192 6.344-4.243 4.242-4.242-4.242-1.414 1.414L10.535 12l-4.242 4.242 1.414 1.414 4.242-4.242 4.243 4.242 1.414-1.414L13.364 12l4.242-4.242z"},null,-1)]))),_:1},8,["size"])}var $={name:"IconCross",components:{BaseIcon:w},props:{size:[String,Number]}};const V=(0,b.A)($,[["render",X]]);var B=V,R={components:{IconCross:B},emits:["close"],props:{message:String,messageType:{type:String,default:"info"},duration:{type:Number,default:5e3}},data(){return{visible:!1,closeTimeout:null,remainingTime:this.duration,intervalId:null,hovering:!1}},mounted(){this.visible=!0,this.remainingTime=this.duration,this.$nextTick((()=>{this.$el&&(this.startTimer(),this.$el.addEventListener("mouseenter",this.stopTimer),this.$el.addEventListener("mouseleave",this.resetTimer))}))},beforeUnmount(){this.$el&&(this.$el.removeEventListener("mouseenter",this.stopTimer),this.$el.removeEventListener("mouseleave",this.resetTimer)),this.intervalId&&clearInterval(this.intervalId)},methods:{startTimer(){this.intervalId=setInterval((()=>{this.remainingTime-=100,this.remainingTime<=0&&this.closeThis()}),100)},stopTimer(){this.intervalId&&clearInterval(this.intervalId)},resetTimer(){this.intervalId&&clearInterval(this.intervalId),this.startTimer()},closeThis(){this.stopTimer(),this.$el&&(this.visible=!1,this.$el.classList?.add("ignoreCursor"),setTimeout((()=>this.$emit("close")),150))}},computed:{timerWidth(){return this.remainingTime/this.duration*100}}};const H=(0,b.A)(R,[["render",O]]);var U=H;let N=null;function G(e,t="info",o=5e3){console.debug(`[notify] {${t}}`,e),N&&(N.unmount(),document.body.removeChild(N.container),N=null);const s=document.createElement("div");document.body.appendChild(s);const n=(0,a.Ef)(U,{message:e,messageType:t,duration:o,onClose:()=>{n.unmount(),document.body.removeChild(s),N=null}});n.mount(s),N={unmount:n.unmount,container:s}}var K=o(1387);const P={class:"greeting-area content-width-medium"},Q={class:"text-area"},q={class:"header-sub-text"},j={class:"flex-column"},Z={class:"tile-container"},Y=["href"],J=["src"],ee={class:"flex-column content-width-medium"},te={class:"backups"},oe={class:"flex header"},ae={class:"flex"},se={class:"name"},ne={class:"content"},ie={class:"flex"},le={class:"path-column"},re=["onClick"],ce=["onClick"],de={class:"content-width-large"},ue={class:"flex-column"},he={style:{margin:"var(--spacing-xs)"},class:"card flex-column"},pe={id:"avg_backend_time"},me={style:{margin:"var(--spacing-xs)"},class:"card flex-column"},ge={id:"total_requests"},ve={style:{margin:"var(--spacing-xs)"},class:"card flex-column"},fe={class:"server-info-row"},ke={class:"endpoint-value endpoint-label"},ye={class:"server-info-scroll"},be={class:"endpoint-name"},Le={class:"endpoint-value"},we={class:"endpoint-value"},_e={class:"card server-resources"},Ie={class:"content-width-large"},Ce={class:"card server-resources content-width-large"},Te={class:"flex-column"},xe={class:"flex-row"},Se={class:"name"},Fe={class:"text"},De={class:"value"},Ee={class:"value"},Me={class:"value"},Ae={class:"capacityIndicator"},ze={class:"text"};function We(e,t,o,a,n,i){const l=(0,s.g2)("router-link"),r=(0,s.g2)("IconWallet"),c=(0,s.g2)("IconFilm"),u=(0,s.g2)("IconBackup"),h=(0,s.g2)("IconBackupDown"),p=(0,s.g2)("InfoTooltip"),m=(0,s.g2)("ChartComponent"),g=(0,s.g2)("CustomSelect"),v=(0,s.g2)("IconHDD");return(0,s.uX)(),(0,s.CE)("div",null,[(0,s.Lk)("div",P,[(0,s.Lk)("div",Q,[(0,s.Lk)("h1",null,(0,d.v_)(n.greeting[0]),1),(0,s.Lk)("span",q,(0,d.v_)(n.greeting[1]),1),(0,s.bF)(l,{class:"no-decoration",to:"/spendings/new_entry",tabindex:"-1"},{default:(0,s.k6)((()=>t[2]||(t[2]=[(0,s.Lk)("button",{class:"button-primary"},"Start logging",-1)]))),_:1})]),t[3]||(t[3]=(0,s.Lk)("div",{class:"action-area"},[(0,s.Lk)("div",{class:"color-blob one"}),(0,s.Lk)("div",{class:"color-blob two"}),(0,s.Lk)("div",{class:"color-blob three"})],-1))]),(0,s.Lk)("div",j,[t[7]||(t[7]=(0,s.Lk)("h2",null,"Service links",-1)),(0,s.Lk)("div",Z,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.serviceUrls,((e,o)=>((0,s.uX)(),(0,s.CE)("a",{href:e.url,class:"tile-button link-button",key:o,rel:"noreferrer"},[(0,s.Lk)("img",{src:e.iconUrl,onLoad:t[0]||(t[0]=e=>e.target.classList.add("loaded"))},null,40,J),(0,s.Lk)("span",null,(0,d.v_)(e.name),1)],8,Y)))),128)),t[6]||(t[6]=(0,s.Lk)("div",{class:"service-seperator"},null,-1)),(0,s.bF)(l,{to:"/spendings/new_entry",class:"tile-button link-button"},{default:(0,s.k6)((()=>[(0,s.bF)(r),t[4]||(t[4]=(0,s.Lk)("span",null,"New transaction",-1))])),_:1}),(0,s.bF)(l,{to:"/watch_list/add_title",class:"tile-button link-button"},{default:(0,s.k6)((()=>[(0,s.bF)(c),t[5]||(t[5]=(0,s.Lk)("span",null,"Add a title",-1))])),_:1})])]),(0,s.Lk)("div",ee,[t[10]||(t[10]=(0,s.Lk)("h2",null,[(0,s.eW)("Backups "),(0,s.Lk)("span",{class:"text-lighter"},"(Under construction)")],-1)),(0,s.Lk)("div",te,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.backups,((e,o)=>((0,s.uX)(),(0,s.CE)("div",{key:o,class:"card backup-card"},[(0,s.Lk)("div",oe,[(0,s.Lk)("span",null,(0,d.v_)(o),1)]),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e,((e,o)=>((0,s.uX)(),(0,s.CE)("div",{key:o,class:"backup-row"},[(0,s.Lk)("div",ae,["up"==e.backup_direction?((0,s.uX)(),(0,s.Wv)(u,{key:0,size:"25px"})):((0,s.uX)(),(0,s.Wv)(h,{key:1,size:"25px"})),(0,s.Lk)("span",se,(0,d.v_)(e.backup_name),1)]),(0,s.Lk)("div",ne,[(0,s.Lk)("div",ie,[t[8]||(t[8]=(0,s.Lk)("div",{class:"label-text"},[(0,s.Lk)("div",null,"Last run"),(0,s.Lk)("div",null,"Next in"),(0,s.Lk)("div",null,"Schedule")],-1)),(0,s.Lk)("div",null,[(0,s.Lk)("div",{class:(0,d.C4)(e.status)},(0,d.v_)(e.last_success_time_since),3),(0,s.Lk)("div",null,(0,d.v_)(e.time_until_next),1),(0,s.Lk)("div",null,(0,d.v_)(e.schedule),1)])]),(0,s.Lk)("div",le,[t[9]||(t[9]=(0,s.Lk)("div",{class:"label-text"},[(0,s.Lk)("div",null,"Device"),(0,s.Lk)("div",null,"Source"),(0,s.Lk)("div",null,"Destination")],-1)),(0,s.Lk)("div",null,[(0,s.Lk)("div",null,(0,d.v_)(e.peer_device),1),(0,s.Lk)("div",{class:"path",title:"Copy to clipboard",onClick:t=>i.copyToClipboard(e.source_path,"Path")},(0,d.v_)(e.source_path),9,re),(0,s.Lk)("div",{class:"path",title:"Copy to clipboard",onClick:t=>i.copyToClipboard(e.destination_path,"Path")},(0,d.v_)(e.destination_path),9,ce)])])])])))),128))])))),128))])]),(0,s.Lk)("div",de,[t[17]||(t[17]=(0,s.Lk)("h2",null,[(0,s.eW)("Fastapi logs analysis "),(0,s.Lk)("span",{class:"text-lighter"},"(Under construction)")],-1)),t[18]||(t[18]=(0,s.Lk)("p",null,"The logs do not include the automated loggin reqests since they make the data unreadable.",-1)),(0,s.Lk)("div",ue,[(0,s.Lk)("div",he,[t[11]||(t[11]=(0,s.Lk)("label",{for:"avg_backend_time"},"Average server processing time",-1)),(0,s.Lk)("span",pe,(0,d.v_)(new Number(n.serverStats.fastapiData.avg_backend_time).toFixed(0))+" ms",1)]),(0,s.Lk)("div",me,[t[12]||(t[12]=(0,s.Lk)("label",{for:"total_requests"},"Total request in the timespan",-1)),(0,s.Lk)("span",ge,(0,d.v_)(n.serverStats.fastapiData.total_requests)+" kpl",1)]),(0,s.Lk)("div",ve,[t[16]||(t[16]=(0,s.Lk)("label",null,"Requests by endpoint",-1)),(0,s.Lk)("div",fe,[t[14]||(t[14]=(0,s.Lk)("span",{class:"endpoint-name endpoint-label"},"Endpoint name",-1)),t[15]||(t[15]=(0,s.Lk)("span",{class:"endpoint-value endpoint-label"},"Requests",-1)),(0,s.Lk)("span",ke,[t[13]||(t[13]=(0,s.eW)(" Avg. time ")),(0,s.bF)(p,{text:"The average time that the backend takes to process the request.",position:"left"})])]),(0,s.Lk)("div",ye,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.serverStats.fastapiData.endpoint_count,((e,t)=>((0,s.uX)(),(0,s.CE)("div",{key:t,class:"server-info-row"},[(0,s.Lk)("span",be,(0,d.v_)(e.endpoint),1),(0,s.Lk)("span",Le,(0,d.v_)(e.count)+" kpl",1),(0,s.Lk)("span",we,(0,d.v_)(e.avg_response_time_ms)+" ms",1)])))),128))])]),(0,s.Lk)("div",_e,[(0,s.bF)(m,{chartOptionsGenerator:n.chartValueGenerators.chart7},null,8,["chartOptionsGenerator"]),(0,s.bF)(m,{chartOptionsGenerator:n.chartValueGenerators.chart8},null,8,["chartOptionsGenerator"]),(0,s.bF)(m,{chartOptionsGenerator:n.chartValueGenerators.chart9},null,8,["chartOptionsGenerator"]),(0,s.bF)(m,{chartOptionsGenerator:n.chartValueGenerators.chart10},null,8,["chartOptionsGenerator"]),(0,s.bF)(m,{chartOptionsGenerator:n.chartValueGenerators.chart11},null,8,["chartOptionsGenerator"]),(0,s.bF)(m,{chartOptionsGenerator:n.chartValueGenerators.chart12},null,8,["chartOptionsGenerator"])])])]),(0,s.Lk)("div",Ie,[t[19]||(t[19]=(0,s.Lk)("h2",null,[(0,s.eW)("Server resource usages "),(0,s.Lk)("span",{class:"text-lighter"},"(Under construction)")],-1)),(0,s.bF)(g,{modelValue:n.serverLogsTimespan,"onUpdate:modelValue":t[1]||(t[1]=e=>n.serverLogsTimespan=e),options:n.serverLogsTimespans,disabled:0!=n.waitingFor.length,class:(0,d.C4)({loading:0!=n.waitingFor.length})},null,8,["modelValue","options","disabled","class"]),(0,s.Lk)("div",Ce,[(0,s.bF)(m,{chartOptionsGenerator:n.chartValueGenerators.chart1},null,8,["chartOptionsGenerator"]),(0,s.bF)(m,{chartOptionsGenerator:n.chartValueGenerators.chart2},null,8,["chartOptionsGenerator"]),(0,s.bF)(m,{chartOptionsGenerator:n.chartValueGenerators.chart3},null,8,["chartOptionsGenerator"]),(0,s.bF)(m,{chartOptionsGenerator:n.chartValueGenerators.chart5},null,8,["chartOptionsGenerator"]),(0,s.bF)(m,{chartOptionsGenerator:n.chartValueGenerators.chart6},null,8,["chartOptionsGenerator"])])]),(0,s.Lk)("div",Te,[t[23]||(t[23]=(0,s.Lk)("h2",null,"Server Drives",-1)),(0,s.Lk)("div",xe,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.serverStats.storage,((e,o)=>((0,s.uX)(),(0,s.CE)("div",{key:o,class:"drive-card card"},[(0,s.Lk)("div",Se,[(0,s.bF)(v,{colorHover:"var(--color-text)"}),(0,s.eW)(" "+(0,d.v_)(e.name),1)]),(0,s.Lk)("div",Fe,[t[20]||(t[20]=(0,s.Lk)("div",{class:"label"},"Used space",-1)),(0,s.Lk)("div",De,(0,d.v_)(i.formatBytes(e.used)),1),t[21]||(t[21]=(0,s.Lk)("div",{class:"label"},"Available space",-1)),(0,s.Lk)("div",Ee,(0,d.v_)(i.formatBytes(e.free)),1),t[22]||(t[22]=(0,s.Lk)("div",{class:"label"},"Disk size",-1)),(0,s.Lk)("div",Me,(0,d.v_)(i.formatBytes(e.total)),1)]),(0,s.Lk)("div",null,[(0,s.Lk)("div",Ae,[(0,s.Lk)("div",{class:(0,d.C4)(["bar",e.used/e.total<.9?"positiveBackground":"negativeBackground"]),style:(0,d.Tr)({width:e.used/e.total*100+"%"})},null,6),(0,s.Lk)("div",ze,(0,d.v_)((e.used/e.total*100).toFixed(2)+"%"),1)])])])))),128))])])])}o(2489),o(1701),o(3579);function Oe(e,t,o,a,n,i){const l=(0,s.g2)("BaseIcon");return(0,s.uX)(),(0,s.Wv)(l,{size:o.size},{default:(0,s.k6)((()=>t[0]||(t[0]=[(0,s.Lk)("path",{d:"m21.983 13.821-1.851-10.18A1.998 1.998 0 0 0 18.165 2H5.835a2 2 0 0 0-1.968 1.643l-1.85 10.178.019.003c-.012.06-.036.114-.036.176v5c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2v-5c0-.063-.024-.116-.035-.176l.018-.003zM5.835 4h12.331l1.637 9H4.198l1.637-9zM4 19v-4h16l.002 4H4z"},null,-1),(0,s.Lk)("path",{d:"M17 16h2v2h-2zm-3 0h2v2h-2z"},null,-1)]))),_:1},8,["size"])}var Xe={name:"IconHdd",components:{BaseIcon:w},props:{size:[String,Number]}};const $e=(0,b.A)(Xe,[["render",Oe]]);var Ve=$e;function Be(e,t,o,a,n,i){const l=(0,s.g2)("BaseIcon");return(0,s.uX)(),(0,s.Wv)(l,{size:o.size},{default:(0,s.k6)((()=>t[0]||(t[0]=[(0,s.Lk)("path",{d:"M13 19v-4h3l-4-5-4 5h3v4z"},null,-1),(0,s.Lk)("path",{d:"M7 19h2v-2H7c-1.654 0-3-1.346-3-3 0-1.404 1.199-2.756 2.673-3.015l.581-.102.192-.558C8.149 8.274 9.895 7 12 7c2.757 0 5 2.243 5 5v1h1c1.103 0 2 .897 2 2s-.897 2-2 2h-3v2h3c2.206 0 4-1.794 4-4a4.01 4.01 0 0 0-3.056-3.888C18.507 7.67 15.56 5 12 5 9.244 5 6.85 6.611 5.757 9.15 3.609 9.792 2 11.82 2 14c0 2.757 2.243 5 5 5z"},null,-1)]))),_:1},8,["size"])}var Re={name:"IconBackup",components:{BaseIcon:w},props:{size:[String,Number]}};const He=(0,b.A)(Re,[["render",Be]]);var Ue=He;function Ne(e,t,o,a,n,i){const l=(0,s.g2)("BaseIcon");return(0,s.uX)(),(0,s.Wv)(l,{size:o.size},{default:(0,s.k6)((()=>t[0]||(t[0]=[(0,s.Lk)("path",{d:"M18.948 11.112C18.511 7.67 15.563 5 12.004 5c-2.756 0-5.15 1.611-6.243 4.15-2.148.642-3.757 2.67-3.757 4.85 0 2.757 2.243 5 5 5h1v-2h-1c-1.654 0-3-1.346-3-3 0-1.404 1.199-2.757 2.673-3.016l.581-.102.192-.558C8.153 8.273 9.898 7 12.004 7c2.757 0 5 2.243 5 5v1h1c1.103 0 2 .897 2 2s-.897 2-2 2h-2v2h2c2.206 0 4-1.794 4-4a4.008 4.008 0 0 0-3.056-3.888z"},null,-1),(0,s.Lk)("path",{d:"M13.004 14v-4h-2v4h-3l4 5 4-5z"},null,-1)]))),_:1},8,["size"])}var Ge={name:"IconBackupDown",components:{BaseIcon:w},props:{size:[String,Number]}};const Ke=(0,b.A)(Ge,[["render",Ne]]);var Pe=Ke;const Qe={class:"tooltip-container"},qe=["innerHTML"];function je(e,t,o,a,n,i){const l=(0,s.g2)("IconInfo");return(0,s.uX)(),(0,s.CE)("span",Qe,[(0,s.bF)(l,{size:"20px",style:(0,d.Tr)({"margin-bottom":o.alignOffset}),class:"info-icon icon-button",onClick:i.toggleTooltip},null,8,["style","onClick"]),n.isVisible?((0,s.uX)(),(0,s.CE)("div",{key:0,class:(0,d.C4)(["tooltip",{position:o.position,isShown:n.isShown}]),innerHTML:this.text,style:(0,d.Tr)({"max-width":o.maxWidth})},null,14,qe)):(0,s.Q3)("",!0)])}function Ze(e,t,o,a,n,i){const l=(0,s.g2)("BaseIcon");return(0,s.uX)(),(0,s.Wv)(l,{size:o.size},{default:(0,s.k6)((()=>t[0]||(t[0]=[(0,s.Lk)("path",{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"},null,-1),(0,s.Lk)("path",{d:"M11 11h2v6h-2zm0-4h2v2h-2z"},null,-1)]))),_:1},8,["size"])}var Ye={name:"IconInfo",components:{BaseIcon:w},props:{size:[String,Number]}};const Je=(0,b.A)(Ye,[["render",Ze]]);var et=Je,tt={data(){return{isVisible:!1,isShown:!1}},components:{IconInfo:et},props:{text:String,position:{type:String,default:"left"},maxWidth:{type:String,default:"25ch"},alignOffset:{type:String,default:"4px"}},methods:{showTooltip(){this.isVisible=!0,setTimeout((()=>{this.isShown=!0}),1),document.addEventListener("click",this.handleClickOutside)},hideTooltip(){this.isClicked||(this.isShown=!1,setTimeout((()=>{this.isVisible=!1}),200),document.removeEventListener("click",this.handleClickOutside))},toggleTooltip(){this.isClicked=!this.isClicked,this.isClicked?this.showTooltip():this.hideTooltip()},handleClickOutside(e){this.$el.contains(e.target)||(this.isClicked=!1,this.hideTooltip())}}};const ot=(0,b.A)(tt,[["render",je],["__scopeId","data-v-da122060"]]);var at=ot;function st(e,t,o,a,n,i){const l=(0,s.g2)("BaseIcon");return(0,s.uX)(),(0,s.Wv)(l,{size:o.size},{default:(0,s.k6)((()=>t[0]||(t[0]=[(0,s.Lk)("path",{d:"M19 4v1h-2V3H7v2H5V3H3v18h2v-2h2v2h10v-2h2v2h2V3h-2v1zM5 7h2v2H5V7zm0 4h2v2H5v-2zm0 6v-2h2v2H5zm12 0v-2h2v2h-2zm2-4h-2v-2h2v2zm-2-4V7h2v2h-2z"},null,-1)]))),_:1},8,["size"])}var nt={name:"IconFilm",components:{BaseIcon:w},props:{size:[String,Number]}};const it=(0,b.A)(nt,[["render",st]]);var lt=it;function rt(e,t,o,a,n,i){const l=(0,s.g2)("BaseIcon");return(0,s.uX)(),(0,s.Wv)(l,{size:o.size},{default:(0,s.k6)((()=>t[0]||(t[0]=[(0,s.Lk)("path",{d:"M16 12h2v4h-2z"},null,-1),(0,s.Lk)("path",{d:"M20 7V5c0-1.103-.897-2-2-2H5C3.346 3 2 4.346 2 6v12c0 2.201 1.794 3 3 3h15c1.103 0 2-.897 2-2V9c0-1.103-.897-2-2-2zM5 5h13v2H5a1.001 1.001 0 0 1 0-2zm15 14H5.012C4.55 18.988 4 18.805 4 18V8.815c.314.113.647.185 1 .185h15v10z"},null,-1)]))),_:1},8,["size"])}var ct={name:"IconWallet",components:{BaseIcon:w},props:{size:[String,Number]}};const dt=(0,b.A)(ct,[["render",rt]]);var ut=dt;const ht={toFiNumber(e,t=3){return null==e?null:e.toLocaleString("fi-FI",{maximumFractionDigits:t})},toFiCount(e,t=0){return null==e?null:`${e.toLocaleString("fi-FI",{maximumFractionDigits:t})} kpl`},toCelcius(e,t=2){return null==e?null:`${e.toLocaleString("fi-FI",{maximumFractionDigits:t})} Â°C`},toPercentage(e,t=2){return null==e?null:`${e.toLocaleString("fi-FI",{maximumFractionDigits:t})} %`},toEur(e){return null==e?null:e.toLocaleString("fi-FI",{style:"currency",currency:"EUR"})},toLargeUsd(e){if(e){if(e>=1e9){let t=(e/1e9).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2});return t.replace(".",",")+" mrd. $"}{let t=(e/1e6).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2});return t.replace(".",",")+" milj. $"}}return e},toFiDate(e,t="date"){if(null==e)return null;if("none"==t)return e;const o=new Date(e);let a="";const s={full:{weekday:"short",day:"numeric",month:"short",year:"numeric"},fullWithWeek:{weekday:"short",day:"numeric",month:"short",year:"numeric"},date:{day:"numeric",month:"short",year:"2-digit"},month:{month:"short",year:"2-digit"},timetimeInMinutes:{weekday:"short",minute:"2-digit",hour:"2-digit"},titimeInSecondsme:{weekday:"short",second:"2-digit",minute:"2-digit",hour:"2-digit"}},n=e=>{const t=new Date(e.getFullYear(),0,1),o=Math.floor((e-t)/864e5);return Math.ceil((o+1)/7)};return a=["timetimeInMinutes","timeInSeconds"].includes(t)?"klo "+o.toLocaleTimeString("fi-FI",s[t]):o.toLocaleDateString("fi-FI",s[t]),"fullWithWeek"==t&&(a+=", viikko "+n(o)),a},toBytes(e,t=2){const o=["t","Kt","Mt","Gt","Tt"];if(0===e)return"0 t";const a=Math.floor(Math.log10(Math.abs(e))/3),s=(e/Math.pow(1e3,a)).toFixed(t);return(parseFloat(s)===parseInt(s)?parseInt(s):s)+" "+o[a]},toBytesPerSecond(e,t=2){const o=["t/s","Kt/s","Mt/s","Gt/s","Tt/s"];if(0===e)return"0 t/s";const a=Math.floor(Math.log10(Math.abs(e))/3),s=(e/Math.pow(1e3,a)).toFixed(t);return(parseFloat(s)===parseInt(s)?parseInt(s):s)+" "+o[a]},runtime(e){const t=Math.floor(e/60),o=e%60;return t>0?`${t}hr ${o}min`:`${o}min`}};function pt(e){return getComputedStyle(document.documentElement).getPropertyValue(`--${e}`).trim()}function mt(e,t,o){function a(e){if(e.startsWith("#")){let t=e.replace("#","");3===t.length&&(t=t.split("").map((e=>e+e)).join(""));const o=parseInt(t,16);return[o>>16&255,o>>8&255,255&o]}const t=e.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)/);if(t)return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])];const o=e.match(/hsla?\((\d+),\s*(\d+)%?,\s*(\d+)%?/);if(o){const e=parseInt(o[1]),t=parseInt(o[2])/100,a=parseInt(o[3])/100,s=(1-Math.abs(2*a-1))*t,n=s*(1-Math.abs(e/60%2-1)),i=a-s/2;let l,r,c;return e>=0&&e<60?(l=s,r=n,c=0):e>=60&&e<120?(l=n,r=s,c=0):e>=120&&e<180?(l=0,r=s,c=n):e>=180&&e<240?(l=0,r=n,c=s):e>=240&&e<300?(l=n,r=0,c=s):(l=s,r=0,c=n),[Math.round(255*(l+i)),Math.round(255*(r+i)),Math.round(255*(c+i))]}throw new Error("[interpolateBetweenColors] Unsupported color format: "+e)}const s=a(e),n=a(t),i=Math.round(s[0]+(n[0]-s[0])*o),l=Math.round(s[1]+(n[1]-s[1])*o),r=Math.round(s[2]+(n[2]-s[2])*o);return`rgb(${i}, ${l}, ${r})`}var gt=o(2212),vt=o(2297),ft=o(6799),kt=o(5284),yt=o(3290),bt=o(9536),Lt=o(9372),wt=o(623),_t=o(5143),It=o(7966);function Ct(){(0,gt.Y)([bt.a,Lt.a,vt.a,ft.a,kt.a,yt.a,It.a,wt.a,_t.a])}function Tt(e,t,o,a){let s="",n=0;for(let i=0;i<e.length;i++)!0===a&&"Sum"===e[i].seriesName||(s+=`\n            <tr class="${0===e[i].data?"disabled":""}">\n                <td class="label">\n                    <div>\n                        <div class="color-blob" style="background-color: ${e[i].color};"></div>\n                        <div class="series-name">${e[i].seriesName}</div>\n                    </div>\n                </td>\n                <td class="value">${o(e[i].data)}</td>\n            </tr>\n        `,n+=parseFloat(e[i].data));return!0===a&&(s+=`\n            <tr class="sum-row">\n                <td class="label">\n                    <div>\n                        <div class="color-blob" style="background-color: ${pt("color-text")};"></div>\n                        <div class="series-name">Total</div>\n                    </div>\n                </td>\n                <td class="value">\n                    <div>\n                        ${o(n)}\n                    </div>\n                </td>\n            </tr>\n        `),`\n        <div class="chart-tooltip">\n            <div class="header">${ht.toFiDate(e[0].axisValue,t)}</div>\n            <table>${s}</table>\n        </div>\n    `}function xt(e,t){return`\n        <div class="chart-tooltip">\n            <div class="header">${e.seriesName}</div>\n            <table>\n                <tr class="${0===e.data?"disabled":""}">\n                    <td style="display: flex; align-items: center; padding-right: 1rem;">\n                        <div class="color-blob" style="background-color: ${e.color};"></div>\n                        <div class="series-name">${e.name}</div>\n                    </td>\n                    <td class="value">${"eur"==t?ht.toEur(e.value):e.value+" kpl"}</td>\n                </tr>\n            </table>\n        </div>\n    `}function St(){return{color:[pt("color-primary"),pt("color-secondary"),pt("color-tertiary"),pt("color-quaternary"),pt("color-quinary"),pt("color-jokumikalie"),pt("color-senary"),pt("color-septenary"),pt("color-octonary"),pt("color-nonary"),pt("color-denary"),pt("color-undecenary")],legend:{type:"scroll",show:!0,bottom:0,textStyle:{color:pt("color-text"),fontWeight:500},inactiveColor:pt("color-text-hidden"),pageIconColor:pt("color-text"),pageIconInactiveColor:pt("color-text-hidden"),pageTextStyle:{color:pt("color-text")}},textStyle:{fontFamily:"Poppins",color:pt("color-text-lighter")}}}function Ft(e,t,o,a,n,i){const l=(0,s.g2)("IconCollapse"),r=(0,s.g2)("IconExpand");return(0,s.uX)(),(0,s.CE)("div",{class:(0,d.C4)(["ChartComponent",{fullwindow:n.isFullscreen&&!n.isTouchDevice,fullscreen:n.isFullscreen&&n.isTouchDevice}])},[(0,s.Lk)("div",{ref:"chartHolder",class:(0,d.C4)(["chart",{loaded:n.isLoaded}])},null,2),(0,s.Lk)("button",{class:"button-simple fullscreen-button",onClick:t[0]||(t[0]=(...e)=>i.toggleFullscreenChart&&i.toggleFullscreenChart(...e))},[n.isFullscreen?((0,s.uX)(),(0,s.Wv)(l,{key:0})):((0,s.uX)(),(0,s.Wv)(r,{key:1}))])],2)}function Dt(e,t,o,a,n,i){const l=(0,s.g2)("BaseIcon");return(0,s.uX)(),(0,s.Wv)(l,{size:o.size},{default:(0,s.k6)((()=>t[0]||(t[0]=[(0,s.Lk)("path",{d:"M16.121 6.465 14 4.344V10h5.656l-2.121-2.121 3.172-3.172-1.414-1.414zM4.707 3.293 3.293 4.707l3.172 3.172L4.344 10H10V4.344L7.879 6.465zM19.656 14H14v5.656l2.121-2.121 3.172 3.172 1.414-1.414-3.172-3.172zM6.465 16.121l-3.172 3.172 1.414 1.414 3.172-3.172L10 19.656V14H4.344z"},null,-1)]))),_:1},8,["size"])}var Et={name:"IconCollapse",components:{BaseIcon:w},props:{size:[String,Number]}};const Mt=(0,b.A)(Et,[["render",Dt]]);var At=Mt;function zt(e,t,o,a,n,i){const l=(0,s.g2)("BaseIcon");return(0,s.uX)(),(0,s.Wv)(l,{size:o.size},{default:(0,s.k6)((()=>t[0]||(t[0]=[(0,s.Lk)("path",{d:"m21 15.344-2.121 2.121-3.172-3.172-1.414 1.414 3.172 3.172L15.344 21H21zM3 8.656l2.121-2.121 3.172 3.172 1.414-1.414-3.172-3.172L8.656 3H3zM21 3h-5.656l2.121 2.121-3.172 3.172 1.414 1.414 3.172-3.172L21 8.656zM3 21h5.656l-2.121-2.121 3.172-3.172-1.414-1.414-3.172 3.172L3 15.344z"},null,-1)]))),_:1},8,["size"])}var Wt={name:"IconExpand",components:{BaseIcon:w},props:{size:[String,Number]}};const Ot=(0,b.A)(Wt,[["render",zt]]);var Xt=Ot,$t=o(1309),Vt={name:"ChartComponent",components:{IconExpand:Xt,IconCollapse:At},props:{chartOptionsGenerator:{type:Function,default:null}},data(){return{isFullscreen:!1,isLoaded:!1,isTouchDevice:"ontouchstart"in document.documentElement}},methods:{initializeChart(){if(this.$refs.chartHolder){const e=(0,$t.Ts)(this.$refs.chartHolder);e.setOption(this.chartOptionsGenerator()),this.setupResizeObserver(e),document.addEventListener("keydown",(e=>{"Escape"===e.key&&this.exitFullscreen()})),window.addEventListener("darkModeChange",(()=>{e.setOption(this.chartOptionsGenerator())})),this.isLoaded=!0}else console.warn("[initializeChart] Invalid ref.")},setupResizeObserver(e){const t=this.$refs.chartHolder;if(!t)return;const o=new ResizeObserver((()=>{e.resize()}));o.observe(t),this.resizeObservers||(this.resizeObservers=[]),this.resizeObservers.push(o)},toggleFullscreenChart(){const e="ontouchstart"in document.documentElement;1!=this.isFullscreen?(this.isFullscreen=!0,document.documentElement.classList.add("no-scroll"),e&&document.documentElement.requestFullscreen?.().then((()=>{document.addEventListener("fullscreenchange",this.handleFullscreenExit)}))):this.exitFullscreen()},handleFullscreenExit(){document.fullscreenElement||(this.exitFullscreen(),document.removeEventListener("fullscreenchange",this.handleFullscreenExit))},exitFullscreen(){this.isFullscreen=!1,document.documentElement.classList.remove("no-scroll"),document.fullscreenElement&&document.exitFullscreen?.()}},watch:{chartOptionsGenerator:{handler(e){null==e||this.isLoaded||this.initializeChart()},immediate:!0,deep:!0}},unmounted(){this.handleFullscreenExit()}};const Bt=(0,b.A)(Vt,[["render",Ft],["__scopeId","data-v-d3edfaea"]]);var Rt=Bt;const Ht={class:"longest-option"},Ut={class:"visible-option"},Nt=["onClick"];function Gt(e,t,o,a,n,i){const l=(0,s.g2)("IconChevronDown");return(0,s.uX)(),(0,s.CE)("div",{class:(0,d.C4)(["custom-select",{"is-open":n.isLogicalOpen&&n.isStylingOpen}])},[(0,s.Lk)("div",{class:"selected-option icon-align",onClick:t[0]||(t[0]=(...e)=>i.toggleDropdown&&i.toggleDropdown(...e))},[(0,s.Lk)("span",Ht,(0,d.v_)(i.longestOptionLabel),1),(0,s.Lk)("span",Ut,(0,d.v_)(n.selectedOption?.label||"Select an option"),1),(0,s.bF)(l)]),n.isLogicalOpen?((0,s.uX)(),(0,s.CE)("ul",{key:0,class:(0,d.C4)(["options-list",{hidden:!n.isStylingOpen}])},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.options,(e=>((0,s.uX)(),(0,s.CE)("li",{key:e.value,onClick:t=>i.selectOption(e)},(0,d.v_)(e.label),9,Nt)))),128))],2)):(0,s.Q3)("",!0)],2)}o(116),o(8237);function Kt(e,t,o,a,n,i){const l=(0,s.g2)("BaseIcon");return(0,s.uX)(),(0,s.Wv)(l,{size:o.size},{default:(0,s.k6)((()=>t[0]||(t[0]=[(0,s.Lk)("path",{d:"M16.293 9.293 12 13.586 7.707 9.293l-1.414 1.414L12 16.414l5.707-5.707z"},null,-1)]))),_:1},8,["size"])}var Pt={name:"IconChevronDown",components:{BaseIcon:w},props:{size:[String,Number]}};const Qt=(0,b.A)(Pt,[["render",Kt]]);var qt=Qt,jt={components:{IconChevronDown:qt},props:{options:Array,modelValue:String,disabled:Boolean},data(){return{isStylingOpen:!1,isLogicalOpen:!1,selectedOption:null}},mounted(){document.addEventListener("click",this.handleClickOutside)},beforeUnmount(){document.removeEventListener("click",this.handleClickOutside)},methods:{open(){this.disabled||(this.isLogicalOpen=!0,setTimeout((()=>{this.isStylingOpen=!0}),10))},close(){this.isStylingOpen=!1,setTimeout((()=>{this.isLogicalOpen=!1}),200)},toggleDropdown(e){this.disabled||(e.stopPropagation(),this.isLogicalOpen?this.close():this.open())},handleClickOutside(e){this.$el.contains(e.target)||this.close()},selectOption(e){this.$emit("update:modelValue",e.value),this.close()}},computed:{longestOptionLabel(){const e=this.options.reduce(((e,t)=>t.label.length>e.label.length?t:e),{label:""});return e.label}},watch:{modelValue:{immediate:!0,handler(e){this.selectedOption=this.options.find((t=>t.value===e))||null}}}};const Zt=(0,b.A)(jt,[["render",Gt],["__scopeId","data-v-78c09e58"]]);var Yt=Zt,Jt={name:"HomePage",components:{InfoTooltip:at,ChartComponent:Rt,CustomSelect:Yt,IconHDD:Ve,IconBackup:Ue,IconBackupDown:Pe,IconFilm:lt,IconWallet:ut},data(){return{greeting:this.getGreeting(),isLoaded:{},chartValueGenerators:{},waitingFor:[],serviceUrls:[],backups:[],serverStats:{storage:[],fastapiData:{}},serverLogsTimespan:"1h",serverLogsTimespans:[{label:"15m",value:"15m"},{label:"30m",value:"30m"},{label:"1h",value:"1h"},{label:"3h",value:"3h"},{label:"6h",value:"6h"},{label:"12h",value:"12h"},{label:"24h",value:"24h"}]}},methods:{getGreeting(){const e=(new Date).getHours();return e<5?["Good night!","It's late, get some rest and recharge for tomorrow."]:e<12?["Good morning!","A fresh start to the day. Let's make the most of it."]:e<18?["Good afternoon!","The day is moving along. Hope it's going well for you."]:["Good evening!","The day's winding down. Time to relax and prepare for tomorrow."]},formatBytes(e){return ht.toBytes(e)},copyToClipboard(e,t){try{if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(e).then((()=>G(`${t} copied!`,"info",2e3))).catch((e=>{G("Cannot copy text to clipboard.","error"),console.error("[copyToClipboard]",e)}));else{const a=document.createElement("textarea");a.value=e,a.style.position="fixed",document.body.appendChild(a),a.focus(),a.select();try{document.execCommand("copy"),G(`${t} copied!`,"info",2e3)}catch(o){G("Cannot copy text to clipboard.","error"),console.error("[copyToClipboard fallback]",o)}document.body.removeChild(a)}}catch(a){G("Cannot copy text to clipboard.","error"),console.error("[copyToClipboard]",a)}},getServiceUrls(){this.serviceUrls=[{name:"GitHub repo",url:"https://github.com/Alkama4/The-Dashboard",iconUrl:"true"===localStorage.getItem("darkMode")?"https://github.githubassets.com/favicons/favicon-dark.svg":"https://github.githubassets.com/favicons/favicon.svg"}],window.addEventListener("darkModeChange",(e=>{const t=e.detail.darkModeEnabled;this.serviceUrls=[{name:"GitHub repo",url:"https://github.com/Alkama4/The-Dashboard",iconUrl:t?"https://github.githubassets.com/favicons/favicon-dark.svg":"https://github.githubassets.com/favicons/favicon.svg"}]}))},removeItemFromWaitingArray(e){this.waitingFor=this.waitingFor.filter((t=>t!==e))},async fetchServerLogs(e=!1){this.waitingFor.push("fetchServerLogs");const t=await Tu.getServerResourceLogs(this.serverLogsTimespan);if(t&&t.data){const e=t.data.map((e=>e.timestamp)),o=t.data.map((e=>e.cpu_temperature)),a=t.data.map((e=>e.ram_usage)),s=t.data.map((e=>e.cpu_usage)),n=t.data.map((e=>e.system_load)),i=t.data.map(((e,t,o)=>{if(0===t)return 0;const a=(e.network_recv_bytes-o[t-1].network_recv_bytes)/10;return a>0?a:0})),l=t.data.map(((e,t,o)=>{if(0===t)return 0;const a=(-e.network_sent_bytes+o[t-1].network_sent_bytes)/10;return a<0?a:0})),r=()=>({textStyle:St().textStyle,title:{text:"CPU temperature",textStyle:{color:pt("color-text"),fontSize:24}},color:[pt("color-secondary")],tooltip:{trigger:"axis",backgroundColor:pt("color-background-card"),borderWidth:1,borderColor:pt("color-border"),formatter:e=>Tt(e,"timeInSeconds",ht.toCelcius,!1)},grid:{left:56,right:8,top:80,bottom:64},xAxis:{type:"category",data:e,axisLabel:{rotate:45,formatter:e=>ht.toFiDate(e,"timeInSeconds")},axisTick:{alignWithLabel:!0}},yAxis:{type:"value",name:"Temp (Â°C)",axisLabel:{formatter:e=>ht.toFiNumber(e)}},series:[{name:"Temperature",type:"line",areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:pt("color-secondary")},{offset:1,color:"rgba(0,0,0,0)"}]}},data:o,smooth:!0}]});this.chartValueGenerators.chart1=r;const c=()=>({textStyle:St().textStyle,title:{text:"RAM Usage",textStyle:{color:pt("color-text"),fontSize:24}},color:[pt("color-tertiary")],tooltip:{trigger:"axis",backgroundColor:pt("color-background-card"),borderWidth:1,borderColor:pt("color-border"),formatter:e=>Tt(e,"timeInSeconds",ht.toPercentage,!1)},grid:{left:56,right:8,top:80,bottom:64},xAxis:{type:"category",data:e,axisLabel:{rotate:45,formatter:e=>ht.toFiDate(e,"timeInSeconds")},axisTick:{alignWithLabel:!0}},yAxis:{type:"value",name:"Usage (%)",max:100,min:0,axisLabel:{formatter:e=>ht.toFiNumber(e)}},series:[{name:"RAM Usage",type:"line",areaStyle:{},data:a,smooth:!0}]});this.chartValueGenerators.chart2=c;const d=()=>({textStyle:St().textStyle,title:{text:"CPU Usage",textStyle:{color:pt("color-text"),fontSize:24}},color:[pt("color-primary")],tooltip:{trigger:"axis",backgroundColor:pt("color-background-card"),borderWidth:1,borderColor:pt("color-border"),formatter:e=>Tt(e,"timeInSeconds",ht.toPercentage,!1)},grid:{left:56,right:8,top:80,bottom:64},xAxis:{type:"category",data:e,axisLabel:{rotate:45,formatter:e=>ht.toFiDate(e,"timeInSeconds")},axisTick:{alignWithLabel:!0}},yAxis:{type:"value",name:"Usage (%)",max:100,min:0,axisLabel:{formatter:e=>ht.toFiNumber(e)}},series:[{name:"CPU Usage",type:"line",areaStyle:{},data:s,smooth:!0}]});this.chartValueGenerators.chart3=d;const u=()=>({textStyle:St().textStyle,title:{text:"System load",textStyle:{color:pt("color-text"),fontSize:24}},color:[pt("color-quinary")],tooltip:{trigger:"axis",backgroundColor:pt("color-background-card"),borderWidth:1,borderColor:pt("color-border"),formatter:e=>Tt(e,"timeInSeconds",ht.toPercentage,!1)},grid:{left:56,right:8,top:80,bottom:64},xAxis:{type:"category",data:e,axisLabel:{rotate:45,formatter:e=>ht.toFiDate(e,"timeInSeconds")},axisTick:{alignWithLabel:!0}},yAxis:{type:"value",name:"Usage (%)",max:100,min:0,axisLabel:{formatter:e=>ht.toFiNumber(e)}},series:[{name:"System load",type:"line",areaStyle:{},data:n,smooth:!0}]});this.chartValueGenerators.chart5=u;const h=()=>({textStyle:St().textStyle,title:{text:"Network up/down",textStyle:{color:pt("color-text"),fontSize:24}},color:[pt("color-jokumikalie"),pt("color-senary")],tooltip:{trigger:"axis",backgroundColor:pt("color-background-card"),borderWidth:1,borderColor:pt("color-border"),formatter:e=>Tt(e,"timeInSeconds",ht.toBytesPerSecond,!1)},grid:{left:56,right:8,top:80,bottom:64},xAxis:{type:"category",data:e,axisLabel:{rotate:45,formatter:e=>ht.toFiDate(e,"timeInSeconds")},axisTick:{alignWithLabel:!0}},yAxis:{type:"value",name:"Data (Mt/s)",axisLabel:{formatter:e=>ht.toFiNumber(e/1e6)}},series:[{name:"Data received",type:"line",areaStyle:{},data:i,smooth:!0},{name:"Data sent",type:"line",areaStyle:{},data:l,smooth:!0}]});this.chartValueGenerators.chart6=h}e&&setTimeout((()=>{console.log("Refreshing");const e=new CustomEvent("darkModeChange",{detail:!0});window.dispatchEvent(e)}),1),this.removeItemFromWaitingArray("fetchServerLogs")},async fetchFastapiLogs(){const e=await Tu.getFastapiRequestLogData("24h");if(e&&e.data){this.serverStats.fastapiData=e.data;const t=e.data.client_ip_count.map((e=>({name:e.client_ip,value:e.count}))),o=e.data.status_code.map((e=>({name:e.status_code,value:e.count}))),a=e.data.method_count.map((e=>({name:e.method,value:e.count}))),s=e.data.requests_over_time.map((e=>new Date(new Number(6e4*e.minute_bucket)))),n=e.data.requests_over_time.map((e=>e.count)),i=e.data.backend_time_histogram.map((e=>e.time_range)),l=e.data.backend_time_histogram.map((e=>e.count)),r=[],c=[],d={};e.data.endpoint_error_summary.forEach((t=>{t.endpoint.startsWith("/image")&&t.errors.some((e=>404===e.status_code&&e.count<=1))||(c.push(t.endpoint),t.errors.forEach((t=>{const{status_code:o,count:a}=t;d[o]||(d[o]={name:`Error ${o} count`,type:"bar",stack:!0,data:Array(e.data.endpoint_error_summary.length).fill(0)});const s=c.length-1;d[o].data[s]=a})))}));for(const e in d)r.push(d[e]);const u=()=>({textStyle:St().textStyle,title:{text:"Fastapi requests by client IP",textStyle:{color:pt("color-text-lighter"),fontSize:16,fontWeight:500},x:"center"},legend:St().legend,color:St().color,tooltip:{trigger:"item",backgroundColor:pt("color-background-card"),borderWidth:1,borderColor:pt("color-border"),formatter:e=>xt(e,"count")},series:[{name:"Monthly Average Spending",type:"pie",label:{color:pt("color-text")},data:t}]});this.chartValueGenerators.chart7=u;const h=()=>({textStyle:St().textStyle,title:{text:"Fastapi requests by status code",textStyle:{color:pt("color-text-lighter"),fontSize:16,fontWeight:500},x:"center"},legend:St().legend,color:St().color,tooltip:{trigger:"item",backgroundColor:pt("color-background-card"),borderWidth:1,borderColor:pt("color-border"),formatter:e=>xt(e,"count")},series:[{name:"Monthly Average Spending",type:"pie",label:{color:pt("color-text")},data:o}]});this.chartValueGenerators.chart8=h;const p=()=>({textStyle:St().textStyle,title:{text:"Fastapi requests by method",textStyle:{color:pt("color-text-lighter"),fontSize:16,fontWeight:500},x:"center"},legend:St().legend,color:St().color,tooltip:{trigger:"item",backgroundColor:pt("color-background-card"),borderWidth:1,borderColor:pt("color-border"),formatter:e=>xt(e,"count")},series:[{name:"Monthly Average Spending",type:"pie",label:{color:pt("color-text")},data:a}]});this.chartValueGenerators.chart9=p;const m=()=>({textStyle:St().textStyle,title:{text:"Fastapi requests over time",textStyle:{color:pt("color-text"),fontSize:24}},color:[pt("color-septenary")],tooltip:{trigger:"axis",backgroundColor:pt("color-background-card"),borderWidth:1,borderColor:pt("color-border"),formatter:e=>Tt(e,"timetimeInMinutes",ht.toFiCount,!1)},grid:{left:48,right:8,top:80,bottom:64},xAxis:{type:"category",data:s,axisLabel:{rotate:45,formatter:e=>ht.toFiDate(e,"timetimeInMinutes")},axisTick:{alignWithLabel:!0}},yAxis:{type:"value",name:"Requests (kpl)",axisLabel:{formatter:e=>ht.toFiCount(e)}},series:[{name:"Reqests/min",type:"line",areaStyle:{},data:n,smooth:!0}]});this.chartValueGenerators.chart10=m;const g=()=>({textStyle:St().textStyle,title:{text:"Fastapi response times",textStyle:{color:pt("color-text"),fontSize:24}},color:[pt("color-octonary")],tooltip:{trigger:"axis",backgroundColor:pt("color-background-card"),borderWidth:1,borderColor:pt("color-border"),formatter:e=>Tt(e,"none",ht.toFiCount,!1),axisPointer:{type:"shadow",shadowStyle:{color:pt("color-border"),opacity:1}}},grid:{left:64,right:8,top:80,bottom:80},xAxis:{type:"category",data:i,axisLabel:{rotate:45},axisTick:{alignWithLabel:!0}},yAxis:{type:"value",name:"Backend time (ms)",axisLabel:{formatter:e=>ht.toFiCount(e)}},series:[{name:"Reqests",type:"bar",data:l,barWidth:"100%"}]});this.chartValueGenerators.chart11=g;const v=()=>({textStyle:St().textStyle,title:{text:"Error codes by endpoint",textStyle:{color:pt("color-text"),fontSize:24}},color:St().color,tooltip:{trigger:"axis",backgroundColor:pt("color-background-card"),borderWidth:1,borderColor:pt("color-border"),formatter:e=>Tt(e,"none",ht.toFiCount,!1),axisPointer:{type:"shadow",shadowStyle:{color:pt("color-border"),opacity:1}}},grid:{left:64,right:8,top:80,bottom:64},xAxis:{type:"category",data:c,axisLabel:{rotate:45},axisTick:{alignWithLabel:!0}},yAxis:{type:"value",name:"Error count (kpl)",axisLabel:{formatter:e=>ht.toFiCount(e)}},series:r});this.chartValueGenerators.chart12=v}}},watch:{serverLogsTimespan:{deep:!0,async handler(){await this.fetchServerLogs(!0)}}},async mounted(){this.getServiceUrls(),Ct();const e=await Tu.getBackups();e&&(this.backups=e.backups);const t=await Tu.getServerDrivesInfo();if(t)for(const o of Object.entries(t))this.serverStats.storage.push(o[1]);await this.fetchServerLogs(),await this.fetchFastapiLogs()}};const eo=(0,b.A)(Jt,[["render",We],["__scopeId","data-v-8ef5fc9e"]]);var to=eo;const oo={class:"content-width-medium"},ao={class:"flex-column loggedInAs card content-width-extra-small"},so={class:"username"},no={class:"content-width-small"},io={class:"chart-settings"},lo={class:"setting-value"},ro={class:"setting-name"},co={class:"setting-value"},uo={class:"setting-name"},ho={class:"setting-value"},po={class:"content-width-small card danger-zone"},mo={class:"icon-align"},go={class:"flex-row"};function vo(e,t,o,n,i,l){const r=(0,s.g2)("InfoTooltip"),c=(0,s.g2)("IconWarningTriangle"),u=(0,s.g2)("ConfirmationModal");return(0,s.uX)(),(0,s.CE)("div",oo,[t[17]||(t[17]=(0,s.Lk)("h1",null,"Account",-1)),t[18]||(t[18]=(0,s.Lk)("p",null,"Your settings are stored locally on your device. Please note that while your settings are saved locally, all of your data is stored centrally behind your account so that it can be accessed from any device and stays synced.",-1)),(0,s.Lk)("div",ao,[t[10]||(t[10]=(0,s.Lk)("h2",null,"Current account",-1)),(0,s.Lk)("div",null,[t[9]||(t[9]=(0,s.eW)("You are currently logged in as ")),(0,s.Lk)("span",so,(0,d.v_)(i.username),1)]),(0,s.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>l.callApiToLogOut&&l.callApiToLogOut(...e))},"Log out")]),(0,s.Lk)("div",no,[t[14]||(t[14]=(0,s.Lk)("h2",null,"Settings",-1)),(0,s.Lk)("div",io,[t[13]||(t[13]=(0,s.Lk)("div",{class:"setting-name"},' "Balance Over Time" chart\'s initial value ',-1)),(0,s.Lk)("div",lo,[(0,s.bo)((0,s.Lk)("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=e=>i.settings.chart_balance_initial_value=e),placeholder:"0",step:"0.01",onChange:t[2]||(t[2]=(...e)=>l.saveSettings&&l.saveSettings(...e))},null,544),[[a.Jo,i.settings.chart_balance_initial_value]])]),(0,s.Lk)("div",ro,[t[11]||(t[11]=(0,s.eW)(" Amount of transactions loaded at once ")),(0,s.bF)(r,{text:"Must be between 5 and 100"})]),(0,s.Lk)("div",co,[(0,s.bo)((0,s.Lk)("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=e=>i.settings.transactions_load_limit=e),placeholder:"25",step:"1",min:"5",max:"100",onChange:t[4]||(t[4]=(...e)=>l.saveSettings&&l.saveSettings(...e))},null,544),[[a.Jo,i.settings.transactions_load_limit]])]),(0,s.Lk)("div",uo,[t[12]||(t[12]=(0,s.eW)(" Amount of titles loaded at once in all titles list ")),(0,s.bF)(r,{text:"Must be between 5 and 100"})]),(0,s.Lk)("div",ho,[(0,s.bo)((0,s.Lk)("input",{type:"number","onUpdate:modelValue":t[5]||(t[5]=e=>i.settings.list_all_titles_load_limit=e),placeholder:"25",step:"1",min:"5",max:"100",onChange:t[6]||(t[6]=(...e)=>l.saveSettings&&l.saveSettings(...e))},null,544),[[a.Jo,i.settings.list_all_titles_load_limit]])])])]),(0,s.Lk)("div",po,[(0,s.Lk)("h2",null,[(0,s.Lk)("span",mo,[(0,s.bF)(c,{size:"24",right:"var(--spacing-xs)"}),t[15]||(t[15]=(0,s.eW)(" Danger zone "))])]),t[16]||(t[16]=(0,s.Lk)("p",null,"Pay extra attention and be careful with these buttons, as they have significant consequences and are not reversible.",-1)),(0,s.Lk)("div",go,[(0,s.Lk)("button",{class:"button-danger",onClick:t[7]||(t[7]=(...e)=>l.handleAccountDelete&&l.handleAccountDelete(...e))}," Delete account permanently "),(0,s.Lk)("button",{class:"button-danger",onClick:t[8]||(t[8]=(...e)=>l.handleDataReset&&l.handleDataReset(...e))}," Reset user data ")])]),(0,s.bF)(u,{ref:"logOutCM",header:"Log out",text:"Are you sure you want to log out?","affirmative-option":"Log out"},null,512),(0,s.bF)(u,{ref:"deleteAccountCM",header:"Delete Account",text:"Are you sure you want to delete your account? All data will be permanently lost and cannot be recovered.","affirmative-option":"Delete account"},null,512),(0,s.bF)(u,{ref:"deleteAccountConfirmCM",header:"Are you sure?",text:"Are you absolutely sure? This action is permanent and cannot be undone. This is your last warning!","affirmative-option":"Delete account permanently",negativeOption:"Back to safety"},null,512)])}o(1148);function fo(e,t,o,a,n,i){const l=(0,s.g2)("BaseIcon");return(0,s.uX)(),(0,s.Wv)(l,{size:o.size},{default:(0,s.k6)((()=>t[0]||(t[0]=[(0,s.Lk)("path",{d:"M11.001 10h2v5h-2zM11 16h2v2h-2z"},null,-1),(0,s.Lk)("path",{d:"M13.768 4.2C13.42 3.545 12.742 3.138 12 3.138s-1.42.407-1.768 1.063L2.894 18.064a1.986 1.986 0 0 0 .054 1.968A1.984 1.984 0 0 0 4.661 21h14.678c.708 0 1.349-.362 1.714-.968a1.989 1.989 0 0 0 .054-1.968L13.768 4.2zM4.661 19 12 5.137 19.344 19H4.661z"},null,-1)]))),_:1},8,["size"])}var ko={name:"IconWarningTriangle",components:{BaseIcon:w},props:{size:[String,Number]}};const yo=(0,b.A)(ko,[["render",fo]]);var bo=yo;const Lo={class:"buttons"};function wo(e,t,o,a,n,i){const l=(0,s.g2)("GenericModal");return(0,s.uX)(),(0,s.Wv)(l,{ref:"modal",header:o.header,onClosed:t[2]||(t[2]=e=>i.resolve(!1))},{default:(0,s.k6)((()=>[(0,s.Lk)("p",null,(0,d.v_)(o.text),1),(0,s.Lk)("div",Lo,[(0,s.Lk)("button",{class:"button-primary",onClick:t[0]||(t[0]=e=>i.resolve(!0))},(0,d.v_)(o.affirmativeOption),1),(0,s.Lk)("button",{onClick:t[1]||(t[1]=e=>i.resolve(!1))},(0,d.v_)(o.negativeOption),1)])])),_:1},8,["header"])}const _o={class:"modal"},Io={class:"default-content"},Co={class:"title"},To={class:"content"};function xo(e,t,o,n,i,l){const r=(0,s.g2)("IconCross");return i.isVisible?((0,s.uX)(),(0,s.CE)("div",{key:0,class:(0,d.C4)(["modal-backdrop",{"is-displayed":i.isDisplayed}]),onClick:t[0]||(t[0]=(0,a.D$)(((...e)=>l.close&&l.close(...e)),["self"]))},[(0,s.Lk)("div",_o,[(0,s.Lk)("div",Io,[(0,s.Lk)("h2",Co,(0,d.v_)(o.header),1),(0,s.bF)(r,{class:"icon-button",size:"36px",onClick:l.close},null,8,["onClick"])]),(0,s.Lk)("div",To,[(0,s.RG)(e.$slots,"default",{},void 0,!0)])])],2)):(0,s.Q3)("",!0)}var So={name:"GenericModal",components:{IconCross:B},props:{header:{type:String,default:"Modal header"}},data(){return{isVisible:!1,isDisplayed:!1}},methods:{open(){this.closeTimeout&&(clearTimeout(this.closeTimeout),this.closeTimeout=null),document.documentElement.classList.add("no-scroll"),document.addEventListener("keydown",this.closeWithKeypress),this.isVisible=!0,setTimeout((()=>{this.isDisplayed=!0}),10)},close(){document.documentElement.classList.remove("no-scroll"),document.removeEventListener("keydown",this.closeWithKeypress),this.$emit("closed"),this.isDisplayed=!1,this.closeTimeout=setTimeout((()=>{this.isDisplayed||(this.isVisible=!1),this.closeTimeout=null}),200)},closeWithKeypress(e){"Escape"===e.key&&this.close()}}};const Fo=(0,b.A)(So,[["render",xo],["__scopeId","data-v-1bfe61dc"]]);var Do=Fo,Eo={name:"ConfirmationModal",components:{GenericModal:Do},props:{affirmativeOption:{type:String,default:"Yes"},negativeOption:{type:String,default:"Cancel"},header:{type:String,default:"Confirm"},text:{type:String,default:"Are you sure?"}},data(){return{resolvePromise:null}},methods:{open(){this.$refs.modal.open()},close(){this.$refs.modal.close()},resolve(e){this.resolvePromise&&(this.resolvePromise(e),this.resolvePromise=null,this.close())},prompt(){return this.open(),new Promise((e=>{this.resolvePromise=e}))}}};const Mo=(0,b.A)(Eo,[["render",wo],["__scopeId","data-v-323bd345"]]);var Ao=Mo,zo={components:{InfoTooltip:at,IconWarningTriangle:bo,ConfirmationModal:Ao},data(){return{isLoggedIn:"unknown",username:"",showModal:!1,settingNames:["chart_balance_initial_value","transactions_load_limit","list_all_titles_load_limit"],settings:{},settingsInitial:{}}},methods:{async callApiToLogOut(){if(!await this.$refs.logOutCM.prompt())return;const e=await Tu.logOut();e?(this.isLoggedIn="no",this.username=null):this.isLoggedIn="yes"},async handleAccountDelete(){await this.$refs.deleteAccountCM.prompt()&&await this.$refs.deleteAccountConfirmCM.prompt()&&G("Account NOT deleted. Feature is yet to be implemented.")},handleDataReset(){G("Not yet implemented.")},async saveSettings(){if(!this.settingNames.every((e=>Number.isFinite(this.settings[e]))))return void G("Setting not saved! Please enter a valid number.","warning");this.settings.transactions_load_limit=Math.max(5,Math.min(this.settings.transactions_load_limit,100)),this.settings.list_all_titles_load_limit=Math.max(5,Math.min(this.settings.list_all_titles_load_limit,100));const e=[];if(this.settingNames.forEach((t=>{const o=this.settingsInitial[t],a=this.settings[t];a!==o&&e.push({setting:t,value:a})})),e.length>0){const t=await Tu.updateSettings(e);t&&t.message&&(console.log("[saveSettings]",t.message),e.forEach((({setting:e,value:t})=>{this.settingsInitial[e]=t})))}else console.log("[saveSettings] No settings changed")},async loadSettings(){const e=await Tu.getSettings();if(e){console.debug("[loadSettings]",e);for(const[t,o]of Object.entries(e))this.settings[t]=Number(o),this.settingsInitial[t]=Number(o)}}},async mounted(){const e=localStorage.getItem("isLoggedIn");"true"!=e&&Lu.push("/login");const t=localStorage.getItem("username");t&&(this.username=t),this.loadSettings()}};const Wo=(0,b.A)(zo,[["render",vo],["__scopeId","data-v-ec023474"]]);var Oo=Wo;const Xo={id:"spendings-page"},$o={class:"details-modal-content"},Vo={style:{"grid-area":"a","max-width":"25ch"}},Bo={style:{"grid-area":"b","max-width":"25ch"}},Ro={style:{"grid-area":"c","max-width":"50ch"}},Ho={class:"transactions-holder content-width-large"},Uo={class:"transaction-headers transaction-row"},No=["onClick","onKeydown"],Go={ref:"placeForEntries"},Ko={key:0},Po={key:1},Qo=["disabled"],qo={class:"button-primary sticky-corner-button"};function jo(e,t,o,n,i,l){const r=(0,s.g2)("FilterSettings"),c=(0,s.g2)("ModalConfirmation"),u=(0,s.g2)("ModalTransaction"),h=(0,s.g2)("ModalGeneric"),p=(0,s.g2)("SpendingsEntry"),m=(0,s.g2)("IconFilter"),g=(0,s.g2)("IconAdd"),v=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",Xo,[t[12]||(t[12]=(0,s.Lk)("div",{class:"content-width-medium"},[(0,s.Lk)("h1",null,"Spendings page"),(0,s.Lk)("p",null," Welcome to the transactions page! Here, you'll find a comprehensive table listing all your logged transactions. This page not only provides a clear overview of your spending activity but also serves as a powerful tool for managing your financial records. You can easily add new transactions, edit existing ones, duplicate entries for efficiency, or remove items no longer needed. ")],-1)),i.showFilters?((0,s.uX)(),(0,s.Wv)(r,{key:0,onClose:t[0]||(t[0]=e=>i.showFilters=!1),onApply:l.applyFilters,"fullscreen-mode":"true",filterData:i.filterData,filterOptions:i.filterOptions},null,8,["onApply","filterData","filterOptions"])):(0,s.Q3)("",!0),(0,s.bF)(c,{ref:"deleteTransactionMC",header:"Delete transaction",text:"Are you sure you want to delete the transaction? This cannot be undone","affirmative-option":"Delete transaction"},null,512),(0,s.bF)(u,{ref:"editTransactionMT"},null,512),(0,s.bF)(h,{ref:"showTransactionMG"},{default:(0,s.k6)((()=>[(0,s.Lk)("div",$o,[(0,s.Lk)("div",Vo,[t[3]||(t[3]=(0,s.Lk)("h4",null,"ID",-1)),(0,s.Lk)("span",null,(0,d.v_)(i.transactionToShow.transaction_id),1),t[4]||(t[4]=(0,s.Lk)("h4",null,"Direction",-1)),(0,s.Lk)("span",null,(0,d.v_)(i.transactionToShow.direction),1),t[5]||(t[5]=(0,s.Lk)("h4",null,"Date",-1)),(0,s.Lk)("span",null,(0,d.v_)(l.convertToFiDate(i.transactionToShow.date,"fullWithWeek")),1)]),(0,s.Lk)("div",Bo,[t[7]||(t[7]=(0,s.Lk)("h4",null,"Counterparty",-1)),(0,s.Lk)("span",null,(0,d.v_)(i.transactionToShow.counterparty),1),t[8]||(t[8]=(0,s.Lk)("h4",null,"Amount breakdown",-1)),(0,s.Lk)("ul",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.transactionToShow.categories,((e,t)=>((0,s.uX)(),(0,s.CE)("li",{key:t},(0,d.v_)(e.category)+": "+(0,d.v_)(l.convertToEur(e.amount)),1)))),128))]),(0,s.Lk)("span",null,[t[6]||(t[6]=(0,s.eW)(" Total amount: ")),(0,s.Lk)("b",null,(0,d.v_)(l.convertToEur(i.transactionToShow.categories.reduce(((e,t)=>e+t.amount),0))),1)])]),(0,s.Lk)("div",Ro,[t[9]||(t[9]=(0,s.Lk)("h4",null,"Notes",-1)),(0,s.Lk)("span",{style:(0,d.Tr)(i.transactionToShow.notes?"":"color: var(--color-text-hidden);")},(0,d.v_)(i.transactionToShow.notes||"(This entry doesn't have notes)"),5)])])])),_:1},512),(0,s.Lk)("div",Ho,[(0,s.Lk)("div",Uo,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.columns,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.key,class:(0,d.C4)([e.class,{active:i.apiFilters.sort_by===e.key,inactive:i.apiFilters.sort_by!==e.key,loading:i.waitingForResponse}]),tabindex:"0",onClick:t=>l.sortBy(e.key),onKeydown:[(0,a.jR)((t=>l.sortBy(e.key)),["enter"]),(0,a.jR)((0,a.D$)((t=>l.sortBy(e.key)),["prevent"]),["space"])]},[(0,s.eW)((0,d.v_)(e.label)+" ",1),((0,s.uX)(),(0,s.Wv)((0,s.$y)(l.getSortIcon(e.key)),{style:(0,d.Tr)({fill:i.waitingForResponse?"var(--color-text-hidden)":""}),size:"20px"},null,8,["style"]))],42,No)))),128))]),(0,s.Lk)("div",Go,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.transactions,((e,t)=>((0,s.uX)(),(0,s.Wv)(p,{key:e.transactionID,transaction:e,"is-expanded":i.expandedIndex===t,onToggle:e=>l.toggleEntry(t),onRefreshTable:l.refreshTable,onDeleteTransaction:t=>l.handleDeleteTransaction(e),onEditTransaction:t=>l.handleEditTransaction(e),onShowTransaction:t=>l.handleShowTransaction(e)},null,8,["transaction","is-expanded","onToggle","onRefreshTable","onDeleteTransaction","onEditTransaction","onShowTransaction"])))),128)),i.waitingForResponse&&0===i.apiFilters.offset?((0,s.uX)(),(0,s.CE)("div",Ko,[((0,s.uX)(),(0,s.CE)(s.FK,null,(0,s.pI)(15,(e=>(0,s.Lk)("div",{class:"transaction-row",key:e},t[10]||(t[10]=[(0,s.Fv)('<div class="transaction-cell column-date"><div class="loading-placeholder"></div></div><div class="transaction-cell column-counterparty"><div class="loading-placeholder"></div></div><div class="transaction-cell column-category"><div class="loading-placeholder"></div></div><div class="transaction-cell column-amount"><div class="loading-placeholder"></div></div><div class="transaction-cell column-notes"><div class="loading-placeholder"></div></div>',5)])))),64))])):0==i.transactions.length?((0,s.uX)(),(0,s.CE)("div",Po,t[11]||(t[11]=[(0,s.Lk)("div",{class:"no-transactions-found content-not-found"},[(0,s.eW)(" Looks like there's nothing here"),(0,s.Lk)("br"),(0,s.Lk)("span",{class:"text-hidden"},"You either have no transactions or your filters excluded them.")],-1)]))):(0,s.Q3)("",!0)],512)]),i.loadMoreButtonVisible?((0,s.uX)(),(0,s.CE)("button",{key:1,class:(0,d.C4)(["center",{loading:i.waitingForResponse}]),onClick:t[1]||(t[1]=(...e)=>l.loadMore&&l.loadMore(...e)),disabled:i.waitingForResponse}," Load more ",10,Qo)):(0,s.Q3)("",!0),(0,s.Lk)("button",{class:"button-primary sticky-corner-button",onClick:t[2]||(t[2]=e=>{this.showFilters=!this.showFilters}),style:{"margin-bottom":"calc(var(--spacing-lg) * 1.5 + 52px)"}},[(0,s.bF)(m,{size:"28px"})]),(0,s.bF)(v,{to:"/spendings/new_entry",tabindex:"-1"},{default:(0,s.k6)((()=>[(0,s.Lk)("button",qo,[(0,s.bF)(g,{size:"28px"})])])),_:1})])}const Zo={class:"transaction-row"},Yo={class:"transaction-cell column-date"},Jo={class:"transaction-cell column-counterparty fade-right"},ea={class:"transaction-cell column-category"},ta={class:"transaction-cell column-notes"},oa={class:"control-buttons"},aa=["tabindex"],sa=["tabindex"],na=["tabindex"],ia=["tabindex"];function la(e,t,o,n,i,l){const r=(0,s.g2)("IconTrash"),c=(0,s.g2)("IconCopy"),u=(0,s.g2)("IconEdit"),h=(0,s.g2)("IconDetails");return(0,s.uX)(),(0,s.CE)("div",{class:(0,d.C4)(["transaction-component",{expanded:o.isExpanded,"in-future":new Date(o.transaction.date)>new Date}]),onClick:t[4]||(t[4]=t=>e.$emit("toggle")),ref:`transaction${o.transaction.transaction_id}`,tabindex:"0",onKeydown:[t[5]||(t[5]=(0,a.jR)((t=>e.$emit("toggle")),["enter"])),t[6]||(t[6]=(0,a.jR)((0,a.D$)((t=>e.$emit("toggle")),["prevent"]),["space"]))]},[(0,s.Lk)("div",Zo,[(0,s.Lk)("div",Yo,(0,d.v_)(l.shortFormattedDate),1),(0,s.Lk)("div",Jo,(0,d.v_)(l.counterparty),1),(0,s.Lk)("div",ea,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.categories,((e,t)=>((0,s.uX)(),(0,s.CE)("span",{key:t,class:(0,d.C4)(["item",{"transaction-items-summary fade-right":0===t,"transaction-item":1===t}])},(0,d.v_)(e),3)))),128))]),(0,s.Lk)("div",{class:(0,d.C4)(["transaction-cell column-amount",this.transaction.direction])},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.amounts,((e,t)=>((0,s.uX)(),(0,s.CE)("span",{key:t,class:(0,d.C4)(["item",{"transaction-items-summary":0===t,"transaction-item":1===t,"inverse-amount":e<0}])},(0,d.v_)(l.formatAmount(e)),3)))),128))],2),(0,s.Lk)("div",ta,(0,d.v_)(l.notes),1)]),(0,s.Lk)("div",oa,[(0,s.Lk)("button",{class:"button-delete button-danger",onClick:t[0]||(t[0]=(0,a.D$)((t=>e.$emit("deleteTransaction")),["stop"])),tabindex:o.isExpanded?0:-1},[(0,s.bF)(r,{size:"18px"})],8,aa),(0,s.Lk)("button",{disabled:"true",title:"Coming soon!",class:"button-duplicate",onClick:t[1]||(t[1]=(0,a.D$)((()=>{}),["stop"])),tabindex:o.isExpanded?0:-1},[(0,s.bF)(c,{size:"18px"})],8,sa),(0,s.Lk)("button",{class:"button-edit",onClick:t[2]||(t[2]=(0,a.D$)((t=>e.$emit("editTransaction")),["stop"])),tabindex:o.isExpanded?0:-1},[(0,s.bF)(u,{size:"18px"})],8,na),(0,s.Lk)("button",{class:"button-details button-primary",onClick:t[3]||(t[3]=(0,a.D$)((t=>e.$emit("showTransaction")),["stop"])),tabindex:o.isExpanded?0:-1},[(0,s.bF)(h,{size:"18px"}),t[7]||(t[7]=(0,s.eW)("Details "))],8,ia)])],34)}function ra(e,t,o,a,n,i){const l=(0,s.g2)("BaseIcon");return(0,s.uX)(),(0,s.Wv)(l,{size:o.size},{default:(0,s.k6)((()=>t[0]||(t[0]=[(0,s.Lk)("path",{d:"M20 2H10c-1.103 0-2 .897-2 2v4H4c-1.103 0-2 .897-2 2v10c0 1.103.897 2 2 2h10c1.103 0 2-.897 2-2v-4h4c1.103 0 2-.897 2-2V4c0-1.103-.897-2-2-2zM4 20V10h10l.002 10H4zm16-6h-4v-4c0-1.103-.897-2-2-2h-4V4h10v10z"},null,-1)]))),_:1},8,["size"])}var ca={name:"IconCopy",components:{BaseIcon:w},props:{size:[String,Number]}};const da=(0,b.A)(ca,[["render",ra]]);var ua=da;function ha(e,t,o,a,n,i){const l=(0,s.g2)("BaseIcon");return(0,s.uX)(),(0,s.Wv)(l,{size:o.size},{default:(0,s.k6)((()=>t[0]||(t[0]=[(0,s.Lk)("path",{d:"M19.045 7.401c.378-.378.586-.88.586-1.414s-.208-1.036-.586-1.414l-1.586-1.586c-.378-.378-.88-.586-1.414-.586s-1.036.208-1.413.585L4 13.585V18h4.413L19.045 7.401zm-3-3 1.587 1.585-1.59 1.584-1.586-1.585 1.589-1.584zM6 16v-1.585l7.04-7.018 1.586 1.586L7.587 16H6zm-2 4h16v2H4z"},null,-1)]))),_:1},8,["size"])}var pa={name:"IconEdit",components:{BaseIcon:w},props:{size:[String,Number]}};const ma=(0,b.A)(pa,[["render",ha]]);var ga=ma;function va(e,t,o,a,n,i){const l=(0,s.g2)("BaseIcon");return(0,s.uX)(),(0,s.Wv)(l,{size:o.size},{default:(0,s.k6)((()=>t[0]||(t[0]=[(0,s.Lk)("path",{d:"M20 3H4c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2V5c0-1.103-.897-2-2-2zM4 19V5h16l.002 14H4z"},null,-1),(0,s.Lk)("path",{d:"M6 7h12v2H6zm0 4h12v2H6zm0 4h6v2H6z"},null,-1)]))),_:1},8,["size"])}var fa={name:"IconDetails",components:{BaseIcon:w},props:{size:[String,Number]}};const ka=(0,b.A)(fa,[["render",va]]);var ya=ka;function ba(e,t,o,a,n,i){const l=(0,s.g2)("BaseIcon");return(0,s.uX)(),(0,s.Wv)(l,{size:o.size},{default:(0,s.k6)((()=>t[0]||(t[0]=[(0,s.Lk)("path",{d:"M6 7H5v13a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V7H6zm4 12H8v-9h2v9zm6 0h-2v-9h2v9zm.618-15L15 2H9L7.382 4H3v2h18V4z"},null,-1)]))),_:1},8,["size"])}var La={name:"IconTrash",components:{BaseIcon:w},props:{size:[String,Number]}};const wa=(0,b.A)(La,[["render",ba]]);var _a=wa,Ia={name:"SpendingsEntry",components:{IconDetails:ya,IconCopy:ua,IconEdit:ga,IconTrash:_a},emits:["toggle","refreshTable"],props:{transaction:{category:Object,required:!0},isExpanded:{category:Boolean,default:!1}},data(){return{showModal:!1,modalCategory:"",modalHeader:"",returnBackToHeight:"41px"}},methods:{formatAmount(e){try{let t=Number(e);return t=t<0?-1*t:t,Number.isFinite(t)?`${t.toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})} â¬`:""}catch(t){return console.error("Format amount error:",t),e}},refreshTable(){this.$emit("refreshTable")}},watch:{isExpanded(e){if(e){const e=this.$refs[`transaction${this.transaction.transaction_id}`];if(!e)return;e.style.height=e.scrollHeight+"px"}else{const e=this.$refs[`transaction${this.transaction.transaction_id}`];if(!e)return;e.style.height=this.returnBackToHeight}}},computed:{amounts(){const e=this.transaction.categories.reduce(((e,t)=>e+t.amount),0);return this.transaction.categories.length>1?[e,...this.transaction.categories.map((e=>e.amount))]:[e]},categories(){if(this.transaction.categories.length>1){const e=this.isExpanded?"Total sum:":this.transaction.categories.map((e=>e.category)).join(", "),t=this.transaction.categories.map((e=>e.category));return[e,...t]}{const e=this.transaction.categories[0].category;return[e]}},counterparty(){return this.transaction.counterparty},notes(){return this.transaction.notes},formattedDate(){const e={weekday:"short",year:"numeric",month:"short",day:"numeric"},t=new Date(this.transaction.date);return t.toLocaleDateString("fi-FI",e)},shortFormattedDate(){const e={year:"numeric",month:"2-digit",day:"2-digit"},t=new Date(this.transaction.date);return t.toLocaleDateString("fi-FI",e)}}};const Ca=(0,b.A)(Ia,[["render",la],["__scopeId","data-v-44f9d616"]]);var Ta=Ca;const xa={class:"filter-content",ref:"filter-content"},Sa={class:"slider-wrapper"},Fa={class:"slider-min-wrapper"},Da={class:"slider-max-wrapper"},Ea={class:"slider",ref:"amountSlider"},Ma={class:"slider-wrapper"},Aa={class:"slider-min-wrapper"},za={type:"date",ref:"dateMin"},Wa={class:"slider-max-wrapper"},Oa={type:"date",ref:"dateMax"},Xa={class:"slider",ref:"dateSlider"},$a={class:"drop-down drop-down-wrapper"},Va={ref:"drop-down-content-counterparty"},Ba={class:"expense-section"},Ra=["onClick"],Ha={class:"income-section"},Ua=["onClick"],Na={class:"drop-down drop-down-wrapper categories-header"},Ga={ref:"drop-down-content-category"},Ka={class:"expense-section"},Pa=["onClick"],Qa={class:"income-section"},qa=["onClick"];function ja(e,t,o,n,i,l){const r=(0,s.g2)("IconCheckboxChecked"),c=(0,s.g2)("IconCheckboxMinus"),u=(0,s.g2)("IconChevronDown"),h=(0,s.g2)("IconCheckbox");return(0,s.uX)(),(0,s.CE)("div",{class:(0,d.C4)(["filter-backdrop backdrop",{active:o.fullscreenMode}]),onMousedown:t[7]||(t[7]=(0,a.D$)((e=>l.closeFiltersMouseDown()),["self"])),onMouseup:t[8]||(t[8]=(0,a.D$)((e=>l.closeFiltersMouseUp()),["self"]))},[(0,s.Lk)("div",xa,[t[17]||(t[17]=(0,s.Lk)("h2",null,"Filters",-1)),t[18]||(t[18]=(0,s.Lk)("h4",{class:"amount-and-date-headers"},"Amount",-1)),(0,s.Lk)("div",Sa,[(0,s.Lk)("div",Fa,[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.localFilterData.amount.lowerLimit=e),type:"number",ref:"amountMin"},null,512),[[a.Jo,i.localFilterData.amount.lowerLimit,void 0,{number:!0}]])]),(0,s.Lk)("div",Da,[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>i.localFilterData.amount.upperLimit=e),type:"number",ref:"amountMax"},null,512),[[a.Jo,i.localFilterData.amount.upperLimit,void 0,{number:!0}]])]),(0,s.Lk)("div",Ea,null,512)]),t[19]||(t[19]=(0,s.Lk)("h4",{class:"amount-and-date-headers"},"Date",-1)),(0,s.Lk)("div",Ma,[(0,s.Lk)("div",Aa,[(0,s.Lk)("input",za,null,512)]),(0,s.Lk)("div",Wa,[(0,s.Lk)("input",Oa,null,512)]),(0,s.Lk)("div",Xa,null,512)]),t[20]||(t[20]=(0,s.Lk)("div",{class:"spacer-line"},null,-1)),(0,s.Lk)("div",$a,[(0,s.Lk)("h4",{class:"drop-down-header",onClick:t[3]||(t[3]=(0,a.D$)((e=>l.toggleDropdown("counterparty")),["self"]))},[t[10]||(t[10]=(0,s.eW)(" Counterparties ")),(0,s.Lk)("span",{onClick:t[2]||(t[2]=e=>i.localFilterData.counterparty.mode="include"===i.localFilterData.counterparty.mode?"exclude":"include"),title:"[Include only selected] / [Exclude selected]",class:(0,d.C4)(["mode-flipper-in-header",{exclude:"exclude"===i.localFilterData.counterparty.mode,include:"include"===i.localFilterData.counterparty.mode}])},[(0,s.Lk)("span",null,[(0,s.bF)(r,{color:"var(--color-primary)",colorHover:"var(--color-primary-hover)"})]),(0,s.Lk)("span",null,[(0,s.bF)(c,{color:"var(--color-negative)",colorHover:"var(--color-negative-hover)"})]),t[9]||(t[9]=(0,s.Lk)("div",{class:"flipper"},null,-1))],2),(0,s.bF)(u,{color:"var(--color-text-light)",class:(0,d.C4)(["drop-down-indicator",{active:"counterparty"===i.activeDropdown}])},null,8,["class"])]),(0,s.Lk)("div",{class:"drop-down-content",style:(0,d.Tr)({height:l.filterDropDownHeight("counterparty")+"px"})},[(0,s.Lk)("div",Va,[(0,s.Lk)("div",Ba,[t[11]||(t[11]=(0,s.Lk)("h5",null,"Expense",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.filterOptions.counterparty.expense,(e=>((0,s.uX)(),(0,s.CE)("div",{key:"counterparty-expense-"+e,class:"option",onClick:t=>l.toggleCounterpartySelection(e)},[i.localFilterData.counterparty.selected.includes(e)&&"include"===i.localFilterData.counterparty.mode?((0,s.uX)(),(0,s.Wv)(r,{key:0,color:"var(--color-primary)",colorHover:"var(--color-primary-hover)"})):(0,s.Q3)("",!0),i.localFilterData.counterparty.selected.includes(e)&&"exclude"===i.localFilterData.counterparty.mode?((0,s.uX)(),(0,s.Wv)(c,{key:1,color:"var(--color-negative)",colorHover:"var(--color-negative-hover)"})):(0,s.Q3)("",!0),i.localFilterData.counterparty.selected.includes(e)?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.Wv)(h,{key:2,color:"var(--color-text-light)"})),(0,s.eW)(" "+(0,d.v_)(e),1)],8,Ra)))),128))]),(0,s.Lk)("div",Ha,[t[12]||(t[12]=(0,s.Lk)("h5",null,"Income",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.filterOptions.counterparty.income,(e=>((0,s.uX)(),(0,s.CE)("div",{key:"counterparty-income-"+e,class:"option",onClick:t=>l.toggleCounterpartySelection(e)},[i.localFilterData.counterparty.selected.includes(e)&&"include"===i.localFilterData.counterparty.mode?((0,s.uX)(),(0,s.Wv)(r,{key:0,color:"var(--color-primary)",colorHover:"var(--color-primary-hover)"})):(0,s.Q3)("",!0),i.localFilterData.counterparty.selected.includes(e)&&"exclude"===i.localFilterData.counterparty.mode?((0,s.uX)(),(0,s.Wv)(c,{key:1,color:"var(--color-negative)",colorHover:"var(--color-negative-hover)"})):(0,s.Q3)("",!0),i.localFilterData.counterparty.selected.includes(e)?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.Wv)(h,{key:2,color:"var(--color-text-light)"})),(0,s.eW)(" "+(0,d.v_)(e),1)],8,Ua)))),128))])],512)],4)]),(0,s.Lk)("div",Na,[(0,s.Lk)("h4",{class:"drop-down-header",onClick:t[5]||(t[5]=(0,a.D$)((e=>l.toggleDropdown("category")),["self"]))},[t[14]||(t[14]=(0,s.eW)(" Categories ")),(0,s.Lk)("span",{onClick:t[4]||(t[4]=e=>i.localFilterData.category.mode="include"===i.localFilterData.category.mode?"exclude":"include"),title:"[Include only selected] / [Exclude selected]",class:(0,d.C4)(["mode-flipper-in-header",{exclude:"exclude"===i.localFilterData.category.mode,include:"include"===i.localFilterData.category.mode}])},[(0,s.Lk)("span",null,[(0,s.bF)(r,{color:"var(--color-primary)",colorHover:"var(--color-primary-hover)"})]),(0,s.Lk)("span",null,[(0,s.bF)(c,{color:"var(--color-negative)",colorHover:"var(--color-negative-hover)"})]),t[13]||(t[13]=(0,s.Lk)("div",{class:"flipper"},null,-1))],2),(0,s.bF)(u,{color:"var(--color-text-light)",class:(0,d.C4)(["drop-down-indicator",{active:"category"===i.activeDropdown}])},null,8,["class"])]),(0,s.Lk)("div",{class:"drop-down-content",style:(0,d.Tr)({height:l.filterDropDownHeight("category")+"px"})},[(0,s.Lk)("div",Ga,[(0,s.Lk)("div",Ka,[t[15]||(t[15]=(0,s.Lk)("h5",null,"Expense",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.filterOptions.category.expense,(e=>((0,s.uX)(),(0,s.CE)("div",{key:"category-expense-"+e,class:"option",onClick:t=>l.toggleCategorySelection(e)},[i.localFilterData.category.selected.includes(e)&&"include"===i.localFilterData.category.mode?((0,s.uX)(),(0,s.Wv)(r,{key:0,color:"var(--color-primary)",colorHover:"var(--color-primary-hover)"})):(0,s.Q3)("",!0),i.localFilterData.category.selected.includes(e)&&"exclude"===i.localFilterData.category.mode?((0,s.uX)(),(0,s.Wv)(c,{key:1,color:"var(--color-negative)",colorHover:"var(--color-negative-hover)"})):(0,s.Q3)("",!0),i.localFilterData.category.selected.includes(e)?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.Wv)(h,{key:2,color:"var(--color-text-light)"})),(0,s.eW)(" "+(0,d.v_)(e),1)],8,Pa)))),128))]),(0,s.Lk)("div",Qa,[t[16]||(t[16]=(0,s.Lk)("h5",null,"Income",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.filterOptions.category.income,(e=>((0,s.uX)(),(0,s.CE)("div",{key:"category-income-"+e,class:"option",onClick:t=>l.toggleCategorySelection(e)},[i.localFilterData.category.selected.includes(e)&&"include"===i.localFilterData.category.mode?((0,s.uX)(),(0,s.Wv)(r,{key:0,color:"var(--color-primary)",colorHover:"var(--color-primary-hover)"})):(0,s.Q3)("",!0),i.localFilterData.category.selected.includes(e)&&"exclude"===i.localFilterData.category.mode?((0,s.uX)(),(0,s.Wv)(c,{key:1,color:"var(--color-negative)",colorHover:"var(--color-negative-hover)"})):(0,s.Q3)("",!0),i.localFilterData.category.selected.includes(e)?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.Wv)(h,{key:2,color:"var(--color-text-light)"})),(0,s.eW)(" "+(0,d.v_)(e),1)],8,qa)))),128))])],512)],4)]),(0,s.Lk)("button",{class:"button-primary apply",onClick:t[6]||(t[6]=e=>l.applyFilters())},"Apply")],512)],34)}function Za(e,t,o,a,n,i){const l=(0,s.g2)("BaseIcon");return(0,s.uX)(),(0,s.Wv)(l,{size:o.size},{default:(0,s.k6)((()=>t[0]||(t[0]=[(0,s.Lk)("path",{d:"M7 5c-1.103 0-2 .897-2 2v10c0 1.103.897 2 2 2h10c1.103 0 2-.897 2-2V7c0-1.103-.897-2-2-2H7zm0 12V7h10l.002 10H7z M10.996 12.556 9.7 11.285l-1.4 1.43 2.704 2.647 4.699-4.651-1.406-1.422zM7 7h10v10H7z"},null,-1)]))),_:1},8,["size"])}var Ya={name:"IconCheckbox",components:{BaseIcon:w},props:{size:[String,Number]}};const Ja=(0,b.A)(Ya,[["render",Za]]);var es=Ja;function ts(e,t,o,a,n,i){const l=(0,s.g2)("BaseIcon");return(0,s.uX)(),(0,s.Wv)(l,{size:o.size},{default:(0,s.k6)((()=>t[0]||(t[0]=[(0,s.Lk)("path",{d:"M9.01 11h6v2h-6z M17 5H7a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z"},null,-1)]))),_:1},8,["size"])}var os={name:"IconCheckbox",components:{BaseIcon:w},props:{size:[String,Number]}};const as=(0,b.A)(os,[["render",ts]]);var ss=as;function ns(e,t,o,a,n,i){const l=(0,s.g2)("BaseIcon");return(0,s.uX)(),(0,s.Wv)(l,{size:o.size},{default:(0,s.k6)((()=>t[0]||(t[0]=[(0,s.Lk)("path",{d:"M7 5c-1.103 0-2 .897-2 2v10c0 1.103.897 2 2 2h10c1.103 0 2-.897 2-2V7c0-1.103-.897-2-2-2H7zm0 12V7h10l.002 10H7z"},null,-1)]))),_:1},8,["size"])}var is={name:"IconCheckbox",components:{BaseIcon:w},props:{size:[String,Number]}};const ls=(0,b.A)(is,[["render",ns]]);var rs=ls,cs=o(8539),ds={name:"FilterSettings",components:{IconCheckboxChecked:es,IconCheckboxMinus:ss,IconCheckbox:rs,IconChevronDown:qt},props:{fullscreenMode:{category:Boolean,default:!1},filterData:{category:Object,default:{}},filterOptions:{category:Object,default:{}}},data(){return{activeDropdown:"",localFilterData:JSON.parse(JSON.stringify(this.filterData)),closeFiltersMouseisDown:!1}},methods:{closeFilters(){this.$emit("close")},closeFiltersMouseDown(){this.closeFiltersMouseisDown=!0},closeFiltersMouseUp(){this.closeFiltersMouseisDown&&(this.closeFilters(),this.closeFiltersMouseisDown=!1)},filterDropDownHeight(e){const t=`drop-down-content-${e}`;if(this.activeDropdown===e){const e=this.$refs[t]?.getBoundingClientRect().height+8,o=this.$refs["filter-content"]?.children||[],a=Array.from(o).reduce(((e,t)=>{if(t.classList.contains("drop-down"))return e+61;{const o=window.getComputedStyle(t),a=parseFloat(o.marginTop)||0,s=parseFloat(o.marginBottom)||0,n=t.getBoundingClientRect().height,i=n+a+s;return e+i}}),0),s=window.getComputedStyle(this.$refs["filter-content"]),n=parseFloat(s.paddingTop)+parseFloat(s.paddingBottom),i=window.innerHeight-a-n,l=Math.min(i,e);return l}return 0},toggleDropdown(e){this.activeDropdown===e?this.activeDropdown=null:this.activeDropdown=e},toggleCounterpartySelection(e){const t=this.localFilterData.counterparty.selected.indexOf(e);-1===t?this.localFilterData.counterparty.selected.push(e):this.localFilterData.counterparty.selected.splice(t,1)},toggleCategorySelection(e){const t=this.localFilterData.category.selected.indexOf(e);-1===t?this.localFilterData.category.selected.push(e):this.localFilterData.category.selected.splice(t,1)},applyFilters(){this.$emit("apply",this.localFilterData),console.log("[FilterSettings] Applied filters:",this.localFilterData)},getSliderValues(){const e=this.$refs.amountSlider.noUiSlider.get(),t=this.$refs.dateSlider.noUiSlider.get();console.log("Amount:",e,"Date:",t)}},watch:{filterData:{handler(e){this.localFilterData=JSON.parse(JSON.stringify(e))},deep:!0}},computed:{formatToDateMonth(){return{from:function(e){return new Date(e).getTime()},to:function(e){const t=new Date(e),o=t.getMonth()+1,a=t.getFullYear().toString().slice(-2);return`${o}/${a}`}}},formatToDate(){return{from:function(e){return new Date(e).getTime()},to:function(e){const t=new Date(e),o={year:"numeric",month:"2-digit",day:"2-digit"};return t.toLocaleDateString("fi-FI",o)}}},formatToAmount(){return{from:function(e){return e},to:function(e){return e.toFixed(2)+" â¬"}}},dateSliderPipValues(){const e=[],t=new Date(this.filterOptions.date.min),o=new Date(this.filterOptions.date.max),a=3;let s=(a-t.getMonth()%a)%a,n=new Date(t.getFullYear(),t.getMonth()+s,1);while(n<o)e.push(n.getTime()),n.setMonth(n.getMonth()+a);return e}},async mounted(){this.fullscreenMode&&document.documentElement.classList.add("no-scroll"),cs.Ay.create(this.$refs.amountSlider,{start:[this.localFilterData.amount.lowerLimit,this.localFilterData.amount.upperLimit],connect:!0,behaviour:"drag",range:{min:this.filterOptions.amount.min?this.filterOptions.amount.min:0,"50%":0,max:this.filterOptions.amount.max?this.filterOptions.amount.max:0},pips:{mode:"count",values:5,density:3,format:this.formatToAmount}}),this.$refs.amountSlider.noUiSlider.on("update",(e=>{this.localFilterData.amount.lowerLimit=parseFloat(e[0]),this.localFilterData.amount.upperLimit=parseFloat(e[1])})),this.$refs.amountMin.addEventListener("change",(()=>{this.$refs.amountSlider.noUiSlider.set([this.localFilterData.amount.lowerLimit,this.localFilterData.amount.upperLimit])})),this.$refs.amountMax.addEventListener("change",(()=>{this.$refs.amountSlider.noUiSlider.set([this.localFilterData.amount.lowerLimit,this.localFilterData.amount.upperLimit])})),cs.Ay.create(this.$refs.dateSlider,{start:[this.localFilterData.date.lowerLimit,this.localFilterData.date.upperLimit],connect:!0,behaviour:"drag",range:{min:this.filterOptions.date.min?this.filterOptions.date.min:(new Date).getTime(),max:this.filterOptions.date.max?this.filterOptions.date.max:(new Date).getTime()},step:864e5,pips:{mode:"values",values:this.dateSliderPipValues,density:3,format:this.formatToDateMonth,stepped:!0}}),this.$refs.dateSlider.noUiSlider.on("update",(e=>{this.localFilterData.date.lowerLimit=parseFloat(e[0]),this.localFilterData.date.upperLimit=parseFloat(e[1]);const t=new Date(this.localFilterData.date.lowerLimit),o=new Date(this.localFilterData.date.upperLimit);this.$refs.dateMin.value=`${t.getFullYear()}-${(t.getMonth()+1).toString().padStart(2,"0")}-${t.getDate().toString().padStart(2,"0")}`,this.$refs.dateMax.value=`${o.getFullYear()}-${(o.getMonth()+1).toString().padStart(2,"0")}-${o.getDate().toString().padStart(2,"0")}`})),this.$refs.dateMin.addEventListener("change",(()=>{this.localFilterData.date.lowerLimit=new Date(this.$refs.dateMin.value).getTime(),this.$refs.dateSlider.noUiSlider.set([this.localFilterData.date.lowerLimit,this.localFilterData.date.upperLimit])})),this.$refs.dateMax.addEventListener("change",(()=>{this.localFilterData.date.upperLimit=new Date(this.$refs.dateMax.value).getTime(),this.$refs.dateSlider.noUiSlider.set([this.localFilterData.date.lowerLimit,this.localFilterData.date.upperLimit])}))},beforeUnmount(){document.documentElement.classList.remove("no-scroll")}};const us=(0,b.A)(ds,[["render",ja],["__scopeId","data-v-02d3db49"]]);var hs=us;function ps(e,t,o,a,n,i){const l=(0,s.g2)("EntryForm"),r=(0,s.g2)("GenericModal");return(0,s.uX)(),(0,s.Wv)(r,{ref:"modal",header:e.header,onClosed:t[0]||(t[0]=e=>i.resolve(!1))},{default:(0,s.k6)((()=>[(0,s.bF)(l,{initialTransaction:n.initialTransaction,onSubmit:i.resolve},null,8,["initialTransaction","onSubmit"])])),_:1},8,["header"])}const ms={class:"grid-direction"},gs={class:"grid-date"},vs={class:"grid-counterparty"},fs={class:"grid-categories"},ks={class:"grid-amount"},ys=["onUpdate:modelValue","id"],bs={class:"grid-category"},Ls=["onClick"],ws={class:"categories-last-row category-aligner"},_s={class:"subtotal-value"},Is={class:"grid-notes"};function Cs(e,t,o,n,i,l){const r=(0,s.g2)("slider-toggle"),c=(0,s.g2)("v-select"),u=(0,s.g2)("IconCross");return(0,s.uX)(),(0,s.CE)("form",{onSubmit:t[5]||(t[5]=(0,a.D$)(((...e)=>l.handleSubmit&&l.handleSubmit(...e)),["prevent"]))},[(0,s.Lk)("div",ms,[t[6]||(t[6]=(0,s.Lk)("label",{for:"direction"},"Direction",-1)),t[7]||(t[7]=(0,s.Lk)("br",null,null,-1)),(0,s.bF)(r,{modelValue:i.formData.direction,"onUpdate:modelValue":t[0]||(t[0]=e=>i.formData.direction=e),options:["expense","income"]},null,8,["modelValue"])]),(0,s.Lk)("div",gs,[t[8]||(t[8]=(0,s.Lk)("label",{for:"date"},"Date",-1)),t[9]||(t[9]=(0,s.Lk)("br",null,null,-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>i.formData.date=e),id:"date",type:"date",required:""},null,512),[[a.Jo,i.formData.date]])]),(0,s.Lk)("div",vs,[t[10]||(t[10]=(0,s.Lk)("label",{for:"counterparty"},"Counterparty",-1)),t[11]||(t[11]=(0,s.Lk)("br",null,null,-1)),(0,s.bF)(c,{modelValue:i.formData.counterparty,"onUpdate:modelValue":t[2]||(t[2]=e=>i.formData.counterparty=e),label:"counterparty",options:i.counterpartyOptions,placeholder:"Select or type...",taggable:""},null,8,["modelValue","options"])]),t[16]||(t[16]=(0,s.Lk)("div",{class:"grid-categories-labels category-aligner"},[(0,s.Lk)("label",{for:"amount"},"Amount"),(0,s.Lk)("label",{for:"category"},"Category")],-1)),(0,s.Lk)("div",fs,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.formData.categories,((e,t)=>((0,s.uX)(),(0,s.CE)("div",{key:t,class:(0,d.C4)(["category-aligner",{"remove-category-button-hidden":!this.formData.categories[1]}])},[(0,s.Lk)("div",ks,[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t=>e.amount=t,id:"amount-"+t,type:"number",step:"0.01",placeholder:"Number...",required:""},null,8,ys),[[a.Jo,e.amount]])]),(0,s.Lk)("div",bs,[(0,s.bF)(c,{modelValue:e.category,"onUpdate:modelValue":t=>e.category=t,id:"category-"+t,label:"category",options:i.categoryOptions,placeholder:"Select or type...",taggable:""},null,8,["modelValue","onUpdate:modelValue","id","options"])]),i.formData.categories.length>1?((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:e=>l.removeEntry(t),class:"remove-category-button button-simple"},[(0,s.bF)(u,{size:"30"})],8,Ls)):(0,s.Q3)("",!0)],2)))),128)),(0,s.Lk)("div",ws,[(0,s.Lk)("div",null,[(0,s.Lk)("div",_s,[t[12]||(t[12]=(0,s.Lk)("span",null,"Total:",-1)),t[13]||(t[13]=(0,s.eW)()),(0,s.Lk)("div",null,(0,d.v_)(l.subtotal),1)])]),(0,s.Lk)("div",null,[(0,s.Lk)("button",{type:"button",onClick:t[3]||(t[3]=(...e)=>l.addEntry&&l.addEntry(...e)),class:"add-category-button"},"Add a category")])])]),(0,s.Lk)("div",Is,[t[14]||(t[14]=(0,s.Lk)("label",{for:"notes"},"Notes",-1)),t[15]||(t[15]=(0,s.Lk)("br",null,null,-1)),(0,s.bo)((0,s.Lk)("textarea",{"onUpdate:modelValue":t[4]||(t[4]=e=>i.formData.notes=e),id:"notes",placeholder:"Optional notes or details about this transaction"},null,512),[[a.Jo,i.formData.notes]])]),t[17]||(t[17]=(0,s.Lk)("button",{type:"submit",class:"button-primary center grid-submit submit-button"},"Submit",-1))],32)}const Ts={class:"slider"},xs={class:"grid-overlay"};function Ss(e,t,o,a,n,i){return(0,s.uX)(),(0,s.CE)("div",{class:"slider-toggle",onClick:t[2]||(t[2]=(...e)=>i.toggleSelection&&i.toggleSelection(...e)),onKeypress:t[3]||(t[3]=(...e)=>i.toggleSelection&&i.toggleSelection(...e)),tabindex:"0"},[(0,s.Lk)("div",Ts,[(0,s.Lk)("div",xs,[(0,s.Lk)("span",{class:(0,d.C4)(["slider-text option1",{hidden:i.value===o.options[1]}])},(0,d.v_)(o.options[0]),3),(0,s.Lk)("span",{class:(0,d.C4)(["slider-text option2",{hidden:i.value===o.options[0]}])},(0,d.v_)(o.options[1]),3)]),(0,s.Lk)("div",{class:(0,d.C4)(["slider-indicator",{"selected-second":i.value===o.options[1]}]),style:(0,d.Tr)(i.indicatorStyle),onMouseenter:t[0]||(t[0]=e=>n.isHovered=!0),onMouseleave:t[1]||(t[1]=e=>n.isHovered=!1)},null,38)])],32)}var Fs={name:"SliderToggle",data(){return{isHovered:!1}},props:{modelValue:{type:String,default:""},options:{type:Array,required:!0,validator:e=>Array.isArray(e)&&2===e.length},colors:{type:Object,default:()=>({color1:"var(--color-negative)",color1Hover:"var(--color-negative-hover)",color2:"var(--color-positive)",color2Hover:"var(--color-positive-hover)"})}},emits:["update:modelValue"],computed:{value:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},indicatorStyle(){const e=this.value===this.options[0];return{backgroundColor:this.isHovered?e?this.colors.color1Hover:this.colors.color2Hover:e?this.colors.color1:this.colors.color2}}},methods:{toggleSelection(){this.value=this.value===this.options[0]?this.options[1]:this.options[0]}}};const Ds=(0,b.A)(Fs,[["render",Ss],["__scopeId","data-v-bd36d856"]]);var Es=Ds,Ms={components:{SliderToggle:Es,IconCross:B},props:{initialTransaction:{category:Object,default:()=>({entryId:"",direction:"expense",date:"",counterparty:"",notes:"",categories:[{category:"",amount:""}]})}},emits:["submit"],data(){return{formData:JSON.parse(JSON.stringify(this.initialTransaction)),counterpartyOptions:[],categoryOptions:[],allOptions:{}}},methods:{addEntry(){this.formData.categories.push({category:"",amount:""})},removeEntry(e){this.formData.categories.length>1?this.formData.categories.splice(e,1):alert("At least one entry is required!")},handleSubmit(){const e=this.formData.categories.some((e=>!e.category||!e.amount));e?G("All entries must have a category and an amount!!"):this.formData.counterparty?this.$emit("submit",{...this.formData,categories:[...this.formData.categories]}):G("Counterparty is required!")},filterOptionsByDirection(){try{"expense"===this.formData.direction?(this.counterpartyOptions=this.allOptions.counterparty.expense,this.categoryOptions=this.allOptions.category.expense):(this.counterpartyOptions=this.allOptions.counterparty.income,this.categoryOptions=this.allOptions.category.income)}catch{}}},computed:{subtotal(){let e=0;for(let t=0;t<this.formData.categories.length;t++){const o=parseFloat(this.formData.categories[t].amount)||0;e+=o}return e.toLocaleString("fi-FI",{style:"currency",currency:"EUR"})}},watch:{"formData.direction":function(){this.filterOptionsByDirection()}},async mounted(){const e=this.formData.date?new Date(this.formData.date):new Date;this.formData.date=e.toISOString().split("T")[0];const t=await Tu.getOptions();t&&t.counterparty&&t.category&&(this.allOptions=t),this.filterOptionsByDirection()}};const As=(0,b.A)(Ms,[["render",Cs]]);var zs=As,Ws={name:"ConfirmationModal",components:{GenericModal:Do,EntryForm:zs},data(){return{resolvePromise:null,initialTransaction:null}},methods:{open(){this.$refs.modal.open()},close(){this.$refs.modal.close()},resolve(e){this.resolvePromise&&(this.resolvePromise(e),this.resolvePromise=null,this.close())},prompt(e){return this.initialTransaction=e,this.open(),new Promise((e=>{this.resolvePromise=e}))}}};const Os=(0,b.A)(Ws,[["render",ps],["__scopeId","data-v-7626c756"]]);var Xs=Os;function $s(e,t,o,a,n,i){const l=(0,s.g2)("BaseIcon");return(0,s.uX)(),(0,s.Wv)(l,{size:o.size},{default:(0,s.k6)((()=>t[0]||(t[0]=[(0,s.Lk)("path",{d:"M21 3H5a1 1 0 0 0-1 1v2.59c0 .523.213 1.037.583 1.407L10 13.414V21a1.001 1.001 0 0 0 1.447.895l4-2c.339-.17.553-.516.553-.895v-5.586l5.417-5.417c.37-.37.583-.884.583-1.407V4a1 1 0 0 0-1-1zm-6.707 9.293A.996.996 0 0 0 14 13v5.382l-2 1V13a.996.996 0 0 0-.293-.707L6 6.59V5h14.001l.002 1.583-5.71 5.71z"},null,-1)]))),_:1},8,["size"])}var Vs={name:"IconFilter",components:{BaseIcon:w},props:{size:[String,Number]}};const Bs=(0,b.A)(Vs,[["render",$s]]);var Rs=Bs;function Hs(e,t,o,a,n,i){const l=(0,s.g2)("BaseIcon");return(0,s.uX)(),(0,s.Wv)(l,{size:o.size},{default:(0,s.k6)((()=>t[0]||(t[0]=[(0,s.Lk)("path",{d:"M7 20h2V8h3L8 4 4 8h3zm13-4h-3V4h-2v12h-3l4 4z"},null,-1)]))),_:1},8,["size"])}var Us={name:"IconSortBoth",components:{BaseIcon:w},props:{size:[String,Number]}};const Ns=(0,b.A)(Us,[["render",Hs]]);var Gs=Ns;function Ks(e,t,o,a,n,i){const l=(0,s.g2)("BaseIcon");return(0,s.uX)(),(0,s.Wv)(l,{size:o.size},{default:(0,s.k6)((()=>t[0]||(t[0]=[(0,s.Lk)("path",{d:"M11 9h9v2h-9zm0 4h7v2h-7zm0-8h11v2H11zm0 12h5v2h-5zm-6 3h2V8h3L6 4 2 8h3z"},null,-1)]))),_:1},8,["size"])}var Ps={name:"IconSortDown",components:{BaseIcon:w},props:{size:[String,Number]}};const Qs=(0,b.A)(Ps,[["render",Ks]]);var qs=Qs;function js(e,t,o,a,n,i){const l=(0,s.g2)("BaseIcon");return(0,s.uX)(),(0,s.Wv)(l,{size:o.size},{default:(0,s.k6)((()=>t[0]||(t[0]=[(0,s.Lk)("path",{d:"M 11 9 H 18 V 11 H 11 Z M 11 13 H 20 V 15 H 11 Z M 11 5 H 16 V 7 H 11 Z M 11 17 H 22 V 19 H 11 Z M 5 20 H 7 V 8 H 10 L 6 4 L 2 8 H 5 Z"},null,-1)]))),_:1},8,["size"])}var Zs={name:"IconSortUp",components:{BaseIcon:w},props:{size:[String,Number]}};const Ys=(0,b.A)(Zs,[["render",js]]);var Js=Ys;function en(e,t,o,a,n,i){const l=(0,s.g2)("BaseIcon");return(0,s.uX)(),(0,s.Wv)(l,{size:o.size},{default:(0,s.k6)((()=>t[0]||(t[0]=[(0,s.Lk)("path",{d:"M19 11h-6V5h-2v6H5v2h6v6h2v-6h6z"},null,-1)]))),_:1},8,["size"])}var tn={name:"IconAdd",components:{BaseIcon:w},props:{size:[String,Number]}};const on=(0,b.A)(tn,[["render",en]]);var an=on,sn={name:"SpendingsPage",components:{SpendingsEntry:Ta,FilterSettings:hs,ModalConfirmation:Ao,ModalTransaction:Xs,ModalGeneric:Do,IconSortBoth:Gs,IconSortDown:qs,IconSortUp:Js,IconFilter:Rs,IconAdd:an},data(){return{columns:[{key:"date",label:"Date",class:"column-date"},{key:"counterparty",label:"Counterparty",class:"column-counterparty"},{key:"category",label:"Category",class:"column-category"},{key:"amount",label:"Amount",class:"column-amount"},{key:"notes",label:"Notes",class:"column-notes"}],transactions:[],showFilters:!1,expandedIndex:null,apiFilters:{sort_by:"date",sort_order:"desc",offset:0,start_date:9466848e5,end_date:22089888e5,min_amount:-999999,max_amount:999999,counterparties:[],counterparty_inclusion_mode:!0,categories:[],category_inclusion_mode:!0},filterData:{amount:{lowerLimit:-999999,upperLimit:999999},date:{lowerLimit:9466848e5,upperLimit:22089888e5},counterparty:{mode:"include",selected:[]},category:{mode:"include",selected:[]}},filterOptions:{amount:{},date:{},counterparty:{},category:{}},waitingForResponse:!0,loadMoreButtonVisible:!1,transactionToShow:null}},computed:{getSortIcon(){return e=>this.apiFilters.sort_by===e?"asc"===this.apiFilters.sort_order?Js:qs:Gs}},methods:{toggleEntry(e){this.expandedIndex=this.expandedIndex===e?null:e},async handleDeleteTransaction(e){if(await this.$refs.deleteTransactionMC.prompt()){const t=await Tu.deleteTransaction(e.transaction_id);t&&(this.expandedIndex=null,setTimeout((()=>{this.transactions=this.transactions.filter((t=>t.transaction_id!=e.transaction_id))}),1))}},async handleEditTransaction(e){const t=await this.$refs.editTransactionMT.prompt(e);if(console.log(t),t){const e=await Tu.editTransaction(t);if(e){const e=this.transactions.findIndex((e=>e.transaction_id===t.transaction_id));-1!==e&&(this.transactions[e]={...this.transactions[e],...t})}}},handleShowTransaction(e){this.transactionToShow=e,console.log(e),this.$refs.showTransactionMG.open()},async fetchTransactions(){this.waitingForResponse=!0;const e=!0,t=await Tu.getTransactions(e?{}:this.apiFilters);t&&t.transactions?(0===this.apiFilters.offset?this.transactions=[...t.transactions]:this.transactions=[...this.transactions,...t.transactions],this.loadMoreButtonVisible=t.hasMore):console.error("[SpendingsPage] Failed to retrieve transactions."),this.waitingForResponse=!1},async fetchFilters(){const e=await Tu.getFilters();e&&e.counterparty&&e.category&&e.amount&&e.date?this.filterOptions=e:console.error("[SpendingsPage] filters failed",e)},sortBy(e){this.waitingForResponse||(this.expandedIndex=null,this.apiFilters.sort_by===e?this.apiFilters.sort_order="asc"===this.apiFilters.sort_order?"desc":"asc":(this.apiFilters.sort_by=e,this.apiFilters.sort_order="desc"),this.apiFilters.offset=0,this.transactions=[],this.fetchTransactions())},loadMore(){this.waitingForResponse||(this.apiFilters.offset+=1,this.fetchTransactions())},applyFilters(e){this.expandedIndex=null,this.filterData=e,this.apiFilters.offset=0,this.transactions=[],console.debug("[applyFilters] filterdata before going to api",this.filterData),this.apiFilters.start_date=this.filterData.date.lowerLimit,this.apiFilters.end_date=this.filterData.date.upperLimit,this.apiFilters.min_amount=this.filterData.amount.lowerLimit,this.apiFilters.max_amount=this.filterData.amount.upperLimit,this.apiFilters.counterparties=this.filterData.counterparty.selected,this.apiFilters.counterparty_inclusion_mode="include"===this.filterData.counterparty.mode,this.apiFilters.categories=this.filterData.category.selected,this.apiFilters.category_inclusion_mode="include"===this.filterData.category.mode,console.debug("[applyFilters] individual values",this.apiFilters.start_date,this.apiFilters.end_date,this.apiFilters.min_amount,this.apiFilters.max_amount),this.fetchTransactions()},refreshTable(){this.expandedIndex=null,this.apiFilters.offset=0,this.transactions=[],this.fetchTransactions(),this.fetchFilters()},convertToEur(e){return ht.toEur(e)},convertToFiDate(e,t){return ht.toFiDate(e,t)}},async mounted(){const e=localStorage.getItem("transactions_load_limit");e&&(this.apiFilters.limit=Number(e)),this.refreshTable()}};const nn=(0,b.A)(sn,[["render",jo]]);var ln=nn;const rn={class:"content-width-small"};function cn(e,t,o,a,n,i){const l=(0,s.g2)("EntryForm");return(0,s.uX)(),(0,s.CE)("div",rn,[t[0]||(t[0]=(0,s.Lk)("h1",null,"New Entry",-1)),t[1]||(t[1]=(0,s.Lk)("p",null,"Welcome to the new entry page! Use this form to quickly add a new transaction to your records. Simply fill out the required details, and your entry will be saved, helping you keep your finances up to date with ease.",-1)),(0,s.bF)(l,{onSubmit:i.handleFormSubmit,"form-type":"new"},null,8,["onSubmit"])])}var dn={name:"SettingsPage",components:{EntryForm:zs},methods:{handleFormSubmit(e){const t=Tu.newTransaction(e);console.log("[NewEntry] Response from API:",t)}}};const un=(0,b.A)(dn,[["render",cn],["__scopeId","data-v-1400dc14"]]);var hn=un;const pn={class:"login-page content-width-small"};function mn(e,t,o,n,i,l){const r=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",pn,[t[9]||(t[9]=(0,s.Lk)("h1",null,"Login",-1)),t[10]||(t[10]=(0,s.Lk)("p",null,"Log in in order to access the data that is linked to your account. You can browse the website without logging in, but you can only view the example data and can not edit it.",-1)),(0,s.Lk)("p",null,[t[4]||(t[4]=(0,s.eW)("Use the form below to log in by filling in the details. Don't have an account? Create one ")),(0,s.bF)(r,{to:"/create_account"},{default:(0,s.k6)((()=>t[3]||(t[3]=[(0,s.eW)("here.")]))),_:1}),t[5]||(t[5]=(0,s.eW)(" If you have forgotten your username or password please contanct the server admin."))]),(0,s.Lk)("form",{onSubmit:t[2]||(t[2]=(0,a.D$)(((...e)=>l.handleLogin&&l.handleLogin(...e)),["prevent"]))},[(0,s.Lk)("div",null,[t[6]||(t[6]=(0,s.Lk)("label",{for:"username"},"Username:",-1)),(0,s.bo)((0,s.Lk)("input",{type:"username","onUpdate:modelValue":t[0]||(t[0]=e=>i.username=e),required:""},null,512),[[a.Jo,i.username]])]),(0,s.Lk)("div",null,[t[7]||(t[7]=(0,s.Lk)("label",{for:"password"},"Password:",-1)),(0,s.bo)((0,s.Lk)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>i.password=e),required:""},null,512),[[a.Jo,i.password]])]),t[8]||(t[8]=(0,s.Lk)("button",{class:"button-primary center",type:"submit"},"Log in",-1))],32)])}var gn={data(){return{username:"",password:""}},methods:{async handleLogin(){const e=await Tu.logIn({username:this.username,password:this.password});e&&Lu.back()}},mounted(){"true"==localStorage.getItem("isLoggedIn")&&(console.log("You are already logged in."),Lu.back())}};const vn=(0,b.A)(gn,[["render",mn],["__scopeId","data-v-bbbbcfde"]]);var fn=vn;const kn={class:"debug-page"},yn={class:"flex-row",style:{gap:"0"}},bn={class:"flex-row"},Ln={class:"flex-row"},wn={class:"card content-width-small"};function _n(e,t,o,a,n,i){const l=(0,s.g2)("ConfirmationModal"),r=(0,s.g2)("GenericModal"),c=(0,s.g2)("ChartComponent");return(0,s.uX)(),(0,s.CE)("div",kn,[t[7]||(t[7]=(0,s.Lk)("h1",null,"Debug Page",-1)),t[8]||(t[8]=(0,s.Lk)("p",null,"Congralutions just you found an easter egg! Unfortunately though this is just a basic debug page and not something more exciting. This page can be used for everything debugging and testing related.",-1)),t[9]||(t[9]=(0,s.Lk)("p",null,"In the future this could be turned to a about page, that would for example have the github link, stuff about the project and general info like the stuff in README.md.",-1)),t[10]||(t[10]=(0,s.Lk)("h2",null,"GitHub",-1)),t[11]||(t[11]=(0,s.Lk)("p",null,[(0,s.eW)("Here's the link to the "),(0,s.Lk)("a",{href:"https://github.com/Alkama4/The-Dashboard"},"GitHub repo"),(0,s.eW)(".")],-1)),t[12]||(t[12]=(0,s.Lk)("h2",null,"Notification buttons",-1)),(0,s.Lk)("div",yn,[(0,s.Lk)("button",{style:{margin:"var(--spacing-xs) var(--spacing-sm)"},onClick:t[0]||(t[0]=(...e)=>i.notificationInfo&&i.notificationInfo(...e))},"Info"),(0,s.Lk)("button",{style:{margin:"var(--spacing-xs) var(--spacing-sm)"},onClick:t[1]||(t[1]=(...e)=>i.notificationSuccess&&i.notificationSuccess(...e))},"Success"),(0,s.Lk)("button",{style:{margin:"var(--spacing-xs) var(--spacing-sm)"},onClick:t[2]||(t[2]=(...e)=>i.notificationError&&i.notificationError(...e))},"Error"),(0,s.Lk)("button",{style:{margin:"var(--spacing-xs) var(--spacing-sm)"},onClick:t[3]||(t[3]=(...e)=>i.notificationWarning&&i.notificationWarning(...e))},"Warning")]),t[13]||(t[13]=(0,s.Fv)('<div class="color-palette" data-v-fa080774><div style="background-color:var(--color-primary);" data-v-fa080774></div><div style="background-color:var(--color-secondary);" data-v-fa080774></div><div style="background-color:var(--color-tertiary);" data-v-fa080774></div><div style="background-color:var(--color-quaternary);" data-v-fa080774></div><div style="background-color:var(--color-quinary);" data-v-fa080774></div><div style="background-color:var(--color-jokumikalie);" data-v-fa080774></div><div style="background-color:var(--color-senary);" data-v-fa080774></div><div style="background-color:var(--color-septenary);" data-v-fa080774></div><div style="background-color:var(--color-octonary);" data-v-fa080774></div><div style="background-color:var(--color-nonary);" data-v-fa080774></div><div style="background-color:var(--color-denary);" data-v-fa080774></div><div style="background-color:var(--color-undecenary);" data-v-fa080774></div></div>',1)),(0,s.Lk)("div",bn,[((0,s.uX)(),(0,s.CE)(s.FK,null,(0,s.pI)(10,(e=>(0,s.Lk)("div",{class:"tile",key:e,style:(0,d.Tr)({"background-color":i.dynamicBgColor(e)})}," Div "+(0,d.v_)(e),5))),64))]),(0,s.Lk)("div",Ln,[(0,s.bF)(l,{ref:"testConfirmationModalRef"},null,512),(0,s.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>i.testConfirmationModal&&i.testConfirmationModal(...e))},"Confirmation modal"),(0,s.bF)(r,{ref:"testModalRef"},{default:(0,s.k6)((()=>t[6]||(t[6]=[(0,s.eW)(" Some example text to describe something and fill this up so that I can test different test cases. "),(0,s.Lk)("h3",null,"A sub header",-1),(0,s.eW)(" Some example text to describe something and fill this up so that I can test different test cases. Some example text to describe something and fill this up so that I can test different test cases. Some example text to describe something and fill this up so that I can test different test cases. Some example text to describe something and fill this up so that I can test different test cases. "),(0,s.Lk)("h4",null,"A sub sub header",-1),(0,s.eW)(" Some example text to describe something and fill this up so that I can test different test cases. Some example text to describe something and fill this up so that I can test different test cases. Some example text to describe something and fill this up so that I can test different test cases. ")]))),_:1},512),(0,s.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>i.openTestModal&&i.openTestModal(...e))},"Generic test modal")]),(0,s.Lk)("div",wn,[(0,s.bF)(c,{chartOptionsGenerator:n.exampleChartOptions,alternateOption:"Maybe..."},null,8,["chartOptionsGenerator"])])])}var In={name:"DebugPage",components:{ChartComponent:Rt,ConfirmationModal:Ao,GenericModal:Do},data(){return{exampleChartOptions:null}},methods:{notificationInfo(){G("This is a generic info notification that I can place tips or tricks into.","info")},notificationSuccess(){G("The action has been completed successfully!","success")},notificationError(){G("An error occurred... I guess?","error")},notificationWarning(){G("Somethings not right...","warning")},dynamicBgColor(e){const t=pt("color-background-card"),o=pt("color-primary"),a=Math.pow(e/10,2);return mt(t,o,a)},async testConfirmationModal(){G(await this.$refs.testConfirmationModalRef.prompt())},openTestModal(){this.$refs.testModalRef.open()}},async mounted(){Ct();const e=await Tu.getStatsForTimespan("month");if(e&&e.stats){const t=e.stats.topMostExpensiveCategories.map((e=>({name:e.category,value:e.totalAmount}))),o=()=>({textStyle:St().textStyle,title:{text:"Spendings This Month by Category",textStyle:{color:pt("color-text-lighter"),fontSize:16,fontWeight:500},x:"center"},legend:St().legend,color:St().color,tooltip:{trigger:"item",backgroundColor:pt("color-background-card"),borderWidth:1,borderColor:pt("color-border"),formatter:e=>xt(e,"eur")},series:[{name:"Monthly Average Spending",type:"pie",label:{color:pt("color-text")},data:t}]});this.exampleChartOptions=o}}};const Cn=(0,b.A)(In,[["render",_n],["__scopeId","data-v-fa080774"]]);var Tn=Cn;const xn={class:"card content-width-medium"},Sn={class:"info-grid"},Fn={class:"cell"},Dn={class:"data"},En={class:"cell"},Mn={class:"data"},An={class:"cell"},zn={class:"data"},Wn={class:"info-grid"},On={class:"cell"},Xn={class:"data negative"},$n={class:"cell"},Vn={class:"data positive"},Bn={class:"card content-width-medium"},Rn={class:"info-grid"},Hn={class:"cell"},Un={class:"data"},Nn={class:"cell"},Gn={class:"data"},Kn={class:"cell"},Pn={class:"label"},Qn={class:"data"},qn={class:"info-grid"},jn={class:"cell"},Zn={class:"data"},Yn={class:"cell"},Jn={class:"card content-width-medium"},ei={class:"info-grid"},ti={class:"cell"},oi={class:"data"},ai={class:"cell"},si={class:"data"},ni={class:"cell"},ii={class:"data"},li={class:"info-grid"},ri={class:"cell"},ci={class:"data"},di={class:"cell"},ui={class:"chartCard card content-width-large"},hi={class:"chartCard card content-width-large"},pi={class:"chartCard card content-width-large"},mi={class:"chartCard card content-width-large"};function gi(e,t,o,a,n,i){const l=(0,s.g2)("InfoTooltip"),r=(0,s.g2)("ChartComponent");return(0,s.uX)(),(0,s.CE)("div",null,[t[23]||(t[23]=(0,s.Lk)("div",{class:"content-width-medium"},[(0,s.Lk)("h1",null,"Analytics Page"),(0,s.Lk)("p",null,"Welcome to the analytics page! At the top, you'll find an overview of key statistics, including the total number of transactions logged and other general metrics. Below that, you'll find charts designed to help you explore your data. These charts provide a detailed look at spending trends, allowing you to analyze both monthly and yearly patterns for a deeper understanding of your financial activity.")],-1)),(0,s.Lk)("div",xn,[t[5]||(t[5]=(0,s.Lk)("h2",null,"Overall Statistics",-1)),(0,s.Lk)("div",Sn,[(0,s.Lk)("div",Fn,[t[0]||(t[0]=(0,s.Lk)("div",{class:"label"},"Total Transactions Logged",-1)),(0,s.Lk)("div",Dn,(0,d.v_)(i.toFiNumber(n.pageValues.generalStats.transactionsLogged)||"-"),1)]),(0,s.Lk)("div",En,[t[1]||(t[1]=(0,s.Lk)("div",{class:"label"},"Average Logs per Day",-1)),(0,s.Lk)("div",Mn,(0,d.v_)(i.toFiNumber(n.pageValues.generalStats.avgLogsPerDay)||"-"),1)]),(0,s.Lk)("div",An,[t[2]||(t[2]=(0,s.Lk)("div",{class:"label"},"Total Days Logged",-1)),(0,s.Lk)("div",zn,(0,d.v_)(i.toFiNumber(n.pageValues.generalStats.daysLogged)||"-"),1)])]),t[6]||(t[6]=(0,s.Lk)("div",{class:"card-spacer"},null,-1)),(0,s.Lk)("div",Wn,[(0,s.Lk)("div",On,[t[3]||(t[3]=(0,s.Lk)("div",{class:"label"},"Total Logged Expenses",-1)),(0,s.Lk)("div",Xn,(0,d.v_)(i.toEur(n.pageValues.generalStats.totalExpenses)||"-"),1)]),(0,s.Lk)("div",$n,[t[4]||(t[4]=(0,s.Lk)("div",{class:"label"},"Total Logged Income",-1)),(0,s.Lk)("div",Vn,(0,d.v_)(i.toEur(n.pageValues.generalStats.totalIncomes)||"-"),1)])])]),(0,s.Lk)("div",Bn,[t[12]||(t[12]=(0,s.Lk)("h2",null,"Last Month",-1)),(0,s.Lk)("div",Rn,[(0,s.Lk)("div",Hn,[t[7]||(t[7]=(0,s.Lk)("div",{class:"label"},"Daily Average Spending",-1)),(0,s.Lk)("div",Un,(0,d.v_)(i.toEur(n.pageValues.lastMonth.spendingsAverageDay)||"-"),1)]),(0,s.Lk)("div",Nn,[t[8]||(t[8]=(0,s.Lk)("div",{class:"label"},"Weekly Average Spending",-1)),(0,s.Lk)("div",Gn,(0,d.v_)(i.toEur(n.pageValues.lastMonth.spendingsAverageWeek)||"-"),1)]),(0,s.Lk)("div",Kn,[(0,s.Lk)("div",Pn,[t[9]||(t[9]=(0,s.eW)("Spendings Last Month ")),(0,s.bF)(l,{text:"Since the average and the time period are both the same it doesn't make sence to call it average."})]),(0,s.Lk)("div",Qn,(0,d.v_)(i.toEur(n.pageValues.lastMonth.spendingsAverageMonth)||"-"),1)])]),t[13]||(t[13]=(0,s.Lk)("div",{class:"card-spacer"},null,-1)),(0,s.Lk)("div",qn,[(0,s.Lk)("div",jn,[t[10]||(t[10]=(0,s.Lk)("div",{class:"label"},"Expense-to-Income Ratio",-1)),(0,s.Lk)("div",Zn,(0,d.v_)(i.toFiNumber(n.pageValues.lastMonth.incomeExpenseRatio)||"-"),1)]),(0,s.Lk)("div",Yn,[t[11]||(t[11]=(0,s.Lk)("div",{class:"label"},"Net Total",-1)),(0,s.Lk)("div",{class:(0,d.C4)(["data",n.pageValues.lastMonth.netTotal>0?"positive":"negative"])},(0,d.v_)(i.toEur(n.pageValues.lastMonth.netTotal)||"-"),3)])]),t[14]||(t[14]=(0,s.Lk)("div",{class:"card-spacer"},null,-1)),(0,s.bF)(r,{chartOptionsGenerator:n.chartValueGenerators.pie1},null,8,["chartOptionsGenerator"])]),(0,s.Lk)("div",Jn,[t[20]||(t[20]=(0,s.Lk)("h2",null,"Last Year",-1)),(0,s.Lk)("div",ei,[(0,s.Lk)("div",ti,[t[15]||(t[15]=(0,s.Lk)("div",{class:"label"},"Daily Average Spending",-1)),(0,s.Lk)("div",oi,(0,d.v_)(i.toEur(n.pageValues.lastYear.spendingsAverageDay)||"-"),1)]),(0,s.Lk)("div",ai,[t[16]||(t[16]=(0,s.Lk)("div",{class:"label"},"Weekly Average Spending",-1)),(0,s.Lk)("div",si,(0,d.v_)(i.toEur(n.pageValues.lastYear.spendingsAverageWeek)||"-"),1)]),(0,s.Lk)("div",ni,[t[17]||(t[17]=(0,s.Lk)("div",{class:"label"},"Monthly Average Spending",-1)),(0,s.Lk)("div",ii,(0,d.v_)(i.toEur(n.pageValues.lastYear.spendingsAverageMonth)||"-"),1)])]),t[21]||(t[21]=(0,s.Lk)("div",{class:"card-spacer"},null,-1)),(0,s.Lk)("div",li,[(0,s.Lk)("div",ri,[t[18]||(t[18]=(0,s.Lk)("div",{class:"label"},"Expense-to-Income Ratio",-1)),(0,s.Lk)("div",ci,(0,d.v_)(i.toFiNumber(n.pageValues.lastYear.incomeExpenseRatio)||"-"),1)]),(0,s.Lk)("div",di,[t[19]||(t[19]=(0,s.Lk)("div",{class:"label"},"Net Total",-1)),(0,s.Lk)("div",{class:(0,d.C4)(["data",n.pageValues.lastYear.netTotal>0?"positive":"negative"])},(0,d.v_)(i.toEur(n.pageValues.lastYear.netTotal)||"-"),3)])]),t[22]||(t[22]=(0,s.Lk)("div",{class:"card-spacer"},null,-1)),(0,s.bF)(r,{chartOptionsGenerator:n.chartValueGenerators.pie2},null,8,["chartOptionsGenerator"])]),t[24]||(t[24]=(0,s.Lk)("div",{class:"content-width-large"},[(0,s.Lk)("h1",null,"Charts"),(0,s.Lk)("p",null," If you want to take a more comprehensive look at your spending habits over time, the charts below can provide valuable insights. These charts are not limited to showing data from just the past month or even the past year. Instead, they present a complete view of all available spending data, organized month by month. "),(0,s.Lk)("p",null,"This allows you to observe trends, identify patterns, and track changes in your financial behavior across an extended timeline. Whether you're analyzing seasonal variations or monitoring long-term progress, these charts are a helpful tool for gaining a deeper understanding of your financial activity.")],-1)),(0,s.Lk)("div",ui,[(0,s.bF)(r,{chartOptionsGenerator:n.chartValueGenerators.chart1},null,8,["chartOptionsGenerator"])]),(0,s.Lk)("div",hi,[(0,s.bF)(r,{chartOptionsGenerator:n.chartValueGenerators.chart2},null,8,["chartOptionsGenerator"])]),(0,s.Lk)("div",pi,[(0,s.bF)(r,{chartOptionsGenerator:n.chartValueGenerators.chart3},null,8,["chartOptionsGenerator"])]),(0,s.Lk)("div",mi,[(0,s.bF)(r,{chartOptionsGenerator:n.chartValueGenerators.chart4},null,8,["chartOptionsGenerator"])])])}o(531),o(7642),o(8004),o(3853),o(5876),o(2475),o(5024),o(1698);var vi={name:"AnalyticsPage",components:{InfoTooltip:at,ChartComponent:Rt},data(){return{chartValueGenerators:{},pageValues:{generalStats:{},lastMonth:{},lastYear:{}}}},methods:{toFiNumber(e){return ht.toFiNumber(e)},toFiDate(e){return ht.toFiDate(e)},toEur(e){return ht.toEur(e)}},async mounted(){Ct(this);const e=[(async()=>{const e=await Tu.getGeneralStats();e&&e.generalStats&&(this.pageValues.generalStats={...e.generalStats})})(),(async()=>{const e=await Tu.getStatsForTimespan("month");if(e&&e.stats){this.pageValues.lastMonth={...e.stats};const t=e.stats.topMostExpensiveCategories.map((e=>({name:e.category,value:e.totalAmount}))),o=()=>({textStyle:St().textStyle,title:{text:"Spendings This Month by Category",textStyle:{color:pt("color-text-lighter"),fontSize:16,fontWeight:500},x:"center"},legend:St().legend,color:St().color,tooltip:{trigger:"item",backgroundColor:pt("color-background-card"),borderWidth:1,borderColor:pt("color-border"),formatter:e=>xt(e,"eur")},series:[{name:"Monthly Average Spending",type:"pie",label:{color:pt("color-text")},data:t}]});this.chartValueGenerators.pie1=o}})(),(async()=>{const e=await Tu.getStatsForTimespan("year");if(e&&e.stats){this.pageValues.lastYear={...e.stats};const t=e.stats.topMostExpensiveCategories.map((e=>({name:e.category,value:e.totalAmount}))),o=()=>({textStyle:St().textStyle,title:{text:"Monthly Average Spendings by Category",textStyle:{color:pt("color-text-lighter"),fontSize:16,fontWeight:500},x:"center"},legend:St().legend,color:St().color,tooltip:{trigger:"item",backgroundColor:pt("color-background-card"),borderWidth:1,borderColor:pt("color-border"),formatter:e=>xt(e,"eur")},series:[{name:"Monthly Average Spending",type:"pie",label:{color:pt("color-text")},data:t}]});this.chartValueGenerators.pie2=o}})(),(async()=>{try{const e=await Tu.getChartBalanceOverTime(),t=e.balanceOverTime.map((e=>e.date)),o=e.balanceOverTime.map((e=>e.runningBalance)),a=()=>({textStyle:St().textStyle,title:{text:"Balance over time",textStyle:{color:pt("color-text"),fontSize:24}},color:[pt("color-primary")],tooltip:{trigger:"axis",backgroundColor:pt("color-background-card"),borderWidth:1,borderColor:pt("color-border"),formatter:e=>Tt(e,"full",ht.toEur)},grid:{left:80,right:8,top:88,bottom:42},xAxis:{type:"category",data:t,axisLabel:{rotate:45,formatter:e=>ht.toFiDate(e,"date")},axisTick:{alignWithLabel:!0}},yAxis:{type:"value",name:"Amount (â¬)",axisLabel:{formatter:e=>this.toEur(e,"axis")}},series:[{name:"Balance",type:"line",data:o,areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:pt("color-primary")},{offset:1,color:"rgba(0,0,0,0)"}]}}}]});this.chartValueGenerators.chart1=a}catch(e){console.error("[Chart 1] Error fetching data:",e)}})(),(async()=>{try{const e=await Tu.getChartSumByMonth(),t=e.monthlySums.map((e=>e.month)),o=e.monthlySums.map((e=>e.total_income)),a=e.monthlySums.map((e=>e.total_expense)),s=e.monthlySums.map((e=>e.net_total)),n=()=>({textStyle:St().textStyle,title:{text:"Sum by month",textStyle:{color:pt("color-text"),fontSize:24}},color:[pt("color-positive"),pt("color-negative"),pt("color-text")],tooltip:{trigger:"axis",backgroundColor:pt("color-background-card"),borderWidth:1,borderColor:pt("color-border"),formatter:e=>Tt(e,"month",ht.toEur,!0),axisPointer:{type:"shadow",shadowStyle:{color:pt("color-border"),opacity:1}}},grid:{left:80,right:8,top:88,bottom:56},xAxis:{type:"category",data:t,axisLabel:{rotate:45,formatter:e=>ht.toFiDate(e,"month")},axisTick:{alignWithLabel:!0}},yAxis:{type:"value",name:"Amount (â¬)",axisLabel:{formatter:e=>this.toEur(e,"axis")}},series:[{name:"Incomes",type:"bar",data:o,smooth:!0,stack:"stacked"},{name:"Expenses",type:"bar",data:a,smooth:!0,stack:"stacked"},{name:"Sum",type:"line",data:s,smooth:!0}]});this.chartValueGenerators.chart2=n}catch(e){console.error("[Chart 2] Error fetching data:",e)}})(),(async()=>{try{const e=await Tu.getChartExpenseCategoriesMonthly(),t=e.monthlyCategoryExpenses.map((e=>e.month)),o=Array.from(new Set(e.monthlyCategoryExpenses.flatMap((e=>e.categories.map((e=>e.category)))))),a=o.map((t=>({name:t,type:"bar",stack:"stacked",data:e.monthlyCategoryExpenses.map((e=>{const o=e.categories.find((e=>e.category===t));return o?o.total_expense:0}))}))),s=()=>({textStyle:St().textStyle,title:{text:"Expense categories by month",textStyle:{color:pt("color-text"),fontSize:24}},legend:St().legend,color:St().color,tooltip:{trigger:"axis",backgroundColor:pt("color-background-card"),borderWidth:1,borderColor:pt("color-border"),formatter:e=>Tt(e,"month",ht.toEur,!0),axisPointer:{type:"shadow",shadowStyle:{color:pt("color-border"),opacity:1}}},grid:{left:80,right:8,top:88,bottom:80},xAxis:{type:"category",data:t,axisLabel:{rotate:45,formatter:e=>ht.toFiDate(e,"month")},axisTick:{alignWithLabel:!0}},yAxis:{type:"value",name:"Amount (â¬)",axisLabel:{formatter:e=>this.toEur(e,"axis")}},series:a});this.chartValueGenerators.chart3=s}catch(e){console.error("[Chart 3] Error fetching data:",e)}})(),(async()=>{try{const e=await Tu.getChartIncomeCategoriesMonthly(),t=e.monthlyCategoryExpenses.map((e=>e.month)),o=Array.from(new Set(e.monthlyCategoryExpenses.flatMap((e=>e.categories.map((e=>e.category)))))),a=o.map((t=>({name:t,type:"bar",stack:"stacked",data:e.monthlyCategoryExpenses.map((e=>{const o=e.categories.find((e=>e.category===t));return o?o.total_expense:0}))}))),s=()=>({textStyle:St().textStyle,title:{text:"Income categories by month",textStyle:{color:pt("color-text"),fontSize:24}},legend:St().legend,color:St().color,tooltip:{trigger:"axis",backgroundColor:pt("color-background-card"),borderWidth:1,borderColor:pt("color-border"),formatter:e=>Tt(e,"month",ht.toEur,!0),axisPointer:{type:"shadow",shadowStyle:{color:pt("color-border"),opacity:1}}},grid:{left:80,right:8,top:88,bottom:80},xAxis:{type:"category",data:t,axisLabel:{rotate:45,formatter:e=>ht.toFiDate(e,"month")},axisTick:{alignWithLabel:!0}},yAxis:{type:"value",name:"Amount (â¬)",axisLabel:{formatter:e=>this.toEur(e,"axis")}},series:a});this.chartValueGenerators.chart4=s}catch(e){console.error("[Chart 4] Error fetching data:",e)}})()];await Promise.all(e)},beforeUnmount(){document.documentElement.classList.remove("no-scroll"),this.resizeObservers&&this.resizeObservers.forEach((e=>e.disconnect())),document.removeEventListener("keydown",this.exitFullscreenListener)}};const fi=(0,b.A)(vi,[["render",gi],["__scopeId","data-v-d6ffad50"]]);var ki=fi;const yi={class:"four-o-four-holder content-width-small"};function bi(e,t,o,a,n,i){return(0,s.uX)(),(0,s.CE)("div",yi,[t[1]||(t[1]=(0,s.Lk)("h1",{class:"humogous"},"404",-1)),t[2]||(t[2]=(0,s.Lk)("h1",null,"Page not found",-1)),t[3]||(t[3]=(0,s.Lk)("p",null,"The page you are looking for doesn't seem to exist.",-1)),(0,s.Lk)("button",{onClick:t[0]||(t[0]=e=>i.goBack()),class:"button-primary"},"Go back")])}var Li={name:"HomePage",methods:{goBack(){window.history.length>1?this.$router.back():this.$router.push("/")}}};const wi=(0,b.A)(Li,[["render",bi],["__scopeId","data-v-0ffb31d6"]]);var _i=wi;const Ii={class:"text-light title-list-text"},Ci={class:"cards-thing-wrapper"},Ti=["src"],xi={class:"details"},Si={class:"title-name"},Fi={class:"title-rating"},Di={class:"progress-details"},Ei={class:"season-after"},Mi={class:"episode-after"},Ai={key:0,class:"tag tag-positive"},zi={key:1,class:"tag tag-primary"},Wi={key:2,class:"tag tag-primary"},Oi={key:3,class:"tag"},Xi=["onClick","disabled"],$i=["onClick","disabled"],Vi={class:"slides-indicator-holder"},Bi={class:"content-width-medium"},Ri={class:"all-titles-list-controls"},Hi={class:"filter-buttons"},Ui={class:"combined-buttons"},Ni={class:"combined-buttons title-progress"},Gi={class:"combined-buttons"},Ki={class:"search-and-sort"},Pi={class:"button-in-text-field"},Qi={class:"flex icon-align"},qi={key:0,class:"content-width-medium all-titles-list"},ji={class:"poster-holder"},Zi=["src"],Yi={class:"content"},Ji=["to"],el={key:0,class:"text-lighter"},tl={class:"tags"},ol={key:0,class:"tag tag-positive"},al={key:1,class:"tag tag-secondary"},sl={key:2,class:"tag tag-primary"},nl={key:3,class:"tag tag-general"},il={class:"tag tag-general"},ll={class:"details"},rl={class:"detail-list"},cl={class:"icon-align"},dl={class:"progress-details"},ul={class:"season-after"},hl={class:"episode-after"},pl={class:"overview"},ml={class:"appearing-buttons"},gl={class:"flex-row"},vl=["disabled"],fl={key:1,class:"content-width-medium"},kl={key:2,class:"content-width-medium"};function yl(e,t,o,n,i,l){const r=(0,s.g2)("IconTMDB"),c=(0,s.g2)("IconHeart"),u=(0,s.g2)("swiper-slide"),h=(0,s.g2)("IndicatorDots"),p=(0,s.g2)("Swiper"),m=(0,s.g2)("IconSearch"),g=(0,s.g2)("CustomSelect"),v=(0,s.g2)("IconSortDown"),f=(0,s.g2)("IconSortUp"),k=(0,s.g2)("IconListRemove"),y=(0,s.g2)("IconListAdd"),b=(0,s.g2)("router-link"),L=(0,s.g2)("IconChevronDown"),w=(0,s.g2)("IconAdd"),_=(0,s.g2)("ConfirmationModal");return(0,s.uX)(),(0,s.CE)("div",null,[t[20]||(t[20]=(0,s.Lk)("div",{class:"content-width-small"},[(0,s.Lk)("h1",null,"Watch list"),(0,s.Lk)("p",null,"Here you can find and track movies and TV-series from your watch list. If your watch list is empty you can search for titles to add with the button on the bottom right corner of the screen. ")],-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.titleLists,((e,o)=>((0,s.uX)(),(0,s.CE)("div",{key:o,class:"content-width-large title-list"},[(0,s.Lk)("h2",null,(0,d.v_)(e.listName),1),(0,s.Lk)("p",Ii,(0,d.v_)(e.text),1),(0,s.Lk)("div",Ci,[(0,s.bF)(p,{"space-between":"4",slidesPerView:"auto",class:"slide-container",slidesOffsetBefore:32,slidesOffsetAfter:32},{default:(0,s.k6)((()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.titles,(e=>((0,s.uX)(),(0,s.Wv)(u,{key:e.title_id,onClick:t=>l.openDetailsPageFor(e.title_id),tabindex:"0",onKeydown:[(0,a.jR)((t=>l.openDetailsPageFor(e.title_id)),["enter"]),(0,a.jR)((0,a.D$)((t=>l.openDetailsPageFor(e.title_id)),["prevent"]),["space"])],onMousedown:t[1]||(t[1]=(0,a.D$)((()=>{}),["middle","prevent"])),onMouseup:(0,a.D$)((t=>l.openDetailsPageOnNewTabFor(e.title_id)),["middle","prevent"])},{default:(0,s.k6)((()=>[(0,s.Lk)("img",{src:l.posterUrl(e.title_id,600,e.backup_poster_url),class:"thumbnail",onLoad:t[0]||(t[0]=e=>e.target.classList.add("loaded"))},null,40,Ti),t[14]||(t[14]=(0,s.Lk)("div",{class:"gradient"},null,-1)),(0,s.Lk)("div",xi,[(0,s.Lk)("span",Si,(0,d.v_)(e.name),1),(0,s.Lk)("div",Fi,[(0,s.bF)(r),(0,s.eW)((0,d.v_)(e.vote_average)+" â¢ "+(0,d.v_)(new Date(e.release_date).getFullYear()),1)]),(0,s.Lk)("div",Di,["tv"===e.type?((0,s.uX)(),(0,s.CE)(s.FK,{key:0},[(0,s.Lk)("span",Ei,(0,d.v_)(e.season_count),1),(0,s.Lk)("span",Mi,(0,d.v_)(e.episode_count),1)],64)):((0,s.uX)(),(0,s.CE)(s.FK,{key:1},[(0,s.eW)((0,d.v_)(l.formatRuntime(e.movie_runtime)),1)],64))])]),e.watch_count>=1?((0,s.uX)(),(0,s.CE)("div",Ai," Watched ")):new Date(e.release_date)<new Date&&new Date(e.release_date)>new Date(new Date-12096e5)?((0,s.uX)(),(0,s.CE)("div",zi," Just released ")):e.new_episodes>=1?((0,s.uX)(),(0,s.CE)("div",Wi," New episodes ")):new Date(e.release_date)>new Date?((0,s.uX)(),(0,s.CE)("div",Oi," Upcoming ")):(0,s.Q3)("",!0),e.favourite?((0,s.uX)(),(0,s.CE)("button",{key:4,class:(0,d.C4)(["tag favourite-button button-transparent icon-align",{loading:0!=i.waitingForResult.length}]),onClick:(0,a.D$)((t=>l.handleFavouriteToggle(e)),["stop"]),disabled:0!=i.waitingForResult.length},[(0,s.bF)(c,{size:"22"})],10,Xi)):((0,s.uX)(),(0,s.CE)("button",{key:5,class:(0,d.C4)(["tag favourite-button button-transparent not-favourite icon-align",{loading:0!=i.waitingForResult.length}]),onClick:(0,a.D$)((t=>l.handleFavouriteToggle(e)),["stop"]),disabled:0!=i.waitingForResult.length},[(0,s.bF)(c,{size:"22",color:"var(--color-text)"})],10,$i))])),_:2},1032,["onClick","onKeydown","onMouseup"])))),128)),0==e.titles.length&&e.loading?((0,s.uX)(),(0,s.Wv)(u,{key:0,class:"full-width-swiper-slide loading-placeholder"})):(0,s.Q3)("",!0),0!=e.titles.length||e.loading?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.Wv)(u,{key:1,class:"full-width-swiper-slide content-not-found"},{default:(0,s.k6)((()=>t[15]||(t[15]=[(0,s.eW)(" Looks like there's nothing here."),(0,s.Lk)("br",null,null,-1),(0,s.Lk)("span",{class:"text-hidden"},"Try adding titles to your watch list",-1)]))),_:1})),(0,s.Lk)("div",Vi,[(0,s.bF)(h,{dotCount:e.titles.length-1,modelValue:e.activeSlide,"onUpdate:modelValue":t=>e.activeSlide=t,swiperMode:!0},null,8,["dotCount","modelValue","onUpdate:modelValue"])])])),_:2},1024)])])))),128)),(0,s.Lk)("div",Bi,[t[16]||(t[16]=(0,s.Lk)("h2",{id:"titles_listed"},[(0,s.eW)("Titles listed "),(0,s.Lk)("span",{class:"text-lighter"},"(Under construction)")],-1)),t[17]||(t[17]=(0,s.Lk)("p",null,"Here one day will be a list of all the titles where you can fitler and sort them as you wish to find something to watch. It will take a while though since there are so many things that haven't yet been implemented that are far more crucial.",-1)),(0,s.Lk)("div",Ri,[(0,s.Lk)("div",Hi,[(0,s.Lk)("div",Ui,[(0,s.Lk)("button",{class:(0,d.C4)(["left-button",{"button-primary":"tv"==i.allTitlesListOptions.titleType}]),onClick:t[2]||(t[2]=e=>i.allTitlesListOptions.titleType="tv"==i.allTitlesListOptions.titleType?"":"tv")}," TV ",2),(0,s.Lk)("button",{class:(0,d.C4)(["right-button",{"button-primary":"movie"==i.allTitlesListOptions.titleType}]),onClick:t[3]||(t[3]=e=>i.allTitlesListOptions.titleType="movie"==i.allTitlesListOptions.titleType?"":"movie")}," Movies ",2)]),(0,s.Lk)("div",Ni,[(0,s.Lk)("button",{class:(0,d.C4)(["left-button",{"button-primary":"watched"==i.allTitlesListOptions.titleProgress}]),onClick:t[4]||(t[4]=e=>i.allTitlesListOptions.titleProgress="watched"==i.allTitlesListOptions.titleProgress?"":"watched")}," Watched ",2),(0,s.Lk)("button",{class:(0,d.C4)(["right-button",{"button-primary":"unwatched"==i.allTitlesListOptions.titleProgress}]),onClick:t[5]||(t[5]=e=>i.allTitlesListOptions.titleProgress="unwatched"==i.allTitlesListOptions.titleProgress?"":"unwatched")}," Unwatched ",2)]),(0,s.Lk)("div",Gi,[(0,s.Lk)("button",{class:(0,d.C4)(["left-button",{"button-primary":"all_titles"==i.allTitlesListOptions.getAllTitles}]),onClick:t[6]||(t[6]=e=>i.allTitlesListOptions.getAllTitles="all_titles"==i.allTitlesListOptions.getAllTitles?"":"all_titles")}," All titles ",2),(0,s.Lk)("button",{class:(0,d.C4)(["right-button",{"button-primary":"not_added"==i.allTitlesListOptions.getAllTitles}]),onClick:t[7]||(t[7]=e=>i.allTitlesListOptions.getAllTitles="not_added"==i.allTitlesListOptions.getAllTitles?"":"not_added")}," Not added ",2)])]),(0,s.Lk)("div",Ki,[(0,s.Lk)("div",Pi,[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>i.allTitlesListNonAutoOptions.searchTerm=e),type:"text",placeholder:"Search titles",onKeydown:t[9]||(t[9]=(0,a.jR)(((...e)=>l.inputTriggeredFetchAllTitles&&l.inputTriggeredFetchAllTitles(...e)),["enter"]))},null,544),[[a.Jo,i.allTitlesListNonAutoOptions.searchTerm]]),(0,s.bF)(m,{class:"icon-button",onClick:l.inputTriggeredFetchAllTitles},null,8,["onClick"])]),(0,s.Lk)("div",Qi,[(0,s.bF)(g,{modelValue:i.allTitlesListOptions.sortBy,"onUpdate:modelValue":t[10]||(t[10]=e=>i.allTitlesListOptions.sortBy=e),options:i.allTitlesListSortByOptions},null,8,["modelValue","options"]),(0,s.Lk)("button",{onClick:t[11]||(t[11]=e=>i.allTitlesListOptions.direction="asc"==i.allTitlesListOptions.direction?"desc":"asc"),class:"sort-direction"},["desc"==i.allTitlesListOptions.direction?((0,s.uX)(),(0,s.Wv)(v,{key:0,size:"28px"})):(0,s.Q3)("",!0),"asc"==i.allTitlesListOptions.direction?((0,s.uX)(),(0,s.Wv)(f,{key:1,size:"28px"})):(0,s.Q3)("",!0)])])])])]),i.allTitlesList?.length>=1?((0,s.uX)(),(0,s.CE)("div",qi,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.allTitlesList,(e=>((0,s.uX)(),(0,s.Wv)(b,{key:e.title_id,to:`/watch_list/title/${e.title_id}`,class:"title-element no-decoration"},{default:(0,s.k6)((()=>[(0,s.Lk)("div",ji,[(0,s.Lk)("img",{src:l.posterUrl(e.title_id,300,e.backup_poster_url),onLoad:t[12]||(t[12]=e=>e.target.classList.add("loaded")),class:"poster"},null,40,Zi)]),(0,s.Lk)("div",Yi,[(0,s.Lk)("span",{class:"title-name",to:`/watch_list/title/${e.title_id}`},[(0,s.Lk)("span",null,(0,d.v_)(e.name),1),t[18]||(t[18]=(0,s.eW)(" â ")),e.name!=e.name_original?((0,s.uX)(),(0,s.CE)("span",el,"("+(0,d.v_)(e.name_original)+")",1)):(0,s.Q3)("",!0)],8,Ji),(0,s.Lk)("div",tl,[e.watch_count>=1?((0,s.uX)(),(0,s.CE)("div",ol," Watched ")):(0,s.Q3)("",!0),e.favourite?((0,s.uX)(),(0,s.CE)("div",al," Favourite ")):(0,s.Q3)("",!0),e.new_episodes?((0,s.uX)(),(0,s.CE)("div",sl," New episodes ")):new Date(e.release_date)>new Date?((0,s.uX)(),(0,s.CE)("div",nl," Upcoming ")):(0,s.Q3)("",!0),(0,s.Lk)("div",il,(0,d.v_)("tv"===e.type?"TV":"Movie"),1),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.genres,(e=>((0,s.uX)(),(0,s.CE)("div",{class:"tag tag-general",key:e},(0,d.v_)(e),1)))),128))]),(0,s.Lk)("div",ll,[(0,s.Lk)("div",rl,[(0,s.Lk)("span",cl,[(0,s.bF)(r,{style:{"margin-right":"4px"}}),(0,s.eW)(" "+(0,d.v_)(e.tmdb_vote_average)+" ("+(0,d.v_)(e.tmdb_vote_count)+") ",1)]),(0,s.Lk)("span",null,(0,d.v_)(l.convertToDate(e.release_date)),1),(0,s.Lk)("span",dl,["tv"===e.type?((0,s.uX)(),(0,s.CE)(s.FK,{key:0},[(0,s.Lk)("div",ul,(0,d.v_)(e.season_count),1),(0,s.Lk)("div",hl,(0,d.v_)(e.episode_count),1)],64)):((0,s.uX)(),(0,s.CE)(s.FK,{key:1},[(0,s.eW)((0,d.v_)(l.formatRuntime(e.movie_runtime)),1)],64))])]),(0,s.Lk)("div",pl,[(0,s.Lk)("p",null,(0,d.v_)(e.overview),1)])])]),(0,s.Lk)("div",ml,[(0,s.bF)(c,{size:"28px",class:(0,d.C4)([{"is-set":e.favourite},"icon-button favourite"]),onClick:(0,a.D$)((t=>l.handleFavouriteToggle(e)),["prevent"])},null,8,["class","onClick"]),e.is_in_watchlist?((0,s.uX)(),(0,s.Wv)(k,{key:0,size:"28px",class:"icon-button watch-list",onClick:(0,a.D$)((t=>l.handleRemoveTitleFromUserList(e)),["prevent"])},null,8,["onClick"])):((0,s.uX)(),(0,s.Wv)(y,{key:1,size:"28px",class:"icon-button watch-list",onClick:(0,a.D$)((t=>l.handleAddTitleToUserList(e)),["prevent"])},null,8,["onClick"]))])])),_:2},1032,["to"])))),128)),(0,s.Lk)("div",gl,[i.allTitlesListHasMore?((0,s.uX)(),(0,s.CE)("button",{key:0,disabled:i.waitingForResult.includes("allTitlesList"),class:(0,d.C4)({loading:i.waitingForResult.includes("allTitlesList")}),onClick:t[13]||(t[13]=(...e)=>l.loadMoreTitlesForAllTitlesList&&l.loadMoreTitlesForAllTitlesList(...e))}," Load more ",10,vl)):(0,s.Q3)("",!0)])])):(0,s.Q3)("",!0),i.waitingForResult.includes("allTitlesList")?((0,s.uX)(),(0,s.CE)("div",fl,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(Math.max(3-i.allTitlesList?.length,0),(e=>((0,s.uX)(),(0,s.CE)("div",{key:"placeholder-"+e,class:"all-titles-list-placeholder title-element loading-placeholder"})))),128))])):0==i.allTitlesList?.length?((0,s.uX)(),(0,s.CE)("div",kl,t[19]||(t[19]=[(0,s.Lk)("div",{class:"all-titles-list-placeholder content-not-found"},[(0,s.eW)(" Looks like there's nothing here."),(0,s.Lk)("br"),(0,s.Lk)("span",{class:"text-hidden"},"Try adding titles to your watch list")],-1)]))):(0,s.Q3)("",!0),(0,s.bF)(b,{class:"sticky-corner-button link-button",style:(0,d.Tr)([{transition:"opacity 0.1s ease-out","margin-bottom":"calc(var(--spacing-lg) * 1.5 + 52px)"},{opacity:i.scrolledPastTitlesListed?1:0}]),to:"#titles_listed"},{default:(0,s.k6)((()=>[(0,s.bF)(L,{size:"28px",style:{rotate:"180deg"}})])),_:1},8,["style"]),(0,s.bF)(b,{class:"sticky-corner-button link-button button-primary",to:"/watch_list/add_title"},{default:(0,s.k6)((()=>[(0,s.bF)(w,{size:"28px"})])),_:1}),(0,s.bF)(_,{ref:"removeTitleConfirmationModal",header:"Remove from watchlist",text:"Are you sure you wan't to remove the title from your watchlist?\r\n            This gets rid of all your data on the title like your watched episodes and notes.","affirmative-option":"Remove title"},null,512)])}var bl=o(9082);const Ll={key:0,class:"indicator-dots"},wl=["onClick"];function _l(e,t,o,a,n,i){return o.dotCount>1?((0,s.uX)(),(0,s.CE)("div",Ll,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)([...Array(o.dotCount).keys()],(e=>((0,s.uX)(),(0,s.CE)("div",{key:e,class:(0,d.C4)(["dot",{active:e===(o.dotIndex??n.swiperDotIndex)}]),onClick:t=>i.moveSwiperTo(e)},null,10,wl)))),128))])):(0,s.Q3)("",!0)}var Il={data(){return{swiper:null,swiperDotIndex:0}},props:{dotIndex:{type:Number,required:!1},dotCount:{type:Number,required:!0},swiperMode:{type:Boolean,default:!1}},methods:{moveSwiperTo(e){this.swiperMode&&this.swiper?this.swiper.slideTo(e):this.$emit("dotSelected",e)}},mounted(){if(this.swiperMode){const e=(0,bl.Mn)();e&&(this.swiper=e)}},watch:{"swiper.activeIndex"(e){this.swiperDotIndex=e}}};const Cl=(0,b.A)(Il,[["render",_l],["__scopeId","data-v-4048db26"]]);var Tl=Cl;function xl(e,t,o,a,n,i){const l=(0,s.g2)("BaseIcon");return(0,s.uX)(),(0,s.Wv)(l,{size:o.size},{default:(0,s.k6)((()=>t[0]||(t[0]=[(0,s.Lk)("path",{d:"M13.567 11.606h6.69A1.767 1.767 90 0022.024 9.84h0A1.767 1.767 90 0020.257 8.073h-6.69A1.767 1.767 90 0011.8 9.84h0A1.767 1.767 90 0013.567 11.606Zm-8.8 4.5h7.69A1.767 1.767 90 0014.224 14.34h0A1.767 1.767 90 0012.457 12.573H4.767A1.767 1.767 90 003 14.34H3A1.767 1.767 90 004.767 16.106ZM4.041 11.542h.78V8.692h1.01V8H3.031v.69h1.01Zm2.81 0h.78V8.825h.01l.9 2.715h.6l.93-2.715h.01V11.54h.78V8H9.676l-.82 2.31h-.01L8.031 8H6.851ZM18.243 13.567a1.507 1.507 90 00-.452-.552 1.857 1.857 90 00-.668-.308 3.354 3.354 90 00-.807-.1h-1.17v3.54h1.275a2.458 2.458 90 00.755-.115A1.934 1.934 90 0017.811 15.7a1.627 1.627 90 00.437-.55 1.691 1.691 90 00.163-.758A1.85 1.85 90 0018.243 13.567ZM17.5 14.86A.88.88 90 0117.236 15.2a1.07 1.07 90 01-.4.182 2.157 2.157 90 01-.5.055h-.405v-2.1h.46a1.7 1.7 90 01.467.063 1.166 1.166 90 01.388.187A.914.914 90 0117.5 13.9a.987.987 90 01.1.452A1.189 1.189 90 0117.5 14.86Zm4.463-.013a.8.8 90 00-.158-.262A.838.838 90 0021.563 14.4a1.031 1.031 90 00-.317-.1v-.01a.922.922 90 00.442-.282.743.743 90 00.168-.5.842.842 90 00-.115-.465.809.809 90 00-.3-.272 1.256 1.256 90 00-.418-.13 3.284 3.284 90 00-.462-.033h-1.32v3.54h1.45a2.241 2.241 90 00.472-.05 1.353 1.353 90 00.428-.165.942.942 90 00.31-.3.852.852 90 00.12-.468A.939.939 90 0021.966 14.847ZM20.021 13.272h.53a1 1 90 01.185.018.618.618 90 01.17.057.339.339 90 01.122.113.322.322 90 01.048.182.363.363 90 01-.043.18.34.34 90 01-.112.12.492.492 90 01-.158.065.751.751 90 01-.177.02h-.565Zm1.172 2a.39.39 90 01-.122.13.464.464 90 01-.168.07.818.818 90 01-.182.02h-.7v-.8h.59a1.535 1.535 90 01.2.015.847.847 90 01.205.055.4.4 90 01.157.118.311.311 90 01.063.2A.371.371 90 0121.193 15.272Z"},null,-1)]))),_:1},8,["size"])}var Sl={name:"IconIMDB",components:{BaseIcon:w},props:{size:[String,Number]}};const Fl=(0,b.A)(Sl,[["render",xl]]);var Dl=Fl;function El(e,t,o,a,n,i){const l=(0,s.g2)("BaseIcon");return(0,s.uX)(),(0,s.Wv)(l,{size:o.size},{default:(0,s.k6)((()=>t[0]||(t[0]=[(0,s.Lk)("path",{d:"M20.205 4.791a5.938 5.938 0 0 0-4.209-1.754A5.906 5.906 0 0 0 12 4.595a5.904 5.904 0 0 0-3.996-1.558 5.942 5.942 0 0 0-4.213 1.758c-2.353 2.363-2.352 6.059.002 8.412L12 21.414l8.207-8.207c2.354-2.353 2.355-6.049-.002-8.416z"},null,-1)]))),_:1},8,["size"])}var Ml={name:"IconHeart",components:{BaseIcon:w},props:{size:[String,Number]}};const Al=(0,b.A)(Ml,[["render",El]]);var zl=Al;function Wl(e,t,o,a,n,i){const l=(0,s.g2)("BaseIcon");return(0,s.uX)(),(0,s.Wv)(l,{size:o.size},{default:(0,s.k6)((()=>t[0]||(t[0]=[(0,s.Lk)("path",{d:"M10 18a7.952 7.952 0 0 0 4.897-1.688l4.396 4.396 1.414-1.414-4.396-4.396A7.952 7.952 0 0 0 18 10c0-4.411-3.589-8-8-8s-8 3.589-8 8 3.589 8 8 8zm0-14c3.309 0 6 2.691 6 6s-2.691 6-6 6-6-2.691-6-6 2.691-6 6-6z"},null,-1)]))),_:1},8,["size"])}var Ol={name:"IconSearch",components:{BaseIcon:w},props:{size:[String,Number]}};const Xl=(0,b.A)(Ol,[["render",Wl]]);var $l=Xl;function Vl(e,t,o,a,n,i){const l=(0,s.g2)("BaseIcon");return(0,s.uX)(),(0,s.Wv)(l,{size:o.size},{default:(0,s.k6)((()=>t[0]||(t[0]=[(0,s.Lk)("path",{d:"M19 15v-3h-2v3h-3v2h3v3h2v-3h3v-2h-.937zM4 7h11v2H4zm0 4h11v2H4zm0 4h8v2H4z"},null,-1)]))),_:1},8,["size"])}var Bl={name:"IconListAdd",components:{BaseIcon:w},props:{size:[String,Number]}};const Rl=(0,b.A)(Bl,[["render",Vl]]);var Hl=Rl;function Ul(e,t,o,a,n,i){const l=(0,s.g2)("BaseIcon");return(0,s.uX)(),(0,s.Wv)(l,{size:o.size},{default:(0,s.k6)((()=>t[0]||(t[0]=[(0,s.Lk)("path",{d:"M21.063 15H13v2h9v-2zM4 7h11v2H4zm0 4h11v2H4zm0 4h7v2H4z"},null,-1)]))),_:1},8,["size"])}var Nl={name:"IconListRemove",components:{BaseIcon:w},props:{size:[String,Number]}};const Gl=(0,b.A)(Nl,[["render",Ul]]);var Kl=Gl,Pl={name:"HomePage",components:{Swiper:bl.RC,SwiperSlide:bl.qr,CustomSelect:Yt,IndicatorDots:Tl,ConfirmationModal:Ao,IconAdd:an,IconTMDB:Dl,IconHeart:zl,IconSortDown:qs,IconSortUp:Js,IconChevronDown:qt,IconSearch:$l,IconListAdd:Hl,IconListRemove:Kl},data(){return{apiUrl:"http://192.168.0.2:800",waitingForResult:[],titleLists:[{listName:"In progress",watched:!0,text:"TV-series that you have started but have not finished yet.",titles:[],loading:!0,activeSlide:0,fetchDetails:{sortBy:"last_watched",titleType:"tv",started:!0,watched:!1,released:!0}},{listName:"Movies to watch",text:"Movies that are on your watch list and that you have yet not watched.",titles:[],loading:!0,activeSlide:0,fetchDetails:{sortBy:"release_date",titleType:"movie",watched:!1,released:!0}},{listName:"TV-series to start watching",text:"TV-series that you are have on you watch list but haven't started to watch yet.",titles:[],loading:!0,activeSlide:0,fetchDetails:{sortBy:"release_date",titleType:"tv",started:!1,watched:!1,released:!0}},{listName:"Upcoming titles",watched:!0,text:"Upcoming titles you've added to your list.",titles:[],loading:!0,activeSlide:0,fetchDetails:{sortBy:"release_date",direction:"asc",released:!1}},{listName:"Your favourites",watched:!0,text:"Your favourite movies and TV-series.",titles:[],loading:!0,activeSlide:0,fetchDetails:{favourite:!0}},{listName:"Watched titles",watched:!0,text:"The titles you've recently watched or interacted with, such as those you've watched or added to your favorites.",titles:[],loading:!0,activeSlide:0,fetchDetails:{sortBy:"last_watched",watched:!0}}],allTitlesList:[],allTitlesListHasMore:!1,allTitlesListOffset:0,allTitlesListNonAutoOptions:{searchTerm:""},allTitlesListSortByOptions:[{label:"TMDB rating",value:"vote_average"},{label:"Release date",value:"release_date"},{label:"Modified",value:"latest_updated"}],allTitlesListOptions:{sortBy:"vote_average",direction:"desc",titleType:"",titleProgress:"",getAllTitles:!1},scrolledPastTitlesListed:!1}},methods:{openDetailsPageFor(e){Lu.push(`/watch_list/title/${e}`)},openDetailsPageOnNewTabFor(e){const t=this.$router.resolve(`/watch_list/title/${e}`).href;window.open(t,"_blank")},formatRuntime(e){return ht.runtime(e)},async fetchTitleLists(){try{await Promise.all(this.titleLists.map((async e=>{e.loading=!0;try{const t=await Tu.getTitleCards(e.fetchDetails.sortBy,e.fetchDetails.direction,e.fetchDetails.titleType,e.fetchDetails.watched,e.fetchDetails.favourite,e.fetchDetails.released,e.fetchDetails.started);t&&t.titles&&(e.titles=t.titles,console.debug(e.listName,"titles and their info:",e.titles))}catch(t){console.error(`Error fetching data for ${e.listName}:`,t)}finally{e.loading=!1}})))}catch(e){console.error("Error fetching title lists:",e)}},async fetchAllTitlesList(){this.waitingForResult.push("allTitlesList");const e={sort_by:this.allTitlesListOptions.sortBy,direction:this.allTitlesListOptions.direction,offset:this.allTitlesListOffset,all_titles:this.allTitlesListOptions.getAllTitles};this.allTitlesListOptions.titleType&&(e.title_type=this.allTitlesListOptions.titleType),this.allTitlesListOptions.titleProgress&&(e.watched="watched"===this.allTitlesListOptions.titleProgress),this.allTitlesListNonAutoOptions.searchTerm&&(e.search_term=this.allTitlesListNonAutoOptions.searchTerm);const t=await Tu.listTitles(e);t&&(0==this.allTitlesListOffset?this.allTitlesList=t.titles:this.allTitlesList=this.allTitlesList.concat(t.titles),this.allTitlesListHasMore=t.has_more,console.debug("[fetchAllTitlesList]",this.allTitlesList)),this.removeItemFromWaitingArray("allTitlesList")},async loadMoreTitlesForAllTitlesList(){this.allTitlesListOffset+=1,await this.fetchAllTitlesList()},removeItemFromWaitingArray(e){this.waitingForResult=this.waitingForResult.filter((t=>t!==e))},async handleFavouriteToggle(e){this.waitingForResult.push(`${e.title_id}Favourite`);const t=await Tu.toggleTitleFavourite(e.title_id);t&&(console.log(t),e.favourite=!e.favourite,null!=e.is_in_watchlist&&(e.is_in_watchlist=!0)),this.removeItemFromWaitingArray(`${e.title_id}Favourite`)},convertToDate(e){return ht.toFiDate(e,"default")},checkScroll(){const e=document.getElementById("titles_listed");if(e){const t=window.scrollY||document.documentElement.scrollTop;this.scrolledPastTitlesListed=t>e.offsetTop}},posterUrl(e,t,o){return 600==t&&(t=500),`https://image.tmdb.org/t/p/w${t}${o}`},async inputTriggeredFetchAllTitles(){this.allTitlesListOffset=0,await this.fetchAllTitlesList()},async handleAddTitleToUserList(e){const t=await Tu.addTitleToUserList(e.tmdb_id);t&&(e.is_in_watchlist=!0)},async handleRemoveTitleFromUserList(e){const t=await this.$refs.removeTitleConfirmationModal.prompt();if(t){const t=await Tu.removeTitleFromUserList(e.tmdb_id);t&&(e.is_in_watchlist=!1,e.watch_count=0,e.favourite=!1)}}},async mounted(){this.waitingForResult.push("allTitlesList"),await this.fetchTitleLists(),await this.fetchAllTitlesList(),window.addEventListener("scroll",this.checkScroll)},unmounted(){window.removeEventListener("scroll",this.checkScroll)},watch:{allTitlesListOptions:{deep:!0,async handler(){await this.inputTriggeredFetchAllTitles()}}}};const Ql=(0,b.A)(Pl,[["render",yl],["__scopeId","data-v-46d688d9"]]);var ql=Ql;const jl={class:"content-width-small"},Zl={class:"flex-row"},Yl=["disabled"],Jl={class:"results"},er={key:0,class:"card result-placeHolder loading-placeholder"},tr={key:1,class:"card result-placeHolder"},or=["src"],ar={class:"title-texts"},sr={class:"make-space-on-mobile"},nr={class:"icon-align"},ir=["href"],lr=["title"],rr=["title"],cr=["title"],dr=["title"],ur=["href"],hr={class:"flex details"},pr=["title"],mr={key:0},gr={key:1},vr={class:"flex genres"},fr={class:"overview"},kr={class:"add-or-remove flex"},yr=["onClick","disabled"],br=["onClick","disabled"];function Lr(e,t,o,n,i,l){const r=(0,s.g2)("SliderToggle"),c=(0,s.g2)("IconLinkExternal"),u=(0,s.g2)("IconTMDB"),h=(0,s.g2)("IconTrash"),p=(0,s.g2)("IconAdd");return(0,s.uX)(),(0,s.CE)("div",jl,[t[10]||(t[10]=(0,s.Lk)("h1",null,"Add title",-1)),t[11]||(t[11]=(0,s.Lk)("p",null,"Use the search box below to search for movies or TV-show to add to your watch list. Please note that if no one has added the title to their watch list before the process takes a while since the server queries for all the data for it. Especially on TV-series, since the amount of data is so much greater. ",-1)),(0,s.Lk)("form",{onSubmit:t[2]||(t[2]=(0,a.D$)(((...e)=>l.searchForTitles&&l.searchForTitles(...e)),["prevent"])),class:"title-form"},[(0,s.Lk)("div",null,[t[4]||(t[4]=(0,s.Lk)("label",null,"Title category",-1)),(0,s.bF)(r,{modelValue:i.titleCategory,"onUpdate:modelValue":t[0]||(t[0]=e=>i.titleCategory=e),options:["Movie","TV"],colors:{color1:"var(--color-primary)",color1Hover:"var(--color-primary-hover)",color2:"var(--color-secondary)",color2Hover:"var(--color-secondary-hover)"}},null,8,["modelValue"])]),(0,s.Lk)("div",null,[t[5]||(t[5]=(0,s.Lk)("label",null,"Title name",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>i.titleName=e)},null,512),[[a.Jo,i.titleName]])]),(0,s.Lk)("div",Zl,[(0,s.Lk)("button",{class:(0,d.C4)(["button-primary",{loading:i.waitingForResult.includes("search")}]),disabled:i.waitingForResult.includes("search")}," Search ",10,Yl)])],32),(0,s.Lk)("div",Jl,[t[9]||(t[9]=(0,s.Lk)("h2",null,"Seach results",-1)),null==i.searchResults&&i.waitingForResult.includes("search")?((0,s.uX)(),(0,s.CE)("div",er)):null==i.searchResults?((0,s.uX)(),(0,s.CE)("div",tr," The results will appear here ")):(0,s.Q3)("",!0),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.searchResults,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"card result"},[(0,s.Lk)("img",{src:"https://image.tmdb.org/t/p/w300"+e.poster_path,alt:" ",onLoad:t[3]||(t[3]=e=>e.target.classList.add("loaded"))},null,40,or),(0,s.Lk)("div",ar,[(0,s.Lk)("div",sr,[(0,s.Lk)("h3",nr,[(0,s.Lk)("a",{class:"no-decoration",href:l.titleLink(e),style:{color:"var(--color-text)"}},[e.title?((0,s.uX)(),(0,s.CE)("span",{key:0,title:e.title,class:"name"},(0,d.v_)(e.title),9,lr)):(0,s.Q3)("",!0),e.original_title&&e.original_title!==e.title?((0,s.uX)(),(0,s.CE)("span",{key:1,class:"original-name",title:e.original_title}," ("+(0,d.v_)(e.original_title)+") ",9,rr)):(0,s.Q3)("",!0),e.name?((0,s.uX)(),(0,s.CE)("span",{key:2,title:e.name,class:"name"},(0,d.v_)(e.name),9,cr)):(0,s.Q3)("",!0),e.original_name&&e.original_name!==e.name?((0,s.uX)(),(0,s.CE)("span",{key:3,class:"original-name",title:e.original_name}," ("+(0,d.v_)(e.original_name)+") ",9,dr)):(0,s.Q3)("",!0)],8,ir),e.title_id?((0,s.uX)(),(0,s.CE)("a",{key:0,class:"no-decoration icon-align external-link-icon",href:l.tmdbLink(e),target:"_blank",rel:"noopener noreferrer"},[(0,s.bF)(c,{style:{"margin-left":"5px"},size:"18px"})],8,ur)):(0,s.Q3)("",!0)]),(0,s.Lk)("div",hr,[(0,s.Lk)("div",{class:"flex score",title:e.vote_count+" votes"},[(0,s.bF)(u),(0,s.Lk)("span",null,(0,d.v_)(e.vote_average?e.vote_average.toFixed(1):0),1)],8,pr),t[6]||(t[6]=(0,s.Lk)("span",{class:"divider"},"â¢",-1)),e.release_date?((0,s.uX)(),(0,s.CE)("span",mr,(0,d.v_)(l.movieDate(e.release_date)),1)):((0,s.uX)(),(0,s.CE)("span",gr,(0,d.v_)(l.movieDate(e.first_air_date)),1))]),(0,s.Lk)("div",vr,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.genres,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e,class:"genre"},(0,d.v_)(e),1)))),128))])]),(0,s.Lk)("div",fr,(0,d.v_)(e.overview),1),(0,s.Lk)("div",kr,[e.in_watch_list?((0,s.uX)(),(0,s.CE)("button",{key:0,class:(0,d.C4)(["button-danger",{loading:i.waitingForResult.includes(e.id)}]),onClick:t=>l.handleTitleStoring("remove",e.id),disabled:i.waitingForResult.includes(e.id)},[(0,s.bF)(h,{size:"16px"}),t[7]||(t[7]=(0,s.eW)("Remove "))],10,yr)):((0,s.uX)(),(0,s.CE)("button",{key:1,class:(0,d.C4)(["button-primary",{loading:i.waitingForResult.includes(e.id)}]),onClick:t=>l.handleTitleStoring("add",e.id,e.title?"movie":"tv"),disabled:i.waitingForResult.includes(e.id)},[(0,s.bF)(p,{size:"16px"}),t[8]||(t[8]=(0,s.eW)("Add to list "))],10,br))])])])))),128))])])}function wr(e,t,o,a,n,i){const l=(0,s.g2)("BaseIcon");return(0,s.uX)(),(0,s.Wv)(l,{size:o.size},{default:(0,s.k6)((()=>t[0]||(t[0]=[(0,s.Lk)("path",{d:"m13 3 3.293 3.293-7 7 1.414 1.414 7-7L21 11V3z"},null,-1),(0,s.Lk)("path",{d:"M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"},null,-1)]))),_:1},8,["size"])}var _r={name:"IconLinkExternal",components:{BaseIcon:w},props:{size:[String,Number]}};const Ir=(0,b.A)(_r,[["render",wr]]);var Cr=Ir,Tr={components:{SliderToggle:Es,IconTMDB:Dl,IconAdd:an,IconTrash:_a,IconLinkExternal:Cr},data(){return{titleCategory:"Movie",resultTitleCategory:null,titleName:"",searchResults:null,waitingForResult:[],showConfirmationModal:!1,titleToBeRemoved:""}},methods:{async searchForTitles(){if(""!==this.titleName){this.waitingForResult.push("search"),this.resultTitleCategory=this.titleCategory.toLowerCase(),this.searchResults=null;const e=await Tu.searchForTitle(this.titleCategory,this.titleName);e&&(this.searchResults=e.results,console.log("[searchForTitles] Api response: ",e)),this.removeItemFromWaitingArray("search")}else G("The title name can not be empty.")},movieDate(e){const t=new Date(e);return"Invalid Date"==t?"No date":new Date(t).toLocaleDateString("fi-FI",{day:"numeric",month:"long",year:"numeric"})},async handleTitleStoring(e,t,o){if(console.log("[handleTitleStoring]",e,t),this.waitingForResult.push(t),"add"==e){const e=await Tu.addTitleToUserList(t,o);if(e&&e.success){console.log(e);const o=this.searchResults.find((e=>e.id===t));o&&(o.in_watch_list=!0,o.title_id=e.title_id)}this.removeItemFromWaitingArray(t)}else"remove"==e?(this.titleToBeRemoved=t,this.showConfirmationModal=!0):(G("Faild to interact with title.","error"),this.removeItemFromWaitingArray(t))},async callApiToRemoveTitle(){const e=this.titleToBeRemoved,t=await Tu.removeTitleFromUserList(e);t&&t.success&&(this.searchResults.find((t=>t.id===e)).in_watch_list=!1),this.removeItemFromWaitingArray(e)},removeItemFromWaitingArray(e){this.waitingForResult=this.waitingForResult.filter((t=>t!==e))},titleLink(e){return e.title_id?`/watch_list/title/${e.title_id}`:`https://www.themoviedb.org/${this.resultTitleCategory}/${e.id}`},tmdbLink(e){return`https://www.themoviedb.org/${this.resultTitleCategory}/${e.id}`}}};const xr=(0,b.A)(Tr,[["render",Lr],["__scopeId","data-v-5c31f522"]]);var Sr=xr;const Fr={key:0,class:"title-info"},Dr={key:0,class:"background backdrop-image-container"},Er=["src"],Mr={key:1,class:"background backdrop-image-container"},Ar=["onLoad","src"],zr={class:"content-inside"},Wr={key:0,class:"main backdrop-image-container"},Or=["src"],Xr={key:1,class:"main backdrop-image-container"},$r=["onLoad","src"],Vr={key:2,class:"button-holder no-pointer-events"},Br={class:"indicator"},Rr={class:"content-width-medium title-details"},Hr={class:"poster-next-to-stuff"},Ur={class:"poster-holder"},Nr={class:"poster-placholder"},Gr=["src"],Kr={class:"name-and-stuff"},Pr={class:"name-and-tagline"},Qr={class:"title-name"},qr=["title"],jr=["title"],Zr={key:0,class:"tagline all-pointer-events"},Yr={class:"tags"},Jr={key:0,class:"tag tag-positive"},ec={key:1,class:"tag tag-primary"},tc={key:2,class:"tag tag-upcoming"},oc={key:3,class:"tag tag-secondary"},ac={class:"control-button-array combined-buttons"},sc=["disabled"],nc=["disabled"],ic=["disabled"],lc=["disabled"],rc=["disabled"],cc=["disabled"],dc={class:"at-a-glance"},uc={class:"ratings"},hc={class:"short-value"},pc={class:"value icon-align"},mc={class:"text-lighter"},gc={class:"short-value"},vc={class:"value icon-align"},fc={class:"text-lighter"},kc={class:"short-value"},yc={class:"value"},bc={class:"text-lighter"},Lc={class:"awards hide-on-mobile"},wc=["href"],_c={style:{margin:"0"}},Ic={class:"trailer-details-flex"},Cc={class:"details-container"},Tc={class:"icon-align"},xc={class:"details-grid"},Sc={key:0},Fc={key:1,class:"value"},Dc={key:2},Ec={key:3,class:"value"},Mc={key:4},Ac={key:5,class:"value"},zc={key:6},Wc={key:7,class:"value"},Oc={class:"value"},Xc={key:8},$c={key:9,class:"value"},Vc={key:10},Bc=["title"],Rc={key:12},Hc=["title"],Uc={class:"value"},Nc={class:"value"},Gc={class:"value"},Kc=["href"],Pc={class:"value"},Qc=["href"],qc={class:"value"},jc={class:"value"},Zc={key:0,class:"trailer-container"},Yc={class:"iframe-container"},Jc=["src"],ed={key:0},td=["disabled"],od={key:2,class:"content-width-medium-unrestricted"},ad={class:"episode-map"},sd={class:"season-row"},nd={class:"episode-tile label"},id={key:3,class:"content-width-large"},ld=["onClick"],rd={class:"poster-container"},cd=["src"],dd={class:"tag-holder"},ud={key:0,class:"tag tag-positive"},hd={key:1,class:"tag tag-primary"},pd={class:"text"},md={class:"icon-align"},gd={class:"details"},vd={class:"icon-align single-line"},fd={class:"icon-align"},kd=["title"],yd=["onClick","disabled"],bd=["onClick","disabled"],Ld={key:0,class:"episodes-padding"},wd=["id"],_d={class:"still-container"},Id={key:0,class:"still failed-to-load"},Cd=["src","onError"],Td={class:"tag-holder"},xd={key:0,class:"tag tag-positive"},Sd={key:1,class:"tag tag-primary"},Fd={key:2,class:"tag"},Dd={class:"text"},Ed=["title"],Md={class:"details"},Ad={class:"icon-align"},zd={class:"icon-align"},Wd=["title"],Od=["onClick"],Xd=["onClick"],$d={class:"choice-modal"},Vd={key:0},Bd={class:"choice-buttons"},Rd={class:"choice-buttons"},Hd={key:1},Ud={class:"choice-buttons"},Nd={class:"choice-modal"},Gd={class:"choice-buttons"},Kd={key:1};function Pd(e,t,o,n,i,l){const r=(0,s.g2)("IconChevronDown"),c=(0,s.g2)("IndicatorDots"),u=(0,s.g2)("IconHeart"),h=(0,s.g2)("IconListAdd"),p=(0,s.g2)("IconListRemove"),m=(0,s.g2)("IconIMDBColorful"),g=(0,s.g2)("IconTMDBColorful"),v=(0,s.g2)("InfoTooltip"),f=(0,s.g2)("IconRefresh"),k=(0,s.g2)("IconLinkExternal"),y=(0,s.g2)("router-link"),b=(0,s.g2)("IconTMDB"),L=(0,s.g2)("IconFileImage"),w=(0,s.g2)("ConfirmationModal"),_=(0,s.g2)("GenericModal"),I=(0,s.g2)("notFoundPage");return i.titleInfo?((0,s.uX)(),(0,s.CE)("div",Fr,[i.standAloneBuild?((0,s.uX)(),(0,s.CE)("div",Dr,[(0,s.Lk)("img",{onLoad:t[0]||(t[0]=e=>e.target.classList.add("visible")),class:"",src:`https://image.tmdb.org/t/p/original${i.titleInfo.backup_backdrop_url}`},null,40,Er)])):i.titleInfo.backdrop_image_count>=1?((0,s.uX)(),(0,s.CE)("div",Mr,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.imageSlideshowData.individualData,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.number},[e.number===i.imageSlideshowData.showOnDom||i.imageSlideshowData.keepOnDom.includes(e.number)?((0,s.uX)(),(0,s.CE)("img",{key:0,onLoad:t=>e.isLoaded=!0,class:(0,d.C4)({visible:e.isLoaded&&e.number===i.imageSlideshowData.chosenOne}),src:`${i.apiUrl}/image/${i.titleInfo.title_id}/backdrop${e.number+1}.jpg${i.isTouchDevice?"?width=1200":""}`},null,42,Ar)):(0,s.Q3)("",!0)])))),128))])):(0,s.Q3)("",!0),t[59]||(t[59]=(0,s.Lk)("div",{class:"backdrop-dimension"},null,-1)),(0,s.Lk)("div",{class:"backdrop-container backdrop-dimension",onKeydown:t[4]||(t[4]=(...e)=>l.backdropKeypress&&l.backdropKeypress(...e)),tabindex:"0"},[(0,s.Lk)("div",zr,[i.standAloneBuild?((0,s.uX)(),(0,s.CE)("div",Wr,[(0,s.Lk)("img",{onLoad:t[1]||(t[1]=e=>e.target.classList.add("visible")),class:"",src:`https://image.tmdb.org/t/p/original${i.titleInfo.backup_backdrop_url}`},null,40,Or)])):i.titleInfo.backdrop_image_count>=1?((0,s.uX)(),(0,s.CE)("div",Xr,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.imageSlideshowData.individualData,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.number},[e.number===i.imageSlideshowData.showOnDom||i.imageSlideshowData.keepOnDom.includes(e.number)?((0,s.uX)(),(0,s.CE)("img",{key:0,onLoad:t=>e.isLoaded=!0,class:(0,d.C4)({visible:e.isLoaded&&e.number===i.imageSlideshowData.chosenOne}),src:`${i.apiUrl}/image/${i.titleInfo.title_id}/backdrop${e.number+1}.jpg${i.isTouchDevice?"?width=1200":""}`},null,42,$r)):(0,s.Q3)("",!0)])))),128))])):(0,s.Q3)("",!0),i.titleInfo.backdrop_image_count>1?((0,s.uX)(),(0,s.CE)("div",Vr,[(0,s.Lk)("button",{class:"left all-pointer-events",onClick:t[2]||(t[2]=e=>l.addOrSubtractSlideshowIndex(-1))},[(0,s.bF)(r,{size:"50"})]),(0,s.Lk)("button",{class:"right all-pointer-events",onClick:t[3]||(t[3]=e=>l.addOrSubtractSlideshowIndex(1))},[(0,s.bF)(r,{size:"50"})])])):(0,s.Q3)("",!0),(0,s.Lk)("div",Br,[(0,s.bF)(c,{dotIndex:i.imageSlideshowData.chosenOne,dotCount:i.titleInfo.backdrop_image_count,onDotSelected:l.updateSlideshowImageTo},null,8,["dotIndex","dotCount","onDotSelected"])])])],32),(0,s.Lk)("div",Rr,[(0,s.Lk)("div",Hr,[(0,s.Lk)("div",Ur,[(0,s.Lk)("div",Nr,[(0,s.Lk)("img",{src:l.imageUrl(300,i.titleInfo.backup_poster_url,i.titleInfo.title_id),onLoad:t[5]||(t[5]=e=>e.target.classList.add("loaded"))},null,40,Gr)])]),(0,s.Lk)("div",Kr,[(0,s.Lk)("div",Pr,[(0,s.Lk)("h1",Qr,[(0,s.Lk)("span",{class:"all-pointer-events",title:i.titleInfo.name},(0,d.v_)(i.titleInfo.name),9,qr),i.titleInfo.name_original&&i.titleInfo.name!==i.titleInfo.name_original?((0,s.uX)(),(0,s.CE)("span",{key:0,class:"all-pointer-events original-title",title:i.titleInfo.name_original}," ("+(0,d.v_)(i.titleInfo.name_original)+") ",9,jr)):(0,s.Q3)("",!0)]),i.titleInfo.tagline?((0,s.uX)(),(0,s.CE)("q",Zr,(0,d.v_)(i.titleInfo.tagline),1)):(0,s.Q3)("",!0)]),(0,s.Lk)("div",Yr,[i.titleInfo.watch_count>=1?((0,s.uX)(),(0,s.CE)("div",Jr," Watched ")):(0,s.Q3)("",!0),new Date(i.titleInfo.release_date)<new Date&&new Date(i.titleInfo.release_date)>new Date(new Date-12096e5)?((0,s.uX)(),(0,s.CE)("div",ec," Just released ")):(0,s.Q3)("",!0),new Date(i.titleInfo.release_date)>new Date?((0,s.uX)(),(0,s.CE)("div",tc," Upcoming ")):(0,s.Q3)("",!0),1==i.titleInfo.favourite?((0,s.uX)(),(0,s.CE)("div",oc," Favourite ")):(0,s.Q3)("",!0),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.titleInfo.genres,(e=>((0,s.uX)(),(0,s.CE)("div",{class:"tag",key:e},(0,d.v_)(e),1)))),128))]),(0,s.Lk)("div",ac,[null==i.titleInfo.favourite||0==i.titleInfo.favourite?((0,s.uX)(),(0,s.CE)("button",{key:0,class:(0,d.C4)(["button-primary left-button flex-1",{loading:0!=i.waitingForResult.length}]),onClick:t[6]||(t[6]=(...e)=>l.handleFavouriteToggle&&l.handleFavouriteToggle(...e)),disabled:0!=i.waitingForResult.length},[(0,s.bF)(u)],10,sc)):((0,s.uX)(),(0,s.CE)("button",{key:1,class:(0,d.C4)(["red-heart left-button flex-1",{loading:0!=i.waitingForResult.length}]),onClick:t[7]||(t[7]=(...e)=>l.handleFavouriteToggle&&l.handleFavouriteToggle(...e)),disabled:0!=i.waitingForResult.length},[(0,s.bF)(u)],10,nc)),null==i.titleInfo.watch_count||i.titleInfo.watch_count<=0?((0,s.uX)(),(0,s.CE)("button",{key:2,class:(0,d.C4)(["button-primary middle-button flex-2",{loading:0!=i.waitingForResult.length}]),onClick:t[8]||(t[8]=e=>l.handleTitleWatchClick("title","watched")),disabled:0!=i.waitingForResult.length}," Mark title as watched ",10,ic)):((0,s.uX)(),(0,s.CE)("button",{key:3,class:(0,d.C4)(["middle-button flex-2",{loading:0!=i.waitingForResult.length}]),onClick:t[9]||(t[9]=e=>l.handleTitleWatchClick("title","unwatched")),disabled:0!=i.waitingForResult.length}," Reset title watch status ",10,lc)),null==i.titleInfo.watch_count||i.titleInfo.watch_count<=-1?((0,s.uX)(),(0,s.CE)("button",{key:4,class:(0,d.C4)(["button-primary right-button flex-1",{loading:0!=i.waitingForResult.length}]),onClick:t[10]||(t[10]=e=>l.handleWatchListModification("add")),disabled:0!=i.waitingForResult.length},[(0,s.bF)(h)],10,rc)):((0,s.uX)(),(0,s.CE)("button",{key:5,class:(0,d.C4)(["right-button flex-1",{loading:0!=i.waitingForResult.length}]),onClick:t[11]||(t[11]=e=>l.handleWatchListModification("remove")),disabled:0!=i.waitingForResult.length},[(0,s.bF)(p)],10,cc))])])]),(0,s.Lk)("div",dc,[(0,s.Lk)("div",uc,[(0,s.Lk)("div",hc,[(0,s.Lk)("span",pc,[(0,s.bF)(m,{size:"40px",class:"imdb-icon"}),(0,s.eW)(" "+(0,d.v_)(i.titleInfo?.imdb_vote_average??"-"),1)]),(0,s.Lk)("span",mc,(0,d.v_)(i.titleInfo?.imdb_vote_count?.toLocaleString("fi-FI")??"0")+" votes ",1)]),(0,s.Lk)("div",gc,[(0,s.Lk)("span",vc,[(0,s.bF)(g,{size:"40px",class:"tmdb-icon"}),(0,s.eW)(" "+(0,d.v_)(i.titleInfo?.tmdb_vote_average??"-"),1)]),(0,s.Lk)("span",fc,(0,d.v_)(i.titleInfo?.tmdb_vote_count?.toLocaleString("fi-FI")??"0")+" votes ",1)]),t[30]||(t[30]=(0,s.Lk)("div",{class:"seperator"},null,-1)),(0,s.Lk)("div",kc,[(0,s.Lk)("span",yc,(0,d.v_)(""==i.titleInfo.age_rating||null==i.titleInfo.age_rating?"-":i.titleInfo.age_rating),1),(0,s.Lk)("span",bc,[t[29]||(t[29]=(0,s.eW)(" Age rating ")),(0,s.bF)(v,{text:"\r\n                                    By default age ratings are Finnish and US ratings are used as a backup. The US ratings convertion table:<br>\r\n                                    â¢ G (S) General Audience<br>\r\n                                    â¢ PG (K-7) Parental Guidance Suggested<br>\r\n                                    â¢ PG-13 (K-12) Parents Strongly Cautioned, Suitable for 13+<br>\r\n                                    â¢ R (K-18) Restricted, for Adults Only<br>\r\n                                    â¢ NC-17 (K-18) No One 17 and Under Admitted",position:"right","max-width":"60vw","align-offset":"0"})])])]),t[32]||(t[32]=(0,s.Lk)("div",{class:"seperator hide-on-mobile"},null,-1)),(0,s.Lk)("div",Lc,[(0,s.Lk)("a",{href:`https://www.imdb.com/title/${this.titleInfo.imdb_id}/awards`,target:"_blank",rel:"noopener noreferrer",class:"value no-decoration"},(0,d.v_)(i.titleInfo.awards??"-"),9,wc),t[31]||(t[31]=(0,s.Lk)("span",{class:"text-lighter"},"Awards & Nominations",-1))])]),t[44]||(t[44]=(0,s.Lk)("h3",null,"Overview",-1)),(0,s.Lk)("p",_c,(0,d.v_)(i.titleInfo.overview),1),(0,s.Lk)("div",Ic,[(0,s.Lk)("div",Cc,[(0,s.Lk)("h3",Tc,[t[33]||(t[33]=(0,s.eW)(" Title details ")),(0,s.bF)(f,{size:"28px",left:"6px",onClick:t[12]||(t[12]=e=>l.openTitleUpdateModal()),class:(0,d.C4)([{loading:i.waitingForResult.includes("titleUpdate0"),"spin-refresh-icon":i.waitingForResult.includes("titleUpdate0")},"icon-button"])},null,8,["class"])]),(0,s.Lk)("div",xc,["movie"==i.titleInfo.type?((0,s.uX)(),(0,s.CE)("div",Sc," Movie length ")):(0,s.Q3)("",!0),"movie"==i.titleInfo.type?((0,s.uX)(),(0,s.CE)("div",Fc,(0,d.v_)(l.formatRuntime(i.titleInfo.movie_runtime)),1)):(0,s.Q3)("",!0),"tv"==i.titleInfo.type?((0,s.uX)(),(0,s.CE)("div",Dc,"Progress")):(0,s.Q3)("",!0),"tv"==i.titleInfo.type?((0,s.uX)(),(0,s.CE)("div",Ec,(0,d.v_)(l.getWatchedStats()),1)):(0,s.Q3)("",!0),"tv"==i.titleInfo.type?((0,s.uX)(),(0,s.CE)("div",Mc," Season count ")):(0,s.Q3)("",!0),"tv"==i.titleInfo.type?((0,s.uX)(),(0,s.CE)("div",Ac,[(0,s.eW)((0,d.v_)(i.titleInfo.seasons.length)+" season",1),i.titleInfo.seasons.length>1?((0,s.uX)(),(0,s.CE)(s.FK,{key:0},[(0,s.eW)("s")],64)):(0,s.Q3)("",!0)])):(0,s.Q3)("",!0),"tv"==i.titleInfo.type?((0,s.uX)(),(0,s.CE)("div",zc," Episode count ")):(0,s.Q3)("",!0),"tv"==i.titleInfo.type?((0,s.uX)(),(0,s.CE)("div",Wc,[(0,s.eW)((0,d.v_)(l.titleEpisodeCount)+" episode",1),l.titleEpisodeCount>1?((0,s.uX)(),(0,s.CE)(s.FK,{key:0},[(0,s.eW)("s")],64)):(0,s.Q3)("",!0)])):(0,s.Q3)("",!0),(0,s.Lk)("div",null,["tv"==i.titleInfo.type?((0,s.uX)(),(0,s.CE)(s.FK,{key:0},[(0,s.eW)("First air date")],64)):((0,s.uX)(),(0,s.CE)(s.FK,{key:1},[(0,s.eW)("Release date")],64))]),(0,s.Lk)("div",Oc,(0,d.v_)(new Date(i.titleInfo.release_date).toLocaleDateString("fi-FI",{day:"numeric",month:"long",year:"numeric"})),1),"tv"==i.titleInfo.type?((0,s.uX)(),(0,s.CE)("div",Xc," last air date ")):(0,s.Q3)("",!0),"tv"==i.titleInfo.type?((0,s.uX)(),(0,s.CE)("div",$c,(0,d.v_)(new Date(l.titleLastAirDate).toLocaleDateString("fi-FI",{day:"numeric",month:"long",year:"numeric"})),1)):(0,s.Q3)("",!0),"movie"==i.titleInfo.type?((0,s.uX)(),(0,s.CE)("div",Vc,"Revenue")):(0,s.Q3)("",!0),"movie"==i.titleInfo.type?((0,s.uX)(),(0,s.CE)("div",{key:11,class:"value",title:i.titleInfo?.revenue?.toLocaleString("fi-FI",{maximumFractionDigits:0})+" $"},(0,d.v_)(l.formatToMillions(i.titleInfo.revenue)??"-"),9,Bc)):(0,s.Q3)("",!0),"movie"==i.titleInfo.type?((0,s.uX)(),(0,s.CE)("div",Rc,"Budget")):(0,s.Q3)("",!0),"movie"==i.titleInfo.type?((0,s.uX)(),(0,s.CE)("div",{key:13,class:"value",title:i.titleInfo?.budget?.toLocaleString("fi-FI",{maximumFractionDigits:0})+" $"},(0,d.v_)(l.formatToMillions(i.titleInfo.budget)??"-"),9,Hc)):(0,s.Q3)("",!0),t[37]||(t[37]=(0,s.Lk)("div",null,"Original language",-1)),(0,s.Lk)("div",Uc,(0,d.v_)(i.titleInfo.original_language??"-"),1),(0,s.Lk)("div",null,[t[34]||(t[34]=(0,s.eW)(" Production countr")),i.titleInfo?.production_countries?.includes(",")?((0,s.uX)(),(0,s.CE)(s.FK,{key:0},[(0,s.eW)("ies")],64)):((0,s.uX)(),(0,s.CE)(s.FK,{key:1},[(0,s.eW)("y")],64))]),(0,s.Lk)("div",Nc,(0,d.v_)(i.titleInfo?.production_countries??"-"),1),t[38]||(t[38]=(0,s.Lk)("h4",null,"Metadata",-1)),t[39]||(t[39]=(0,s.Lk)("div",null,null,-1)),t[40]||(t[40]=(0,s.Lk)("div",null,"IMDB id",-1)),(0,s.Lk)("div",Gc,[(0,s.eW)((0,d.v_)(i.titleInfo.imdb_id)+" ",1),(0,s.Lk)("a",{class:"flex",href:`https://www.imdb.com/title/${this.titleInfo.imdb_id}`,target:"_blank",rel:"noopener noreferrer"},[(0,s.bF)(k,{size:"20px"})],8,Kc)]),t[41]||(t[41]=(0,s.Lk)("div",null,"TMDB id",-1)),(0,s.Lk)("div",Pc,[(0,s.eW)((0,d.v_)(i.titleInfo.tmdb_id)+" ",1),(0,s.Lk)("a",{class:"flex",href:`https://www.themoviedb.org/${this.titleInfo.type}/${this.titleInfo.tmdb_id}`,target:"_blank",rel:"noopener noreferrer"},[(0,s.bF)(k,{size:"20px"})],8,Qc)]),(0,s.Lk)("div",null,[t[35]||(t[35]=(0,s.eW)("Title details updated ")),(0,s.bF)(v,{text:"Title information is updated with the button above. This is only the title and does not include episodes or seasons.",position:"right"})]),(0,s.Lk)("div",qc,(0,d.v_)(new Date(i.titleInfo.last_updated).toLocaleDateString("fi-FI")),1),(0,s.Lk)("div",null,[t[36]||(t[36]=(0,s.eW)("User data updated ")),(0,s.bF)(v,{text:"User-related information is updated when you mark the title (or any of its episodes or seasons) as watched, edit its notes, or add it to favourites.",position:"right"})]),(0,s.Lk)("div",jc,(0,d.v_)(new Date(i.titleInfo.user_title_last_updated).toLocaleDateString("fi-FI")),1)])]),null!=i.titleInfo.trailer_key?((0,s.uX)(),(0,s.CE)("div",Zc,[t[42]||(t[42]=(0,s.Lk)("h3",null,"Trailer",-1)),(0,s.Lk)("div",Yc,[(0,s.Lk)("iframe",{src:`https://www.youtube.com/embed/${i.titleInfo.trailer_key}`,frameborder:"0",allowfullscreen:""},null,8,Jc)])])):(0,s.Q3)("",!0)]),i.titleInfo.watch_count>=0?((0,s.uX)(),(0,s.CE)("div",ed,[t[43]||(t[43]=(0,s.Lk)("h3",null,"Notes",-1)),(0,s.bo)((0,s.Lk)("textarea",{class:"notes-text-area","onUpdate:modelValue":t[13]||(t[13]=e=>this.titleInfo.notes=e),placeholder:"Write your notes, thoughts, favorite moments, or timestamps here..."},null,512),[[a.Jo,this.titleInfo.notes]]),(0,s.Lk)("button",{onClick:t[14]||(t[14]=(...e)=>l.handleNotesSave&&l.handleNotesSave(...e)),disabled:i.waitingForResult.includes("saveNotes"),class:(0,d.C4)([{loading:i.waitingForResult.includes("saveNotes")},"save-notes-button"])}," Save notes ",10,td)])):(0,s.Q3)("",!0)]),i.titleInfo.seasons?((0,s.uX)(),(0,s.CE)("div",od,[t[46]||(t[46]=(0,s.Lk)("h2",{id:"episode_map"},"Episode map",-1)),(0,s.bF)(y,{class:"sticky-corner-button link-button",style:(0,d.Tr)([{transition:"opacity 0.1s ease-out"},{opacity:i.scrolledPastEpisodeMap?1:0}]),to:"#episode_map"},{default:(0,s.k6)((()=>[(0,s.bF)(r,{size:"28px",style:{rotate:"180deg"}})])),_:1},8,["style"]),(0,s.Lk)("div",ad,[(0,s.Lk)("div",sd,[t[45]||(t[45]=(0,s.Lk)("div",{class:"episode-tile label"},null,-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.titleInfo.seasons.reduce(((e,t)=>t.episodes.length>e.episodes.length?t:e),i.titleInfo.seasons[0]).episodes,((e,t)=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"episode-tile label"}," E"+(0,d.v_)(t+1),1)))),128))]),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.titleInfo.seasons,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.season_id,class:"season-row"},[(0,s.Lk)("div",nd," S"+(0,d.v_)(e.season_number),1),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.episodes,(t=>((0,s.uX)(),(0,s.Wv)(y,{key:t.episode_number,class:(0,d.C4)(["episode-tile",{watched:t.watch_count>0,"un-released":new Date(t.air_date)>new Date}]),style:(0,d.Tr)({"background-color":t.tileColor||"var(--color-background-card)"}),title:`S${e.season_number} E${t.episode_number}`,to:`/watch_list/title/${i.titleInfo.title_id}#S${e.season_number}E${t.episode_number}`},{default:(0,s.k6)((()=>[(0,s.eW)((0,d.v_)(new Date(t.air_date)>new Date?"-":t.tmdb_vote_average),1)])),_:2},1032,["class","style","title","to"])))),128))])))),128))])])):(0,s.Q3)("",!0),i.titleInfo.seasons?((0,s.uX)(),(0,s.CE)("div",id,[t[49]||(t[49]=(0,s.Lk)("h2",null,"Season & episode details",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.titleInfo.seasons,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.season_id,class:(0,d.C4)(["card season",{active:i.expandedSeason==e.season_id}])},[(0,s.Lk)("div",{class:"about",onClick:t=>l.toggleHeight(`refSeason${e.season_number}`)},[(0,s.Lk)("div",rd,[(0,s.Lk)("img",{class:"poster",src:l.imageUrl(300,e.backup_poster_url,i.titleInfo.title_id,e.season_number),onLoad:t[15]||(t[15]=e=>e.target.classList.add("loaded"))},null,40,cd),(0,s.Lk)("div",dd,[0!=e.episodes.reduce(((e,t)=>Math.min(e,t.watch_count)),1/0)&&e.episodes.length>=1?((0,s.uX)(),(0,s.CE)("div",ud," Watched ")):0==e.episodes.length||new Date(e.episodes[0].air_date)>new Date?((0,s.uX)(),(0,s.CE)("div",hd," Upcoming ")):(0,s.Q3)("",!0)])]),(0,s.Lk)("div",pd,[(0,s.Lk)("h2",md,[(0,s.eW)((0,d.v_)(e.season_name)+" ",1),(0,s.bF)(f,{size:"28px",left:"6px",onClick:(0,a.D$)((t=>l.openSeasonUpdateModal(e.season_number)),["stop"]),class:(0,d.C4)([{loading:i.waitingForResult.includes("titleUpdate"+e.season_number),"spin-refresh-icon":i.waitingForResult.includes("titleUpdate"+e.season_number)},"icon-button"])},null,8,["onClick","class"])]),(0,s.Lk)("div",gd,[(0,s.Lk)("div",vd,[(0,s.Lk)("span",null,(0,d.v_)(e.episode_count)+" episodes",1),t[47]||(t[47]=(0,s.Lk)("span",{class:"bullet"},"â¢",-1)),(0,s.Lk)("span",fd,[(0,s.bF)(b,{style:{"margin-left":"-3px","margin-right":"3px"}}),(0,s.eW)(" "+(0,d.v_)(e.tmdb_vote_average)+" ("+(0,d.v_)(l.seasonVotes(e))+" votes)",1)])]),(0,s.Lk)("div",null,(0,d.v_)(e.episodes.length>0?new Date(e.episodes[0].air_date).toLocaleDateString("fi-FI",{day:"numeric",month:"long",year:"numeric"}):"No release date"),1)]),(0,s.Lk)("p",{title:e.overview},(0,d.v_)(e.overview),9,kd)]),0===e.episodes.length||0===e.episodes.reduce(((e,t)=>Math.min(e,t.watch_count)),1/0)?((0,s.uX)(),(0,s.CE)("button",{key:0,class:(0,d.C4)(["modify-watched button-primary",{loading:0!=i.waitingForResult.length}]),onClick:(0,a.D$)((t=>l.handleTitleWatchClick("season","watched",e.season_id)),["stop"]),disabled:0!=i.waitingForResult.length}," Mark season watched ",10,yd)):((0,s.uX)(),(0,s.CE)("button",{key:1,class:(0,d.C4)(["modify-watched",{loading:0!=i.waitingForResult.length}]),onClick:(0,a.D$)((t=>l.handleTitleWatchClick("season","unwatched",e.season_id)),["stop"]),disabled:0!=i.waitingForResult.length}," Mark season unwatched ",10,bd))],8,ld),(0,s.Lk)("div",{class:"episodes",ref_for:!0,ref:`refSeason${e.season_number}`},[this.openedSeasons.includes(`refSeason${e.season_number}`)?((0,s.uX)(),(0,s.CE)("div",Ld,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.episodes,((o,a)=>((0,s.uX)(),(0,s.CE)("div",{key:o.episode_number,class:(0,d.C4)(["episode",{"not-realeased":new Date(o.air_date)>new Date,last:a===e.episodes.length-1}]),id:`S${e.season_number}E${o.episode_number}`},[(0,s.Lk)("div",_d,[i.failedToLoadImages.includes(o.episode_id)?((0,s.uX)(),(0,s.CE)("div",Id,[(0,s.bF)(L,{size:"40px"}),t[48]||(t[48]=(0,s.Lk)("span",null,"404",-1))])):((0,s.uX)(),(0,s.CE)("img",{key:1,class:"still",src:l.imageUrl(900,o.backup_still_url,i.titleInfo.title_id,e.season_number,o.episode_number),onError:e=>i.failedToLoadImages.push(o.episode_id),onLoad:t[16]||(t[16]=e=>e.target.classList.add("loaded"))},null,40,Cd)),(0,s.Lk)("div",Td,[o.watch_count>=1?((0,s.uX)(),(0,s.CE)("div",xd," Watched ")):new Date(o.air_date)<new Date&&new Date(o.air_date)>new Date(new Date-6048e5)?((0,s.uX)(),(0,s.CE)("div",Sd," New episode ")):new Date(o.air_date)>new Date?((0,s.uX)(),(0,s.CE)("div",Fd," Upcoming ")):(0,s.Q3)("",!0)])]),(0,s.Lk)("div",Dd,[(0,s.Lk)("h3",{title:o.episode_name},(0,d.v_)(o.episode_number)+". "+(0,d.v_)(o.episode_name),9,Ed),(0,s.Lk)("div",Md,[(0,s.Lk)("span",Ad,[(0,s.Lk)("span",null,(0,d.v_)(l.formatRuntime(o.runtime))+" â¢",1),(0,s.Lk)("span",zd,[(0,s.bF)(b,{style:{"margin-right":"3px","margin-left":"2px"}}),(0,s.eW)((0,d.v_)(new Date(o.air_date)>new Date?"-":o.tmdb_vote_average)+" ("+(0,d.v_)(o.tmdb_vote_count??"0")+" votes)",1)])]),(0,s.Lk)("div",null,(0,d.v_)(o.air_date?new Date(o.air_date).toLocaleDateString("fi-FI",{day:"numeric",month:"long",year:"numeric"}):"No release date"),1)]),(0,s.Lk)("p",{title:o.overview},(0,d.v_)(o.overview),9,Wd),0==o.watch_count||null==o.watch_count?((0,s.uX)(),(0,s.CE)("button",{key:0,class:(0,d.C4)(["modify-watched button-primary",{loading:0!=i.waitingForResult.length}]),onClick:e=>l.handleTitleWatchClick("episode","watched",o.episode_id)}," Mark watched ",10,Od)):((0,s.uX)(),(0,s.CE)("button",{key:1,class:(0,d.C4)(["modify-watched",{loading:0!=i.waitingForResult.length}]),onClick:e=>l.handleTitleWatchClick("episode","unwatched",o.episode_id)}," Unwatch ",10,Xd))])],10,wd)))),128))])):(0,s.Q3)("",!0)],512)],2)))),128))])):(0,s.Q3)("",!0),(0,s.bF)(w,{ref:"removeTitleCM",header:"Remove from watchlist",text:"Are you sure you wan't to remove the title from your watchlist?\r\n            This gets rid of all your data on the title like your watched episodes and notes.","affirmative-option":"Remove title"},null,512),(0,s.bF)(w,{ref:"markTitleWatchedCM",header:"Mark watched",text:"Are you sure you want to mark the entire TV show as watched?\r\n            This will mark all episodes as watched, effectively erasing your progress.","affirmative-option":"Mark as Watched"},null,512),(0,s.bF)(w,{ref:"markTitleUnwatchedCM",header:"Reset watch status",text:"Are you sure you want to reset the title's watch status?\r\n            This will mark all episodes as unwatched, effectively erasing your progress.","affirmative-option":"Reset status"},null,512),(0,s.bF)(w,{ref:"markSeasonWatchedCM",header:"Mark watched",text:"Are you sure you want to mark the entire season as watched?\r\n            This will mark all episodes in the season as watched, effectively erasing your progress.","affirmative-option":"Mark as Watched"},null,512),(0,s.bF)(w,{ref:"markSeasonUnwatchedCM",header:"Reset watch status",text:"Are you sure you want to reset the season's watch status?\r\n            This will mark all episodes in the season as unwatched, effectively erasing your progress.","affirmative-option":"Reset status"},null,512),(0,s.bF)(_,{ref:"refreshTitleDataGM",header:"Requery Title Data"},{default:(0,s.k6)((()=>[(0,s.Lk)("div",$d,[t[54]||(t[54]=(0,s.Lk)("p",null,"What data would you like to requery?",-1)),t[55]||(t[55]=(0,s.Lk)("ul",null,[(0,s.Lk)("li",null,[(0,s.Lk)("strong",null,"Info:"),(0,s.eW)(" Replaces the data and downloads any missing images.")]),(0,s.Lk)("li",null,[(0,s.Lk)("strong",null,"Images:"),(0,s.eW)(" Deletes and redownloads all current images.")]),(0,s.Lk)("li",null,[(0,s.Lk)("strong",null,"Full Update:"),(0,s.eW)(" Does both info and images.")])],-1)),"tv"==i.titleInfo.type?((0,s.uX)(),(0,s.CE)("div",Vd,[(0,s.Lk)("h3",null,[t[50]||(t[50]=(0,s.eW)("Title & Seasons ")),(0,s.bF)(v,{text:"Doesn't include the episodes.",position:"broken"})]),(0,s.Lk)("div",Bd,[(0,s.Lk)("button",{onClick:t[17]||(t[17]=e=>l.handleTitleUpdate("title","info")),class:"button-primary"},"Info"),(0,s.Lk)("button",{onClick:t[18]||(t[18]=e=>l.handleTitleUpdate("title","images"))},"Images"),(0,s.Lk)("button",{onClick:t[19]||(t[19]=e=>l.handleTitleUpdate("title","full"))},"Full Update")]),(0,s.Lk)("h3",null,[t[51]||(t[51]=(0,s.eW)("Title, Seasons & Episodes ")),(0,s.bF)(v,{text:"Includes the whole thing.",position:"center"})]),(0,s.Lk)("div",Rd,[(0,s.Lk)("button",{onClick:t[20]||(t[20]=e=>l.handleTitleUpdate("all","info")),class:"button-primary"},"Info"),(0,s.Lk)("button",{onClick:t[21]||(t[21]=e=>l.handleTitleUpdate("all","images"))},"Images"),(0,s.Lk)("button",{onClick:t[22]||(t[22]=e=>l.handleTitleUpdate("all","full"))},"Full Update")]),t[52]||(t[52]=(0,s.Lk)("p",{class:"text-hidden icon-align"}," Tip: For episodes you should use the seperate season specific menu. ",-1))])):((0,s.uX)(),(0,s.CE)("div",Hd,[t[53]||(t[53]=(0,s.Lk)("h3",null,null,-1)),(0,s.Lk)("div",Ud,[(0,s.Lk)("button",{onClick:t[23]||(t[23]=e=>l.handleTitleUpdate("title","info")),class:"button-primary"},"Title Info"),(0,s.Lk)("button",{onClick:t[24]||(t[24]=e=>l.handleTitleUpdate("title","images"))},"Title Images"),(0,s.Lk)("button",{onClick:t[25]||(t[25]=e=>l.handleTitleUpdate("title","full"))},"Full Update")])]))])])),_:1},512),(0,s.bF)(_,{ref:"refreshSeasonDataGM",header:"Requery Season Data"},{default:(0,s.k6)((()=>[(0,s.Lk)("div",Nd,[t[56]||(t[56]=(0,s.Lk)("p",null,"What data would you like to requery?",-1)),t[57]||(t[57]=(0,s.Lk)("ul",null,[(0,s.Lk)("li",null,[(0,s.Lk)("strong",null,"Info:"),(0,s.eW)(" Replaces the data and downloads any missing images.")]),(0,s.Lk)("li",null,[(0,s.Lk)("strong",null,"Images:"),(0,s.eW)(" Deletes and redownloads all current images.")]),(0,s.Lk)("li",null,[(0,s.Lk)("strong",null,"Full Update:"),(0,s.eW)(" Does both info and images.")])],-1)),t[58]||(t[58]=(0,s.Lk)("h3",null,"Season Episodes",-1)),(0,s.Lk)("div",Gd,[(0,s.Lk)("button",{onClick:t[26]||(t[26]=e=>l.handleTitleUpdate("season","info")),class:"button-primary"},"Info"),(0,s.Lk)("button",{onClick:t[27]||(t[27]=e=>l.handleTitleUpdate("season","images"))},"Images"),(0,s.Lk)("button",{onClick:t[28]||(t[28]=e=>l.handleTitleUpdate("season","full"))},"Full Update")])])])),_:1},512)])):i.waitingForResult.includes("titleInfo")?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",Kd,[(0,s.bF)(I)]))}function Qd(e,t,o,a,n,i){const l=(0,s.g2)("BaseIcon");return(0,s.uX)(),(0,s.Wv)(l,{size:o.size},{default:(0,s.k6)((()=>t[0]||(t[0]=[(0,s.Lk)("defs",null,[(0,s.Lk)("linearGradient",{id:"gradientIMDB",x1:"0%",y1:"50.04%",x2:"100%",y2:"50.04%",gradientUnits:"userSpaceOnUse"},[(0,s.Lk)("stop",{offset:"0","stop-color":"#90cea1"}),(0,s.Lk)("stop",{offset:"0.56","stop-color":"#3cbec9"}),(0,s.Lk)("stop",{offset:"1","stop-color":"#00b3e5"})])],-1),(0,s.Lk)("path",{d:"M13.567 11.606h6.69A1.767 1.767 90 0022.024 9.84h0A1.767 1.767 90 0020.257 8.073h-6.69A1.767 1.767 90 0011.8 9.84h0A1.767 1.767 90 0013.567 11.606Zm-8.8 4.5h7.69A1.767 1.767 90 0014.224 14.34h0A1.767 1.767 90 0012.457 12.573H4.767A1.767 1.767 90 003 14.34H3A1.767 1.767 90 004.767 16.106ZM4.041 11.542h.78V8.692h1.01V8H3.031v.69h1.01Zm2.81 0h.78V8.825h.01l.9 2.715h.6l.93-2.715h.01V11.54h.78V8H9.676l-.82 2.31h-.01L8.031 8H6.851ZM18.243 13.567a1.507 1.507 90 00-.452-.552 1.857 1.857 90 00-.668-.308 3.354 3.354 90 00-.807-.1h-1.17v3.54h1.275a2.458 2.458 90 00.755-.115A1.934 1.934 90 0017.811 15.7a1.627 1.627 90 00.437-.55 1.691 1.691 90 00.163-.758A1.85 1.85 90 0018.243 13.567ZM17.5 14.86A.88.88 90 0117.236 15.2a1.07 1.07 90 01-.4.182 2.157 2.157 90 01-.5.055h-.405v-2.1h.46a1.7 1.7 90 01.467.063 1.166 1.166 90 01.388.187A.914.914 90 0117.5 13.9a.987.987 90 01.1.452A1.189 1.189 90 0117.5 14.86Zm4.463-.013a.8.8 90 00-.158-.262A.838.838 90 0021.563 14.4a1.031 1.031 90 00-.317-.1v-.01a.922.922 90 00.442-.282.743.743 90 00.168-.5.842.842 90 00-.115-.465.809.809 90 00-.3-.272 1.256 1.256 90 00-.418-.13 3.284 3.284 90 00-.462-.033h-1.32v3.54h1.45a2.241 2.241 90 00.472-.05 1.353 1.353 90 00.428-.165.942.942 90 00.31-.3.852.852 90 00.12-.468A.939.939 90 0021.966 14.847ZM20.021 13.272h.53a1 1 90 01.185.018.618.618 90 01.17.057.339.339 90 01.122.113.322.322 90 01.048.182.363.363 90 01-.043.18.34.34 90 01-.112.12.492.492 90 01-.158.065.751.751 90 01-.177.02h-.565Zm1.172 2a.39.39 90 01-.122.13.464.464 90 01-.168.07.818.818 90 01-.182.02h-.7v-.8h.59a1.535 1.535 90 01.2.015.847.847 90 01.205.055.4.4 90 01.157.118.311.311 90 01.063.2A.371.371 90 0121.193 15.272Z",fill:"url(#gradientIMDB)"},null,-1)]))),_:1},8,["size"])}var qd={name:"IconIMDB",components:{BaseIcon:w},props:{size:[String,Number]}};const jd=(0,b.A)(qd,[["render",Qd]]);var Zd=jd;function Yd(e,t,o,a,n,i){const l=(0,s.g2)("BaseIcon");return(0,s.uX)(),(0,s.Wv)(l,{size:o.size},{default:(0,s.k6)((()=>t[0]||(t[0]=[(0,s.Lk)("path",{d:"M4 7c-1.103 0-2 .897-2 2v6.4c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2V9c0-1.103-.897-2-2-2H4Zm1.4 2.363h1.275v5.312H5.4V9.362Zm1.962 0H9l.438 2.512.287-2.512h1.75v5.312H10.4v-3l-.563 3h-.8l-.512-3v3H7.362V9.362Zm8.313 0H17v1.2c.16-.16.516-.363.875-.363.36.04.84.283.8.763v3.075c0 .24-.075.404-.275.524-.16.04-.28.075-.6.075-.32 0-.795-.196-.875-.237-.08-.04-.163.275-.163.275h-1.087V9.362Zm-3.513.037H13.6c.88 0 1.084.078 1.325.237.24.16.35.397.35.838v3.2c0 .32-.15.563-.35.762-.2.2-.484.288-1.325.288h-1.438V9.4Zm1.275.8v3.563c.2 0 .488.04.488-.2v-3.126c0-.28-.247-.237-.488-.237Zm3.763.675c-.12 0-.2.08-.2.2v2.688c0 .159.08.237.2.237.12 0 .2-.117.2-.238l-.037-2.687c0-.12-.043-.2-.163-.2Z",fill:"#f5c518"},null,-1),(0,s.Lk)("path",{d:"M5.4 9.362h1.275v5.312H5.4V9.362Zm1.962 0H9l.438 2.512.287-2.512h1.75v5.312H10.4v-3l-.563 3h-.8l-.512-3v3H7.362V9.362Zm8.313 0H17v1.2c.16-.16.516-.363.875-.363.36.04.84.283.8.763v3.075c0 .24-.075.404-.275.524-.16.04-.28.075-.6.075-.32 0-.795-.196-.875-.237-.08-.04-.163.275-.163.275h-1.087V9.362Zm-3.513.037H13.6c.88 0 1.084.078 1.325.237.24.16.35.397.35.838v3.2c0 .32-.15.563-.35.762-.2.2-.484.288-1.325.288h-1.438V9.4Zm1.275.8v3.563c.2 0 .488.04.488-.2v-3.126c0-.28-.247-.237-.488-.237Zm3.763.675c-.12 0-.2.08-.2.2v2.688c0 .159.08.237.2.237.12 0 .2-.117.2-.238l-.037-2.687c0-.12-.043-.2-.163-.2Z",fill:"black"},null,-1)]))),_:1},8,["size"])}var Jd={name:"IconIMDB",components:{BaseIcon:w},props:{size:[String,Number]}};const eu=(0,b.A)(Jd,[["render",Yd]]);var tu=eu;function ou(e,t,o,a,n,i){const l=(0,s.g2)("BaseIcon");return(0,s.uX)(),(0,s.Wv)(l,{size:o.size},{default:(0,s.k6)((()=>t[0]||(t[0]=[(0,s.Lk)("path",{d:"M6 22h12a2 2 0 0 0 2-2V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2zm7-18 5 5h-5V4zm-4.5 7a1.5 1.5 0 1 1-.001 3.001A1.5 1.5 0 0 1 8.5 11zm.5 5 1.597 1.363L13 13l4 6H7l2-3z"},null,-1)]))),_:1},8,["size"])}var au={name:"IconFileImage",components:{BaseIcon:w},props:{size:[String,Number]}};const su=(0,b.A)(au,[["render",ou]]);var nu=su;function iu(e,t,o,a,n,i){const l=(0,s.g2)("BaseIcon");return(0,s.uX)(),(0,s.Wv)(l,{size:o.size},{default:(0,s.k6)((()=>t[0]||(t[0]=[(0,s.Lk)("path",{d:"M14 11H16.899l-.001-.009a4.956 4.956 90 00-.752-1.787 5.054 5.054 90 00-2.2-1.811c-.302-.128-.617-.226-.938-.291a5.078 5.078 90 00-2.018 0 4.978 4.978 90 00-2.525 1.361l-1.416-1.412a7.036 7.036 90 012.224-1.501 6.921 6.921 90 011.315-.408 7.079 7.079 90 012.819 0 6.94 6.94 90 011.316.409 7.04 7.04 90 013.08 2.534 6.978 6.978 90 011.054 2.505c.028.135.043.273.063.41H22l-4 4-4-4zm-4 2h-2.899l.001.008a4.976 4.976 90 002.103 3.138 4.943 4.943 90 001.787.752 5.073 5.073 90 002.017 0 4.956 4.956 90 001.787-.752 5.072 5.072 90 00.74-.61L16.95 16.95a7.032 7.032 90 01-2.225 1.5c-.424.18-.867.317-1.315.408a7.07 7.07 90 01-2.818 0 7.031 7.031 90 01-4.395-2.945 6.974 6.974 90 01-1.053-2.503c-.027-.135-.043-.273-.063-.41H2l4-4 4 4z"},null,-1)]))),_:1},8,["size"])}var lu={name:"IconRefresh",components:{BaseIcon:w},props:{size:[String,Number]}};const ru=(0,b.A)(lu,[["render",iu]]);var cu=ru,du={data(){return{apiUrl:"http://192.168.0.2:800",titleID:this.$route.params.titleID,titleInfo:null,expandedSeason:null,waitingForResult:[],failedToLoadImages:[],imageSlideshowData:{showOnDom:0,chosenOne:0,keepOnDom:[],individualData:[]},openedSeasons:[],scrolledPastEpisodeMap:!1,standAloneBuild:!0,isTouchDevice:!1,selectedSeasonToUpdate:null}},components:{InfoTooltip:at,IndicatorDots:Tl,ConfirmationModal:Ao,GenericModal:Do,notFoundPage:_i,IconTMDB:Dl,IconTMDBColorful:Zd,IconIMDBColorful:tu,IconChevronDown:qt,IconListRemove:Kl,IconListAdd:Hl,IconFileImage:nu,IconHeart:zl,IconLinkExternal:Cr,IconRefresh:cu},methods:{formatRuntime(e){return ht.runtime(e)},formatToMillions(e){return ht.toLargeUsd(e)},toggleHeight(e){this.openedSeasons.includes(e)||this.openedSeasons.push(e),setTimeout((()=>{const t=this.$refs[e]?.[0];t&&(t.style.height&&"0px"!==t.style.height?t.style.height="0px":t.style.height=t.scrollHeight+"px")}),1)},setHeightToNone(e,t=!0){const o=this.$refs[e]?.[0];o&&(t&&(o.style.transition="height 0s"),o.style.height="0px",t&&setTimeout((()=>{o.style.transition=""}),1))},closeAllSeasons(e="",t=!0){this.titleInfo.seasons.forEach((o=>{const a=`refSeason${o.season_number}`;a!=e&&this.setHeightToNone(a,t)}))},async handleTitleWatchClick(e,t,o){if("tv"==this.titleInfo.type&&"title"==e&&"watched"==t&&!await this.$refs.markTitleWatchedCM.prompt())return;if("tv"==this.titleInfo.type&&"title"==e&&"unwatched"==t&&!await this.$refs.markTitleUnwatchedCM.prompt())return;if("tv"==this.titleInfo.type&&"season"==e&&"watched"==t&&!await this.$refs.markSeasonWatchedCM.prompt())return;if("tv"==this.titleInfo.type&&"season"==e&&"unwatched"==t&&!await this.$refs.markSeasonUnwatchedCM.prompt())return;this.waitingForResult.push(`${e}${t}${o}`);let a="";a="title"==e?this.titleInfo.type:e;let s=0;s=o||this.titleInfo.title_id;const n=await Tu.modifyTitleWatchCount(a,s,t);n&&(console.debug(n),this.titleInfo.watch_count=n.updated_data.watch_count,n.updated_data.episodes&&(console.debug(n.updated_data.episodes),console.debug(this.titleInfo.seasons),n.updated_data.episodes.forEach((e=>{const t=this.titleInfo.seasons.flatMap((e=>e.episodes)).find((t=>t.episode_id===e.episode_id));t&&(t.watch_count=e.watch_count)})))),this.removeItemFromWaitingArray(`${e}${t}${o}`)},async handleNotesSave(){this.waitingForResult.push("saveNotes");const e=await Tu.saveTitleNotes(this.titleInfo.title_id,this.titleInfo.notes);e&&(console.log(e),G(e.message,"success")),this.removeItemFromWaitingArray("saveNotes")},openTitleUpdateModal(){this.selectedSeasonToUpdate=0,this.$refs.refreshTitleDataGM.open()},openSeasonUpdateModal(e){this.selectedSeasonToUpdate=e,this.$refs.refreshSeasonDataGM.open()},async handleTitleUpdate(e,t){const o=this.selectedSeasonToUpdate,a="all"===e,s="season"===e,n="title"===e;this.waitingForResult.push(`${e}Update`+o),s?this.$refs.refreshSeasonDataGM.close():this.$refs.refreshTitleDataGM.close();let i=null,l=`"${this.titleInfo.name}" info updated!`;switch(t){case"info":i=await Tu.updateTitle(this.titleInfo.tmdb_id,this.titleInfo.type,{updateInfo:n||a,updateSeasonInfo:s||a,seasonNumber:o}),l=0!=o?`Season ${o} info for "${this.titleInfo.name}" has been updated. Missing images might still be loading in the background.`:`"${this.titleInfo.name}" title information has been updated. Missing images might still be loading in the background.`;break;case"images":i=await Tu.updateTitle(this.titleInfo.tmdb_id,this.titleInfo.type,{updateImages:n||a,updateSeasonImages:s||a,seasonNumber:o}),l=0!=o?`Season ${o} images for "${this.titleInfo.name}" are now updating in the background.`:`"${this.titleInfo.name}" title images are now updating in the background.`;break;case"full":i=await Tu.updateTitle(this.titleInfo.tmdb_id,this.titleInfo.type,{updateInfo:n||a,updateImages:n||a,updateSeasonInfo:s||a,updateSeasonImages:s||a,seasonNumber:o}),l=0!=o?`Season ${o} full update for "${this.titleInfo.name}" is now in progress.`:`All the data for "${this.titleInfo.name}" has been replaced. Images are also now updating in the background.`;break}i&&(G(l,"success"),await this.queryTitleData(),this.episodeMapTileBackgroundColors()),this.removeItemFromWaitingArray(`${e}Update`+o)},async handleFavouriteToggle(){this.waitingForResult.push("favourite");const e=await Tu.toggleTitleFavourite(this.titleInfo.title_id);e&&(console.log(e),this.titleInfo.favourite=!this.titleInfo.favourite,this.titleInfo.watch_count<=-1&&(this.titleInfo.watch_count=0)),this.removeItemFromWaitingArray("favourite")},async handleWatchListModification(e){if("remove"!=e||await this.$refs.removeTitleCM.prompt()){if(this.waitingForResult.push("titleWatched"),"remove"==e){const e=await Tu.removeTitleFromUserList(this.titleInfo.tmdb_id);e&&console.debug("Title removed successfully")}else if("add"==e){const e=await Tu.addTitleToUserList(this.titleInfo.tmdb_id,this.titleInfo.type);e&&console.debug("Title added successfully!")}await this.queryTitleData(),this.episodeMapTileBackgroundColors(),this.removeItemFromWaitingArray("titleWatched")}},removeItemFromWaitingArray(e){this.waitingForResult=this.waitingForResult.filter((t=>t!==e))},async queryTitleData(){this.waitingForResult.push("titleInfo");const e=await Tu.getTitleInfo(this.titleID);e&&e.title_info&&(0!==e.title_info.length?(this.titleInfo=e.title_info,this.standAloneBuild&&(this.titleInfo.backdrop_image_count=1),console.debug("[queryTitleData] Values set to this.titleInfo: ",this.titleInfo)):(G("The title doesn't exist!","error"),Lu.push("/watch_list"))),this.removeItemFromWaitingArray("titleInfo")},backdropKeypress(e){["ArrowLeft","a","w"].includes(e.key)?this.addOrSubtractSlideshowIndex(-1):["ArrowRight","d","s","Enter"].includes(e.key)?this.addOrSubtractSlideshowIndex(1):["1","2","3","4","5"].includes(e.key)&&Number(e.key)<=this.titleInfo.backdrop_image_count&&this.updateSlideshowImageTo(Number(e.key)-1)},getWatchedStats(){const e=this.titleInfo.seasons?.reduce(((e,t)=>e+t.episodes.length),0)||0,t=this.titleInfo.seasons?.reduce(((e,t)=>e+t.episodes.filter((e=>e.watch_count>=1)).length),0)||0,o=e?(t/e*100).toFixed(1)+"%":"0%";return`${t} / ${e} episodes (${o})`},updateSlideshowImageTo(e){this.imageSlideshowData.keepOnDom.push(this.imageSlideshowData.chosenOne),this.imageSlideshowData.showOnDom=e,setTimeout((()=>{this.imageSlideshowData.chosenOne=this.imageSlideshowData.showOnDom}),20),setTimeout((()=>{this.imageSlideshowData.keepOnDom.shift()}),500)},addOrSubtractSlideshowIndex(e){let t=this.imageSlideshowData.chosenOne+e;t>=this.titleInfo.backdrop_image_count&&(t=0),t<0&&(t=this.titleInfo.backdrop_image_count-1),this.updateSlideshowImageTo(t)},episodeMapTileBackgroundColors(){if(this.titleInfo&&this.titleInfo.seasons){const e=pt("color-background-card"),t=pt("color-primary");this.titleInfo.seasons.forEach((o=>{o.episodes.forEach((o=>{let a=o.tmdb_vote_average;a/=10,a=Math.floor(10*a)/10+.1,a=Math.pow(a,5),o.tileColor=mt(e,t,a)}))}))}},checkScroll(){const e=document.getElementById("episode_map");if(e){const t=window.scrollY||document.documentElement.scrollTop;this.scrolledPastEpisodeMap=t>e.offsetTop}},seasonVotes(e){let t=0;return e&&e.episodes&&e.episodes.forEach((e=>{t+=e.tmdb_vote_count||0})),isNaN(t)?"0":t},openCorrectSeason(e){return new Promise((t=>{const o=e.match(/#S(\d+)E\d+/),a=o?o[1]:null;if(null==a)return t();const s=`refSeason${a}`;this.closeAllSeasons(s),this.openedSeasons.includes(s)||this.openedSeasons.push(s),setTimeout((()=>{const e=this.$refs[s]?.[0];if(!e)return t();e.style.transition="height 0s",e.style.height=e.scrollHeight+"px",setTimeout((()=>{e.style.transition="",t()}),1)}),1)}))},imageUrl(e,t,o,a,s){return 600==e&&(e=500),900==e&&s&&(e=300),`https://image.tmdb.org/t/p/w${e}${t}`}},computed:{titleEpisodeCount(){let e=0;return this.titleInfo.seasons.forEach((t=>{e+=t.episode_count})),e},titleLastAirDate(){if(this.titleInfo&&"tv"==this.titleInfo.type&&this.titleInfo.seasons?.length){let e=this.titleInfo.seasons[this.titleInfo.seasons.length-1],t=e?.episodes?.[e.episodes.length-1]?.air_date||null;return t}return null}},async beforeRouteUpdate(e){e.hash&&await this.openCorrectSeason(e.hash)},created(){this.isTouchDevice="ontouchstart"in document.documentElement},async mounted(){await this.queryTitleData(),this.titleInfo&&(this.imageSlideshowData.individualData=Array.from({length:this.titleInfo.backdrop_image_count},((e,t)=>({number:t,isLoaded:!1}))),document.title=`Dashboard - ${this.titleInfo.name||"Default Title"}`),this.episodeMapTileBackgroundColors(),window.addEventListener("darkModeChange",this.episodeMapTileBackgroundColors),window.addEventListener("scroll",this.checkScroll);const e="#"+window.location.hash.split("#")[2];e&&(this.openCorrectSeason(e),setTimeout((()=>{const t=document.querySelector(e);t&&Lu.scrollToElementWithOffset(t)}),1))},unmounted(){window.removeEventListener("darkModeChange",this.episodeMapTileBackgroundColors),window.removeEventListener("scroll",this.checkScroll)},watch:{backdropNumber(){this.backdropShow=!1,setTimeout((()=>this.backdropShow=!0),300)}}};const uu=(0,b.A)(du,[["render",Pd],["__scopeId","data-v-d9e5cd78"]]);var hu=uu;const pu={class:"login-page content-width-small"};function mu(e,t,o,n,i,l){return(0,s.uX)(),(0,s.CE)("div",pu,[t[8]||(t[8]=(0,s.Lk)("h1",null,"Create account",-1)),t[9]||(t[9]=(0,s.Lk)("p",null,"Use the form below to create an account.",-1)),(0,s.Lk)("form",{onSubmit:t[3]||(t[3]=(0,a.D$)(((...e)=>l.handleLogin&&l.handleLogin(...e)),["prevent"]))},[(0,s.Lk)("div",null,[t[4]||(t[4]=(0,s.Lk)("label",{for:"username"},"Username:",-1)),(0,s.bo)((0,s.Lk)("input",{type:"username",minlength:"4","onUpdate:modelValue":t[0]||(t[0]=e=>i.username=e),required:""},null,512),[[a.Jo,i.username]])]),(0,s.Lk)("div",null,[t[5]||(t[5]=(0,s.Lk)("label",{for:"password"},"Password:",-1)),(0,s.bo)((0,s.Lk)("input",{type:"password",minlength:"4","onUpdate:modelValue":t[1]||(t[1]=e=>i.password=e),required:""},null,512),[[a.Jo,i.password]])]),(0,s.Lk)("div",null,[t[6]||(t[6]=(0,s.Lk)("label",{for:"password"},"Repeat password:",-1)),(0,s.bo)((0,s.Lk)("input",{type:"password",minlength:"4","onUpdate:modelValue":t[2]||(t[2]=e=>i.passwordRepeat=e),required:""},null,512),[[a.Jo,i.passwordRepeat]])]),t[7]||(t[7]=(0,s.Lk)("button",{class:"button-primary center",type:"submit"},"Log in",-1))],32)])}var gu={data(){return{username:"",password:"",passwordRepeat:""}},methods:{async handleLogin(){if(this.password===this.passwordRepeat){const e=await Tu.createAccount(this.username,this.password);e&&(console.log(e),G(e.message,"success"),Lu.push("/login"))}else G("The passwords do no match!","error")}},mounted(){"true"==localStorage.getItem("isLoggedIn")&&(console.log("You are already logged in."),Lu.back())}};const vu=(0,b.A)(gu,[["render",mu],["__scopeId","data-v-0de8e2d2"]]);var fu=vu;const ku=[{path:"/",name:"Home",component:to,meta:{title:"Home"}},{path:"/account",name:"Account",component:Oo,meta:{title:"Account"}},{path:"/spendings",name:"Spendings",component:ln,meta:{title:"Spendings"}},{path:"/spendings/new_entry",name:"New Entry",component:hn,meta:{title:"New Entry"}},{path:"/login",name:"Log in",component:fn,meta:{title:"Log In"}},{path:"/create_account",name:"Create account",component:fu,meta:{title:"Create account"}},{path:"/debug",name:"Debug",component:Tn,meta:{title:"Debug"}},{path:"/analytics",name:"Analytics",component:ki,meta:{title:"Analytics"}},{path:"/watch_list",name:"Watch list",component:ql,meta:{title:"Watch list"}},{path:"/watch_list/add_title",name:"Add Title",component:Sr,meta:{title:"Add Title"}},{path:"/watch_list/title/:titleID",name:"Title Details",component:hu,meta:{title:"Title Details"}},{path:"/:catchAll(.*)",name:"404",component:_i,meta:{title:"404"}}];function yu(e){const t=68,o=e.getBoundingClientRect().top+window.pageYOffset;window.scrollTo({top:o-t,behavior:"smooth"})}const bu=(0,K.aE)({history:(0,K.Bt)("/The-Dashboard/"),routes:ku,scrollBehavior(e,t,o){if(e.hash){const t=document.getElementById(e.hash.slice(1));return t?(t.scrollIntoView({behavior:"smooth",block:"start"}),yu(t),o):o}return o||{top:0}}});bu.scrollToElementWithOffset=yu,bu.beforeEach(((e,t,o)=>{document.title=`Dashboard - ${e.meta.title||"Default Title"}`,o()}));var Lu=bu;const wu=!0;if(wu){const e="Please note: This app is in standalone mode. Most features are disabled, but you can browse the site to explore its look and feel.";G(e,"info",15e3),console.warn(e)}const _u=A.A.create({baseURL:"http://192.168.0.2:800",timeout:0,headers:{"Content-Type":"application/json"},paramsSerializer:e=>W().stringify(e,{arrayFormat:"comma"})});async function Iu(e,t){if(e.response){const o=e.response.status,a=e.response.data.detail;console.error(`[Error] HTTP ${o} | ${a} | "${t}"`),403===o&&"Invalid or expired session key."===a?Cu.localLogOut():403===o?G("Unexpected error occurred. Please try again. "+a,"error"):404===o?G(`Resource not found: ${a}`,"error"):405===o?G("This feature requires an account. Please login."):G(400===o?`Invalid request: ${a}`:500===o?"Internal server error: "+a:`${o}: ${a}`,"error")}else console.error(`[Error] Error setting up request: ${e.message}`),G("Unexpected error occurred. Please try again.","error");return null}const Cu={async getData(e,t={}){const o=performance.now();if(wu)return new Promise((a=>{setTimeout((()=>{const s=performance.now(),n=s-o;console.info(`[Response time] "${e}" | ${n.toFixed(2)}ms`);const i=new URL(e,"http://192.168.0.2:800");t&&Object.keys(t).forEach((e=>i.searchParams.append(e,t[e])));const l=i.pathname+i.search;console.debug("[getData] Request key:",l),fetch("/The-Dashboard/apiCache.json").then((e=>e.json())).then((e=>{e[l]?a(e[l]):(console.warn("[getData] Missing endpoint in STATIC_CONTENT:",l),a(null))})).catch((e=>{console.error("[getData] Error loading static data:",e),a(null)}))}),250)}));try{const a=await _u.get(e,{params:t}),s=performance.now(),n=s-o;return console.info(`[Response time] "${e}" | ${n.toFixed(2)}ms`),console.debug(a),a.data}catch(a){return await Iu(a,e)}},async postData(e,t,o={}){const a=performance.now();if(wu)return new Promise((t=>{setTimeout((()=>{const o=performance.now(),s=o-a;console.info(`[Response time] "${e}" | ${s.toFixed(2)}ms`),G("Action not available! This is a preview site and has no functional features.","info"),t(null)}),0)}));try{const s=await _u.post(e,t,o),n=performance.now(),i=n-a;return console.log(`[Response time] "${e}" | ${i.toFixed(2)}ms`),s.data}catch(s){return await Iu(s,e)}},async logIn(e={}){e.previousSessionKey=localStorage.getItem("sessionKey");const t=await this.postData("/account/login",null,{params:e});return t?"success"===t.loginStatus?(G("Logged in successfully!","success"),console.log("[logIn] login success"),localStorage.setItem("sessionKey",t.sessionKey),localStorage.setItem("username",t.username),localStorage.setItem("isLoggedIn",!0),!0):"warning"===t.loginStatus?(G(t.statusMessage,"warning"),!0):"error"===t.loginStatus?(G("Failed to log in: "+t.statusMessage,"error"),!1):(console.error("[logIn] unknown response.loginStatus"),!1):(console.error("[logIn] response failed"),!1)},async createAccount(e,t){let o={};o.username=e,o.password=t;const a=await this.postData("/account/create",o,null);return a||(console.error("[createAccount] response failed:",a),null)},async deleteAccount(e){let t={};t.session_key=localStorage.getItem("sessionKey"),t.password=e,console.log(t);const o=await this.postData("/account/delete",t,null);return o||(console.error("[deleteAccount] response failed:",o),null)},async logOut(){const e=localStorage.getItem("sessionKey"),t=await this.postData("/account/logout",null,{params:{sessionKey:e}});return t?t.logOutSuccess?(G("You have been logged out.","info"),console.log("[logOut] logout success"),this.localLogOut(!0),!0):(G("Failed to log out.","error"),console.error("[logOut] logOutSuccess == false"),!1):(G("Failed to log out.","error"),console.error("[logOut] response failed"),null)},localLogOut(e=!1,t=!1){"/account/login"!==Lu.currentRoute.value.path&&(localStorage.removeItem("sessionKey"),localStorage.setItem("isLoggedIn",!1),localStorage.removeItem("username"),1!=e&&G("Your session has expired, and you have been logged out. Please log in again.","info",15e3),t||Lu.push("/login"))},async getLoginStatus(){const e=localStorage.getItem("sessionKey");if(wu)this.localLogOut(!0,!0);else if(e){let t={};t.session_key=e;const o=await this.getData("/account/get_login_status",t);if(o){console.log("[getLoginStatus] log in attempt response",o),localStorage.setItem("isLoggedIn",o.loggedIn),localStorage.setItem("username",o.loggedIn?o.username:null);const e=new CustomEvent("logInStatusUpdated",{});window.dispatchEvent(e)}}else console.log("[getLoginStatus] Did not try: no session key")},async getSettings(){const e=localStorage.getItem("sessionKey");if(e){let t={};t.session_key=e;const o=await this.getData("/account/get_settings",t);if(o)return o}else console.log("[getLoginStatus] Did not try: no session key")},async updateSettings(e){let t={};t.changed_settings=e,t.session_key=localStorage.getItem("sessionKey");const o=await this.postData("/account/update_settings",t);return o||(console.error("[updateSettings] response failed:",o),null)},async newTransaction(e){const t=localStorage.getItem("sessionKey");e.session_key=t;const o=await this.postData("/transactions/new_transaction",e,null);return o?o.newTransactionSuccess?(G("New transaction created!","success"),console.log("[newTransaction] new transaction success"),!0):(console.error("[newTransaction] newTransactionSuccess == false"),!1):(console.error("[newTransaction] response failed"),null)},async editTransaction(e){const t=localStorage.getItem("sessionKey");e.session_key=t;const o=await this.postData("/transactions/edit_transaction",e,null);return o?o.editTransactionSuccess?(G("Transaction edited successfully!","success"),console.log("[editTransaction] edit success"),!0):(console.error("[editTransaction] editTransactionSuccess == false"),!1):(console.error("[editTransaction] response failed"),null)},async deleteTransaction(e){const t=localStorage.getItem("sessionKey");console.log("[deleteTransaction] Deleting transaction with ID:",e);const o=await this.postData("/transactions/delete_transaction",{session_key:t,transaction_id:e},null);return o?o.deleteTransactionSuccess?(G("Transaction deleted successfully!","success"),console.log("[deleteTransaction] delete success"),!0):(console.error("[deleteTransaction] deleteTransactionSuccess == false"),!1):(console.error("[deleteTransaction] response failed"),null)},async getTransactions(e={}){return e.session_key=localStorage.getItem("sessionKey"),this.getData("/transactions/get_transactions",e)},async getOptions(){let e={};return e.session_key=localStorage.getItem("sessionKey"),this.getData("/transactions/get_options",e)},async getFilters(){let e={};return e.session_key=localStorage.getItem("sessionKey"),this.getData("/transactions/get_filters",e)},async getChartBalanceOverTime(){let e={};e.session_key=localStorage.getItem("sessionKey");const t=await this.getData("/get_chart/balance_over_time",e);return t||(console.error("[getChartBalanceOverTime] response failed:",t),null)},async getChartSumByMonth(){let e={};e.session_key=localStorage.getItem("sessionKey");const t=await this.getData("/get_chart/sum_by_month",e);return t||(console.error("[getChartSumByMonth] response failed:",t),null)},async getChartExpenseCategoriesMonthly(){let e={};e.session_key=localStorage.getItem("sessionKey"),e.direction="expense";const t=await this.getData("/get_chart/categories_monthly",e);return t||(console.error("[getChartExpenseCategoriesMonthly] response failed:",t),null)},async getChartIncomeCategoriesMonthly(){let e={};e.session_key=localStorage.getItem("sessionKey"),e.direction="income";const t=await this.getData("/get_chart/categories_monthly",e);return t||(console.error("[getChartExpenseCategoriesMonthly] response failed:",t),null)},async getGeneralStats(){let e={};e.session_key=localStorage.getItem("sessionKey");const t=await this.getData("/analytics/get_general_stats",e);return t||(console.error("[getGeneralStats] response failed:",t),null)},async getStatsForTimespan(e){let t={};t.session_key=localStorage.getItem("sessionKey"),t.timespan=e;const o=await this.getData("/analytics/get_stats_for_timespan",t);return o||(console.error("[getStatsForTimespan] response failed:",o),null)},async getServerDrivesInfo(){const e=await this.getData("/get_server_drives_info",null,null);return e||(console.error("[getServerDrivesInfo] response failed:",e),null)},async getBackups(){return this.getData("/get_backups")},async getServerResourceLogs(e){let t={};return t.timeframe=e,this.getData("/get_server_resource_logs",t)},async getFastapiRequestLogData(e){let t={};return t.timeframe=e,this.getData("/get_fastapi_request_log_data",t)},async searchForTitle(e,t){let o={};return o.session_key=localStorage.getItem("sessionKey"),o.title_name=t,o.title_category=e,wu?this.postData():this.getData("/watch_list/search",o)},async addTitleToUserList(e,t){const o=localStorage.getItem("sessionKey"),a=await this.postData("/watch_list/add_user_title",{session_key:o,title_tmdb_id:e,title_type:t},null);return a||(console.error("[addTitleToUserList] response failed:",a),null)},async updateTitle(e,t,{updateInfo:o=!1,updateImages:a=!1,updateSeasonInfo:s=!1,updateSeasonImages:n=!1,seasonNumber:i=0}={}){const l=await this.postData("/watch_list/update_title",{title_tmdb_id:e,title_type:t,update_title_info:o,update_title_images:a,update_season_number:i,update_season_info:s,update_season_images:n},null);return l||(console.error("[updateTitle] response failed:",l),null)},async removeTitleFromUserList(e){const t=localStorage.getItem("sessionKey"),o=await this.postData("/watch_list/remove_user_title",{session_key:t,title_tmdb_id:e},null);return o||(console.error("[removeTitleFromUserList] response failed:",o),null)},async saveTitleNotes(e,t){const o=localStorage.getItem("sessionKey"),a=await this.postData("/watch_list/save_user_title_notes",{session_key:o,title_id:e,notes:t},null);return a||(console.error("[saveTitleNotes] response failed:",a),null)},async toggleTitleFavourite(e){const t=localStorage.getItem("sessionKey"),o=await this.postData("/watch_list/toggle_title_favourite",{session_key:t,title_id:e},null);return o||(console.error("[toggleTitleFavourite] response failed:",o),null)},async modifyTitleWatchCount(e,t,o){const a=localStorage.getItem("sessionKey"),s=await this.postData("/watch_list/modify_title_watch_count",{session_key:a,type:e,chosen_types_id:t,new_state:o},null);return s||(console.error("[modifyTitleWatchCount] response failed:",s),null)},async getTitleCards(e,t,o,a,s,n,i){let l={title_count:12};return l.session_key=localStorage.getItem("sessionKey"),null!=e&&(l.sort_by=e),null!=t&&(l.direction=t),null!=o&&(l.title_type=o),null!=a&&(l.watched=a),null!=s&&(l.favourite=s),null!=n&&(l.released=n),null!=i&&(l.started=i),this.getData("/watch_list/get_title_cards",l)},async listTitles(e){return this.getData("/watch_list/list_titles",{session_key:localStorage.getItem("sessionKey"),...e})},async getTitleInfo(e){let t={};return t.session_key=localStorage.getItem("sessionKey"),t.title_id=e,this.getData("/watch_list/get_title_info",t)}};var Tu=Cu,xu={name:"App",components:{TopBar:M},async mounted(){r(),Tu.getLoginStatus()}};const Su=(0,b.A)(xu,[["render",i]]);var Fu=Su,Du=o(961);(0,a.Ef)(Fu).use(Lu).component("v-select",Du.A).mount("#app")}},t={};function o(a){var s=t[a];if(void 0!==s)return s.exports;var n=t[a]={exports:{}};return e[a].call(n.exports,n,n.exports,o),n.exports}o.m=e,function(){var e=[];o.O=function(t,a,s,n){if(!a){var i=1/0;for(d=0;d<e.length;d++){a=e[d][0],s=e[d][1],n=e[d][2];for(var l=!0,r=0;r<a.length;r++)(!1&n||i>=n)&&Object.keys(o.O).every((function(e){return o.O[e](a[r])}))?a.splice(r--,1):(l=!1,n<i&&(i=n));if(l){e.splice(d--,1);var c=s();void 0!==c&&(t=c)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[a,s,n]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};o.O.j=function(t){return 0===e[t]};var t=function(t,a){var s,n,i=a[0],l=a[1],r=a[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(s in l)o.o(l,s)&&(o.m[s]=l[s]);if(r)var d=r(o)}for(t&&t(a);c<i.length;c++)n=i[c],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(d)},a=self["webpackChunkvue_dashboard_app"]=self["webpackChunkvue_dashboard_app"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=o.O(void 0,[504],(function(){return o(5921)}));a=o.O(a)})();
//# sourceMappingURL=app.0803fb9d.js.map